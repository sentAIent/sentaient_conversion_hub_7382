import{s as e,b as o,n as s,l as n,k as a}from"./FlashMessage-ghB6f3ER.js";import"./flashMessageQueue-C7gl3k6c.js";import"./dynamic-import-helper-CTnsj-vI.js";import"./array-YYQw31d9.js";import"./style-D-IRYiWS.js";import"./Logger-cMW5At62.js";import"./string-BBKP9xfj.js";import"./info-DdD9a7JK.js";import"./globalKeyEventManager-C6pBx38h.js";import"./icon-close-DRlspKs3.js";import"./_plugin-vue2_normalizer-DeUNqxFl.js";class i{constructor(){this.angle=50,this.move=10}load(o){o&&(void 0!==o.angle&&(this.angle=e(o.angle)),void 0!==o.move&&(this.move=e(o.move)))}}class t{constructor(){this.distance=5,this.enable=!1,this.speed=new i}load(s){if(s&&(void 0!==s.distance&&(this.distance=e(s.distance)),void 0!==s.enable&&(this.enable=s.enable),void 0!==s.speed))if(o(s.speed))this.speed.load({angle:s.speed});else{const e=s.speed;void 0!==e.min?this.speed.load({angle:e}):this.speed.load(s.speed)}}}const l=2*Math.PI;const d=2*Math.PI;class r{constructor(e){this.container=e}init(e){const o=e.options.wobble;(null==o?void 0:o.enable)?e.wobble={angle:n()*d,angleSpeed:a(o.speed.angle)/360,moveSpeed:a(o.speed.move)/10}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=a((null==o?void 0:o.distance)??0)*this.container.retina.pixelRatio}isEnabled(e){var o;return!e.destroyed&&!e.spawning&&!!(null==(o=e.options.wobble)?void 0:o.enable)}loadOptions(e,...o){e.wobble||(e.wobble=new t);for(const s of o)e.wobble.load(null==s?void 0:s.wobble)}update(e,o){this.isEnabled(e)&&function(e,o){const{wobble:n}=e.options,{wobble:a}=e;if(!(null==n?void 0:n.enable)||!a)return;const i=a.angleSpeed*o.factor,t=a.moveSpeed*o.factor*((e.retina.wobbleDistance??0)*o.factor)/(s/60),d=l,{position:r}=e;a.angle+=i,a.angle>d&&(a.angle-=d),r.x+=t*Math.cos(a.angle),r.y+=t*Math.abs(Math.sin(a.angle))}(e,o)}}export{r as WobbleUpdater};
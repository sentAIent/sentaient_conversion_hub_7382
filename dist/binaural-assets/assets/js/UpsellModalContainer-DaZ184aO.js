import{O as e,N as t}from"./dynamic-import-helper-CTnsj-vI.js";import{S as s}from"./SmoothReflow-QsxkeVSi.js";import{U as o}from"./enums-1c3kgXdw.js";import r from"./OverflowCarousel-d3_FiDF1.js";import{n as i}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import"./array-YYQw31d9.js";import"./style-D-IRYiWS.js";import"./Logger-cMW5At62.js";import"./string-BBKP9xfj.js";import"./ResizeSensor-ZXOsDHeC.js";import"./useAllComponentsMounted-VdWDSwjD.js";import"./constants-BpVlFj04.js";import"./icon-next-CI-_n-sg.js";const n=i(e({name:"UpsellModalContainer",components:{SmoothReflow:s,OverflowCarousel:r},props:{activeSubStep:{type:Object,required:!0},hidden:{type:Boolean,default:!1},commonProps:{type:Object,required:!0},eventSource:{type:String,required:!0}},emits:["error","dismiss","stepComplete","subStepComplete","goToSubStep"],computed:{upsells(){const e=[...this.commonProps.subSteps].sort(((e,t)=>e.name.localeCompare(t.name))),t=e.findIndex((e=>"upsellId"in e&&e.upsellId===o.GENERAL)),s=e.splice(t,1);return e.unshift(...s),e},props(){return{...this.commonProps,...this.activeSubStep.componentProps,substeps:null}}},mounted(){t(400).then((()=>{var e;null==(e=this.$el.querySelector(".sidebar .upsell.active"))||e.scrollIntoView({behavior:"smooth",block:"center"})}))},methods:{close(){m.trigger("modal:close")},openUpsell(e){const t=this.commonProps.subSteps.indexOf(e);t>=0&&this.$emit("goToSubStep",t)}}}),(function(){var e=this,t=e._self._c;return e._self._setupProxy,e.activeSubStep.component?t("div",{staticClass:"upsell-modal-container"},[t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.close,expression:"close"}],staticClass:"app onboarding new-upsell light light-full",attrs:{"data-test":"upsell"}},[t("div",{staticClass:"sidebar"},[t("overflow-carousel",[t("div",{staticClass:"upsell-wrapper"},e._l(e.upsells,(function(s){return t("div",{key:s.name,staticClass:"upsell",class:{active:e.activeSubStep===s},on:{click:function(t){return e.openUpsell(s)}}},[e._v(e._s(s.name))])})),0)])],1),t("smooth-reflow",{attrs:{"first-transition-disabled":!0,"hide-overflow":!0}},[t(e.activeSubStep.component,e._b({key:e.activeSubStep.name,tag:"component",attrs:{"sub-step":!0,"event-source":e.eventSource},on:{error:function(t){return e.$emit("error")},subStepComplete:function(t){return e.$emit("subStepComplete")},stepComplete:function(t){return e.$emit("stepComplete")},dismiss:function(t){return e.$emit("dismiss")}}},"component",e.props,!1))],1)],1)]):e._e()}),[],!1,null,"88c7b751").exports;export{n as default};
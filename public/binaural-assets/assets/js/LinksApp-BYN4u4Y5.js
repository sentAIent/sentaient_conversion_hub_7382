const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/LinksForm-cCNZfbIh.js","assets/js/AppHeader-A32plZRR.js","assets/js/AppHeaderControl-kJjUFX4q.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/css/AppHeaderControl-BU4A7Xbx.css","assets/js/constants-BfBD_H-d.js","assets/js/icon-close-DRlspKs3.js","assets/css/AppHeader-Cslc5PS9.css","assets/js/BaseForm-BjqauXKF.js","assets/js/FormMessage-D8y-6rLo.js","assets/js/icon-alert-BikrS7AG.js","assets/css/FormMessage-BcXv0ZVT.css","assets/js/dynamic-import-helper-CTnsj-vI.js","assets/js/array-YYQw31d9.js","assets/js/style-D-IRYiWS.js","assets/css/style-6nm_MYpP.css","assets/js/Logger-cMW5At62.js","assets/js/string-BBKP9xfj.js","assets/js/SmoothReflow-QsxkeVSi.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/js/useAllComponentsMounted-VdWDSwjD.js","assets/css/SmoothReflow-DzJ-QC-5.css","assets/css/BaseForm-CdgC6Psc.css","assets/js/FormInput-EzoeJ62n.js","assets/js/FormFieldWrapper-BVlpMs4u.js","assets/css/FormFieldWrapper-Bg7cTjMQ.css","assets/js/SoftFocus-BUhesXB-.js","assets/js/BaseItemList-C63B-RAD.js","assets/js/constants-BpVlFj04.js","assets/js/index-998LMmMn.js","assets/css/BaseItemList-XxKea_Ij.css","assets/js/drag-Dj1BzyoD.js","assets/js/icon-plus-B-FkYz15.js","assets/js/AppView-BMGOOodE.js","assets/css/AppView-CsYj23U-.css","assets/js/links-C4TPnqUd.js","assets/js/constants-Bt_TxKWw.js","assets/js/compareObjects-R6Hcs7xe.js","assets/js/pinia-B4IAWUO-.js","assets/js/FormToggle-CRXN1Mz8.js","assets/js/ToggleSwitch-BMo4SbmD.js","assets/css/ToggleSwitch-CTfmYf-M.css","assets/css/FormToggle-DUKt37kY.css","assets/js/BaseDropdownOption-tB3ldrjh.js","assets/js/constants-CALDQiUE.js","assets/css/BaseDropdownOption-DaYMTb1b.css","assets/js/AppConfirmCancel-Dbtq22vw.js","assets/js/globalKeyEventManager-C6pBx38h.js","assets/css/AppConfirmCancel-DbaOXcDd.css","assets/js/BaseDropdown-CB3yfeIu.js","assets/js/BaseDropdownContent-C68ik0op.js","assets/css/BaseDropdownContent-DKsGy_8Z.css","assets/js/portal-vue.esm-DdddSpdW.js","assets/js/icon-ellipsis-D7nTOXaQ.js","assets/css/BaseDropdown-CwtM7hMN.css","assets/js/FavIcon-DBY8fdra.js","assets/js/links-fallback-J-S_uhC9.js","assets/js/modal-qMFaWR5h.js","assets/js/enums-1c3kgXdw.js","assets/js/BaseIcon-BW2ar6VN.js","assets/css/BaseIcon-CPmL0n7V.css","assets/js/icon-trash-BSyM-ydR.js","assets/css/LinksForm-CP668jxh.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./style-D-IRYiWS.js";import t from"./AppPopup-D21ZzXTp.js";import{A as i}from"./AppLoading-DWsYUtJy.js";import{A as s}from"./AppViewSwitchDynamic-ChSgUDaf.js";import n from"./AppView-BMGOOodE.js";import o from"./AppHeader-A32plZRR.js";import{A as r}from"./AppEmpty-D5gk-S-2.js";import{O as a}from"./OptionsList-BFhHOG7l.js";import{persistent as p}from"./reactiveCustomization-CEUTOUc3.js";import{B as l}from"./BaseDropdownOption-tB3ldrjh.js";import{B as d}from"./BaseItemList-C63B-RAD.js";import{L as c,a as k}from"./LinksListItem-CAOvzNTF.js";import{b as u,L as w}from"./constants-Bt_TxKWw.js";import{u as f}from"./useAllComponentsMounted-VdWDSwjD.js";import{A as L}from"./AppConfirmCancel-Dbtq22vw.js";import{B as b}from"./BaseDropdown-CB3yfeIu.js";import{A as g}from"./AppHeaderControl-kJjUFX4q.js";import{at as h,au as j,b as v}from"./dynamic-import-helper-CTnsj-vI.js";import{p as y}from"./promisifiedChrome-vBWwQWBS.js";import{n as S}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{B as _}from"./BaseDropdownDivider-Bay0Demn.js";import{b as A}from"./constants-CALDQiUE.js";import{d as T}from"./focusModeState-BPyBLUbE.js";import I from"./BaseIcon-BW2ar6VN.js";import O from"./icon-plus-B-FkYz15.js";import"./ResizeSensor-ZXOsDHeC.js";import"./globalKeyEventManager-C6pBx38h.js";import"./array-YYQw31d9.js";import"./Logger-cMW5At62.js";import"./string-BBKP9xfj.js";import"./SmoothReflow-QsxkeVSi.js";import"./appViewSwitchMixin-BsLJ76Hr.js";import"./constants-BfBD_H-d.js";import"./icon-close-DRlspKs3.js";import"./VueBase-C55TLWt3.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./pinia-B4IAWUO-.js";import"./portal-vue.esm-DdddSpdW.js";import"./constants-BpVlFj04.js";import"./index-998LMmMn.js";import"./BaseDropdownText-2W0hM9-D.js";import"./FavIcon-DBY8fdra.js";import"./links-fallback-J-S_uhC9.js";import"./links-C4TPnqUd.js";import"./compareObjects-R6Hcs7xe.js";import"./icon-lock-BDcjUj_s.js";import"./icon-pin-5KioIhLy.js";import"./icon-edit-CgpGeR-V.js";import"./icon-trash-BSyM-ydR.js";import"./BaseDropdownContent-C68ik0op.js";import"./icon-ellipsis-D7nTOXaQ.js";import"./LocalStorageStoreSyncedItem-DMdfjgsv.js";const x=S({name:"LinksApp",components:{BaseIcon:I,LinksListItemNewTab:S({name:"LinksListItemNewTab",components:{BaseDropdownOption:l,BaseDropdown:b,LinksListItemIcon:c},inject:["capture"],props:{isTile:{type:Boolean,default:!1}},setup:()=>({browserName:h()}),computed:{openInNewTab:()=>m.models.bookmarksSettings.get("openInNewTab"),icon(){const e=h();if("Chrome"===e)return"chrome";if("Edge"===e)return"icon/browser/edge";if("Safari"===e)return"compass";throw new Error(`[Default New Tab] Platform not supported: ${e}`)}},methods:{open(e){this.capture("browser tab click"),y.tabs.openUrl(j(),this.openInNewTab||e.metaKey||"auxclick"===e.type,!0)},openSettings(){var e;null==(e=this.$refs["link-dropdown"])||e.closeDropdown(),m.commandManager.executeAsync("settings.display",null,{section:"bookmark-settings"})}}},(function(){var e=this,t=e._self._c;return t("li",{class:["link-list-item",{tile:e.isTile}],attrs:{"data-test":"chromium-list-item",title:`Default ${e.browserName} New Tab`},on:{click:e.open,auxclick:e.open}},[t("links-list-item-icon",{attrs:{"icon-src":e.icon}}),t("span",{staticClass:"link-title"},[e._v(e._s(e.browserName)+" Tab")]),t("base-dropdown",{ref:"link-dropdown",staticClass:"link-dropdown",attrs:{"container-class":"app","data-test":"chromium-list-item-dropdown",title:""}},[t("base-dropdown-option",{attrs:{"data-test":"chromium-item-settings"},on:{click:e.openSettings}},[e._v(" Settings ")])],1)],1)}),[],!1,null,"1e5c3621").exports,BaseDropdownDivider:_,BaseDropdown:b,AppConfirmCancel:L,AppHeaderControl:g,LinksForm:()=>e((()=>import("./LinksForm-cCNZfbIh.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62])),LinksListItem:k,BaseItemList:d,BaseDropdownOption:l,OptionsList:a,AppView:n,AppViewSwitchDynamic:s,AppLoading:i,AppPopup:t,AppHeader:o,AppEmpty:r},inject:["viewStateStore","itemStore"],setup:()=>({...f(),LinksMode:u,DropdownOptionSpacing:A}),computed:{newTabEnabled:()=>v()&&"links"===m.models.bookmarksSettings.get("chromeTabLocation"),loading(){return this.itemStore.loading},loaded(){return this.itemStore.loaded},activeView(){return this.viewStateStore.activeView},activeViewId(){return this.viewStateStore.activeViewId},listViewActive(){return this.activeViewId===w.List},pinnedLinksVisible(){const e=T.currentValue;return!this.pinnedEmpty&&(this.$mobile||e)},pinnedLinks(){return this.itemStore.getPinnedItems},pinnedLinksOrderIds:{get(){return this.pinnedLinks.map((e=>e.id))},async set(e){await this.itemStore.updatePartialRootLinksOrderIds(e)}},pinnedTeamLinks(){return this.itemStore.getPinnedTeamItems},links(){return this.itemStore.getUnPinnedItems},linksOrderIds:{get(){return this.links.map((e=>e.id))},async set(e){await this.itemStore.updatePartialRootLinksOrderIds(e)}},teamLinks(){return this.itemStore.getUnPinnedTeamItems},empty(){return this.loaded&&0===this.links.length&&!this.newTabEnabled},teamEmpty(){return this.loaded&&0===this.teamLinks.length},pinnedEmpty(){return this.loaded&&0===this.pinnedLinks.length&&0===this.pinnedTeamLinks.length},mode:{get:()=>p.linksMode,set(e){p.linksMode=e}}},methods:{async addLink(){this.itemStore.addItem(),await this.setActiveView(w.Form)},closePopup(){return this.viewStateStore.togglePopup(!1)},setActiveView(e){return this.viewStateStore.setActiveView(e)},openSettings(){var e;null==(e=this.$refs.settingsDropdown)||e.closeDropdown(),m.commandManager.executeAsync("settings.display",null,{section:"bookmark-settings"})},triggerAppOpenEvent(){m.trigger("links:updated")}}},(function(){var e=this,t=e._self._c;return t("app-popup",{attrs:{region:"top-left",position:"bottom-right","data-test":"links-app",focused:e.viewStateStore.focused},on:{close:e.closePopup},nativeOn:{click:function(t){return e.viewStateStore.focus()}}},[t("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"},on:{"after-enter":e.triggerAppOpenEvent}},[e.loading?t("app-loading"):e.loaded?t("div",{staticClass:"app-content"},[t("app-view-switch-dynamic",{attrs:{"order-key":e.activeView.order}},[e.listViewActive?t("app-view",{staticClass:"list links-list",attrs:{"data-test":"links-links-view"},scopedSlots:e._u([{key:"header",fn:function(){return[t("app-header",{attrs:{"data-test":"header"},on:{close:e.closePopup},scopedSlots:e._u([{key:"left",fn:function(){return[t("base-icon",{staticClass:"app-header-icon",attrs:{src:"icon/apps/links"}}),t("span",{staticClass:"app-header-name"},[e._v("Links")])]},proxy:!0},{key:"right",fn:function(){return[t("app-header-control",{attrs:{"data-test":"new"},on:{click:e.addLink}},[t("inline-svg",{staticClass:"icon icon-plus",attrs:{src:O}})],1),t("base-dropdown",{ref:"settingsDropdown"},[t("base-dropdown-option",{attrs:{spacing:e.DropdownOptionSpacing.Between},on:{click:function(t){e.mode=e.mode===e.LinksMode.List?e.LinksMode.Tile:e.LinksMode.List}}},[e._v(" Mode "),t("options-list",{attrs:{options:[{value:e.LinksMode.List,label:"List"},{value:e.LinksMode.Tile,label:"Tile"}]},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}})],1),t("base-dropdown-divider"),t("base-dropdown-option",{on:{click:e.openSettings}},[e._v(" Settings ")])],1)]},proxy:!0}],null,!1,2431093998)})]},proxy:!0},{key:"body",fn:function(){return[e.empty&&e.teamEmpty&&!e.pinnedLinksVisible&&!e.newTabEnabled?t("app-empty",{attrs:{title:"Add a link to get started","button-text":"Add Link","button-data-test":"new-link"},on:{buttonClick:e.addLink}}):[e.pinnedLinksVisible?[t("span",{staticClass:"label"},[e._v("Pinned")]),t("base-item-list",{attrs:{wrap:e.mode===e.LinksMode.Tile}},e._l(e.pinnedTeamLinks,(function(i){return t("links-list-item",{key:i.id,attrs:{"link-group":i,"is-tile":e.mode===e.LinksMode.Tile,"is-team-link":!0}})})),1),t("base-item-list",{attrs:{wrap:e.mode===e.LinksMode.Tile},model:{value:e.pinnedLinksOrderIds,callback:function(t){e.pinnedLinksOrderIds=t},expression:"pinnedLinksOrderIds"}},e._l(e.pinnedLinks,(function(i){return t("links-list-item",{key:i.id,attrs:{"link-group":i,"is-tile":e.mode===e.LinksMode.Tile}})})),1)]:e._e(),e.teamEmpty?e._e():[!e.empty||e.pinnedLinksVisible?t("span",{staticClass:"label"},[e._v("Team")]):e._e(),t("base-item-list",{attrs:{wrap:e.mode===e.LinksMode.Tile}},e._l(e.teamLinks,(function(i){return t("links-list-item",{key:i.id,attrs:{"link-group":i,"is-tile":e.mode===e.LinksMode.Tile,"is-team-link":!0}})})),1)],!e.empty&&!e.teamEmpty||e.pinnedLinksVisible&&!e.empty?t("span",{staticClass:"label"},[e._v(e._s(e.$team?"Personal":"Unpinned"))]):e._e(),t("base-item-list",{attrs:{wrap:e.mode===e.LinksMode.Tile},model:{value:e.linksOrderIds,callback:function(t){e.linksOrderIds=t},expression:"linksOrderIds"}},[e.newTabEnabled?t("links-list-item-new-tab",{key:"chrome-tab",attrs:{draggable:!1,"is-tile":e.mode===e.LinksMode.Tile}}):e._e(),e._l(e.links,(function(i){return t("links-list-item",{key:i.id,attrs:{"link-group":i,"is-tile":e.mode===e.LinksMode.Tile}})}))],2)]]},proxy:!0},{key:"confirm",fn:function(){return[e.viewStateStore.confirmationProps?t("app-confirm-cancel",e._b({},"app-confirm-cancel",e.viewStateStore.confirmationProps,!1)):e._e()]},proxy:!0}],null,!1,1080755724)}):t("links-form")],1)],1):e._e()],1)],1)}),[],!1,null,"c9ac8c62").exports;export{x as default};
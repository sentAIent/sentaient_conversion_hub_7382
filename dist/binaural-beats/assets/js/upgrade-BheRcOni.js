import{o}from"./embeddedApp-Bd9r3bdf.js";import{k as e,l as a,o as s,u as t,r}from"./dynamic-import-helper-CTnsj-vI.js";import{g as i}from"./experiments-6paecGsK.js";import{s as n}from"./enums-1c3kgXdw.js";import{u as c}from"./plusStatusBanner-lkA_UvaV.js";var d="https://api.momentumdash.com/";const p=()=>{var t;if(e()&&m.isLoggedIn())o();else{const o=null==(t=i("stripe_checkout"))?void 0:t.variantName;if("stripe_checkout"===o){const o=a(),e={source:"extension"};o&&(e.user_uuid=o),s(`${d}account/subscriptions/checkout?${new URLSearchParams(e).toString()}`,"_blank")}else"marketing_iframe"===o?m.cmd("modal.open",n.UPGRADE):m.cmd("window.account.open.login","upgrade")}},u=async()=>{await t((()=>r.readyForWidgets)).toBe(!0),await t((()=>r.introductionActive)).toBe(!1);const o=c().activeSubscriptionSummaryStore;o.loaded||o.loading||o.refresh(),await t((()=>o.loaded)).toBe(!0)};export{p as o,u as s};
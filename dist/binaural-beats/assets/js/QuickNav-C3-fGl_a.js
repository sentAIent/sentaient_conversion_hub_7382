import{A as t}from"./dynamic-import-helper-CTnsj-vI.js";import{a as o}from"./modal-qMFaWR5h.js";import{n as s}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{u as i}from"./useAllComponentsMounted-VdWDSwjD.js";import e from"./switch-1q_g_nt5.js";import"./array-YYQw31d9.js";import"./style-D-IRYiWS.js";import"./Logger-cMW5At62.js";import"./string-BBKP9xfj.js";import"./enums-1c3kgXdw.js";const n=s({name:"QuickNav",components:{QuickNavOptionsList:s({name:"QuickNavOptionsList",unreactive:()=>({iconsLoaded:0}),props:{options:{type:Object,default:()=>{}},active:{type:String,default:""},region:{type:String,default:""}},methods:{switchTo(s){const i=this.options[s].upsell;!this.$plus&&i&&o(i,`${this.region} nav`),this.$emit("switch-to",s);const e=this.options[s].feature||s,n=this.options[s].eventName||e;t.capture(n+" activate",{feature:e})},onLoad(){this.iconsLoaded++,this.iconsLoaded===Object.keys(this.options).length&&this.$emit("iconsLoaded")}}},(function(){var t=this,o=t._self._c;return o("nav",{staticClass:"nav"},t._l(t.options,(function(s,i){return o("div",{key:i,staticClass:"nav-item",class:{active:t.active===i},attrs:{"data-test":i+"-opt"},on:{click:function(o){return t.switchTo(i)}}},[o("inline-svg",{class:"nav-icon icon icon-"+i,attrs:{src:s.icon},on:{loaded:function(o){return t.onLoad(i)}}}),o("div",{staticClass:"nav-title"},[t._v(t._s(s.name))]),o("span",{staticClass:"tooltip"},[t._v(t._s(s.name))])],1)})),0)}),[],!1,null,"ed47e8ac").exports},props:{active:{type:String,default:""},options:{type:Object,default:()=>{}},region:{type:String,default:""}},setup:()=>({...i()}),data:()=>({open:!1,openToRight:!1,dropdownActive:!1}),created(){m.on("globalEvent:esc",this.close)},destroyed(){m.off("globalEvent:esc",this.close)},methods:{onSvgLoad(){m.trigger(this.region+"Nav:loaded")},openNav(){this.openToRight=!1,this.open=!0},switchTo(t){this.$emit("switch-to",t),this.close()},close(){this.open&&(this.open=!1)},onOptionsIconsLoad(){this.$refs.options.$el.getBoundingClientRect().left<0&&(this.openToRight=!0)}}},(function(){var t=this,o=t._self._c;return o("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.close,expression:"close"}],staticClass:"container quick-nav",class:{"open-to-right":t.openToRight},attrs:{"data-test":`${t.region}-nav`}},[o("div",{staticClass:"icon-wrapper dash-icon-wrapper",attrs:{"data-test":`open-${t.region}-nav`,"data-ob":`${t.region}-nav`},on:{click:t.openNav}},[o("inline-svg",{staticClass:"dash-icon icon icon-toggle",attrs:{src:e},on:{loaded:t.onSvgLoad}})],1),o("transition",{attrs:{name:"open"}},[t.open?o("quick-nav-options-list",t._b({ref:"options",on:{iconsLoaded:t.onOptionsIconsLoad,"switch-to":t.switchTo}},"quick-nav-options-list",t.$props,!1)):t._e()],1)],1)}),[],!1,null,"24557a63").exports;export{n as default};
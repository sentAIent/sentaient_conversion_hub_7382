const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/pomodoroCompleted-B2E_m1QL.js","assets/js/dynamic-import-helper-CTnsj-vI.js","assets/js/array-YYQw31d9.js","assets/js/style-D-IRYiWS.js","assets/css/style-6nm_MYpP.css","assets/js/Logger-cMW5At62.js","assets/js/string-BBKP9xfj.js","assets/js/persistStore-BDYPfxbs.js","assets/js/focusModeState-BPyBLUbE.js","assets/js/LocalStorageStoreSyncedItem-DMdfjgsv.js","assets/js/PomodoroTimers-CyrfcuWH.js","assets/js/reactiveCustomization-CEUTOUc3.js","assets/js/VueBase-C55TLWt3.js","assets/js/_commonjsHelpers-B3K3fdV-.js","assets/js/ClickOutside-DCLvi2fj.js","assets/js/pinia-B4IAWUO-.js","assets/js/portal-vue.esm-DdddSpdW.js","assets/js/promisifiedChrome-vBWwQWBS.js","assets/js/login-HJtMK9QU.js","assets/js/authService-UjcjSrh8.js","assets/js/auth-BwdMrzFn.js","assets/js/legacyUserMigration-CaazFMYU.js","assets/js/enums-1c3kgXdw.js","assets/js/migrateLegacyUserMessageHandler-CZ8nZZlg.js","assets/js/onboarding-B35lV45t.js","assets/js/modal-qMFaWR5h.js"])))=>i.map(i=>d[i]);
import{_ as o}from"./style-D-IRYiWS.js";import{persistent as t}from"./reactiveCustomization-CEUTOUc3.js";import{S as e}from"./SmoothReflow-QsxkeVSi.js";import{u as s}from"./useAllComponentsMounted-VdWDSwjD.js";import{n as r}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{T as c}from"./index-CypNqh9b.js";import{s as a}from"./showAnyway-8ON2gVJd.js";import{c as i,u as n,A as p}from"./dynamic-import-helper-CTnsj-vI.js";import{B as l}from"./BaseDropdownOption-tB3ldrjh.js";import{B as d}from"./BaseDropdown-CB3yfeIu.js";import u from"./AppHeader-A32plZRR.js";import h from"./BaseIcon-BW2ar6VN.js";import{T as w}from"./ToggleSwitch-BMo4SbmD.js";import{T as k,a as f}from"./PomodoroTimers-CyrfcuWH.js";import{C as g,a as C,c as j,b as _}from"./ClockSwitcherDropdown-YXyz5IOU.js";import{a as v}from"./modal-qMFaWR5h.js";import{U as y}from"./enums-1c3kgXdw.js";import{B as D}from"./BaseDropdownDivider-Bay0Demn.js";import"./VueBase-C55TLWt3.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./pinia-B4IAWUO-.js";import"./portal-vue.esm-DdddSpdW.js";import"./array-YYQw31d9.js";import"./Logger-cMW5At62.js";import"./string-BBKP9xfj.js";import"./ResizeSensor-ZXOsDHeC.js";import"./localStorage-B4mFdj8F.js";import"./legacyUserMigration-CaazFMYU.js";import"./migrateLegacyUserMessageHandler-CZ8nZZlg.js";import"./auth-BwdMrzFn.js";import"./persistStore-BDYPfxbs.js";import"./embeddedApp-Bd9r3bdf.js";import"./experiments-6paecGsK.js";import"./flashMessageQueue-C7gl3k6c.js";import"./info-DdD9a7JK.js";import"./constants-Bt_TxKWw.js";import"./index-DHG7crjO.js";import"./appZStack-Zxx-wHpo.js";import"./promisifiedChrome-vBWwQWBS.js";import"./modal-BWwnzHDf.js";import"./constants-CALDQiUE.js";import"./BaseDropdownContent-C68ik0op.js";import"./index-998LMmMn.js";import"./icon-ellipsis-D7nTOXaQ.js";import"./AppHeaderControl-kJjUFX4q.js";import"./constants-BfBD_H-d.js";import"./icon-close-DRlspKs3.js";import"./BaseDropdownText-2W0hM9-D.js";import"./switch-1q_g_nt5.js";const S=r({name:"Clock",components:{ThreeColLayout:c,SmoothReflow:e,DefaultClock:r({name:"DefaultClock",setup:()=>({...s()}),computed:{timeString:()=>m.models.date.getTimeString(),hours(){return this.timeString.split(":")[0]},minutes(){return this.timeString.split(":")[1]}}},(function(){var o=this,t=o._self._c;return t("div",{staticClass:"default-clock",attrs:{"data-test":"default-clock"}},[t("span",{staticClass:"time",attrs:{"data-test":"default-clock-time"}},[t("span",{staticClass:"hours",attrs:{"data-test":"default-clock-hours"}},[o._v(o._s(o.hours))]),t("span",{staticClass:"colon"},[o._v(":")]),t("span",{staticClass:"minutes",attrs:{"data-test":"default-clock-minutes"}},[o._v(o._s(o.minutes))])])])}),[],!1,null,"1dbb8ee6").exports,PercentClock:r({name:"PercentClock",setup:()=>({...s()}),computed:{balance:()=>m.models.balanceMode}},(function(){var o=this,t=o._self._c;return t("span",{staticClass:"percent-clock",attrs:{"data-test":"percent-clock"}},[t("div",{staticClass:"time"},[o._v(" "+o._s(o.balance.get("percent"))),t("span",{staticClass:"format percent-format"},[o._v("%")])])])}),[],!1,null,"c97a5070").exports,BaseDropdownOption:l,BaseDropdown:d,AppHeader:u,BaseIcon:h,ToggleSwitch:w,ClockSwitcherDropdown:g,ClockSwitcherContent:C,BaseDropdownDivider:D},props:{quickNavVisible:{type:Boolean,default:!0}},setup:()=>({...s(),showAnyway:a,dropdown:i()}),computed:{activeClock(){return this.percentClock?"percent":"clock"},percentClock:()=>t.percentClock,hour12clock:()=>t.hour12clock,modeOptions(){return[j[_.Clock],j[k.Timer],j[_.Percent]].filter((o=>o.id!==this.activeClock))},currentMode(){return j[this.percentClock?_.Percent:_.Clock]}},methods:{async switchClock(e){if(this.activeClock!==e){switch(this.closeDropdown(),e){case _.Clock:t.percentClock=!1;break;case k.Timer:if(!this.$plus)return v(y.POMODORO,"clock dropdown");const e=(await o((()=>import("./pomodoroCompleted-B2E_m1QL.js").then((o=>o.b))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]))).usePomodoroSessionStore();await n((()=>e.loaded)).toBe(!0),await e.switchTo(f.Focus,{startPlaying:!1}),this.$emit("pomodoro-show",!0);break;case _.Percent:t.percentClock=!0}p.capture("clock switch",{feature:"default clock",new_value:e})}},openDropdown(){this.dropdown.openDropdown()},closeDropdown(){this.dropdown.closeDropdown()},toggle12hFormat(){t.hour12clock=!t.hour12clock,p.capture("clock format toggle",{feature:"default clock",new_value:this.hour12clock?"12h":"24h"})},openScheduleSettings(){this.$plus?(m.commandManager.executeAsync("settings.display",null,{scheduleVisible:!0,section:"balance"}),this.closeDropdown(),p.capture("edit schedule click",{feature:"percent clock",is_paid_event:!0})):v(y.BALANCE_MODE,"dash")},triggerClockDropdownToggledEvent(){m.trigger("clock:dropdownToggled")}}},(function(){var o=this,t=o._self._c;return t("three-col-layout",{staticClass:"app-container clock center-clock has-dash-icon",class:{"show-anyway":o.showAnyway.includes("clock")},attrs:{"data-show-anyway":"clock","data-test":"center-clock"},scopedSlots:o._u([{key:"center",fn:function(){return[t("smooth-reflow",{staticClass:"clocks-reflow",attrs:{"await-apps-ready":"",height:!1,width:!0,"transition-duration":1e3,duration:100,transition:"smooth-width-fade"}},[t("div",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:o.openDropdown,expression:"openDropdown"}],key:o.activeClock,on:{dblclick:o.openDropdown}},[o.percentClock?t("percent-clock"):t("default-clock")],1)])]},proxy:!0},{key:"right",fn:function(){return[t("div",{staticClass:"clock-dropdown"},[t("base-dropdown",{ref:"dropdown",attrs:{"min-width":"230px","container-class":"app clock-dropdown-container dash","data-test":"more-toggle"},on:{toggle:o.triggerClockDropdownToggledEvent}},[t("app-header",{on:{close:function(t){var e;null==(e=o.dropdown)||e.closeDropdown()}},scopedSlots:o._u([{key:"left",fn:function(){return[t("base-icon",{staticClass:"app-header-icon",attrs:{size:"16px",src:o.currentMode.icon||""}}),t("span",{staticClass:"app-header-name"},[o._v(o._s(o.currentMode.label))])]},proxy:!0},{key:"right",fn:function(){return[o.$touch?o._e():t("clock-switcher-dropdown",{attrs:{"mode-options":o.modeOptions},on:{switchTo:o.switchClock}})]},proxy:!0}])}),o.$touch?t("clock-switcher-content",{attrs:{"mode-options":o.modeOptions},on:{switchTo:o.switchClock}}):o._e(),o.$touch?t("base-dropdown-divider"):o._e(),o.percentClock?o._e():t("base-dropdown-option",{attrs:{"data-test":"hour-format"},on:{click:o.toggle12hFormat}},[t("span",[o._v("24-hour clock")]),t("span",{staticClass:"toggle-right"},[t("toggle-switch",{attrs:{value:!o.hour12clock}})],1)]),o.percentClock?t("base-dropdown-option",{attrs:{"data-test":"edit-schedule"},on:{click:o.openScheduleSettings}},[t("span",[o._v("Edit schedule")])]):o._e()],1)],1)]},proxy:!0}])})}),[],!1,null,"cfe2ab2a").exports;export{S as default};
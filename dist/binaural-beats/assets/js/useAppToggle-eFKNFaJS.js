import{F as e,G as t}from"./dynamic-import-helper-CTnsj-vI.js";const o=(o,{analytics:p,resetActiveView:a}={})=>{const c=o(),i=null==p?void 0:p.capture.bind(p),u=null==p?void 0:p.batchCapture.bind(p),n=e((()=>c.popupActive)),s=async e=>{const t="boolean"!=typeof e;t&&n.value&&!c.focused?c.focus():await c.togglePopup(t?void 0:e,{resetActiveView:a})};return t("capture",i||(()=>{})),t("batchCapture",u||(()=>{})),{popupActive:n,togglePopupAndCaptureIfOpen:async e=>{if(await s(),n.value){const t=e instanceof KeyboardEvent?"hotkey":"click";null==i||i("app show",{source:t})}},closePopup:async()=>{await c.togglePopup(!1,{resetActiveView:a})},togglePopup:s}};export{o as u};
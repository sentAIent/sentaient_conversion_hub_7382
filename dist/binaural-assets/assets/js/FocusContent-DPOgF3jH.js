import{u as o}from"./useAllComponentsMounted-VdWDSwjD.js";import{T as t}from"./index-CypNqh9b.js";import{c as s}from"./main-C-oeuxTe.js";import{persistent as e}from"./reactiveCustomization-CEUTOUc3.js";import{c as r,q as a,A as n}from"./dynamic-import-helper-CTnsj-vI.js";import{D as i}from"./DashCheckbox-DB53PsWQ.js";import{a as p}from"./modal-qMFaWR5h.js";import{U as c}from"./enums-1c3kgXdw.js";import{B as d}from"./BaseDropdown-CB3yfeIu.js";import{B as l}from"./BaseDropdownOption-tB3ldrjh.js";import u from"./BaseIcon-BW2ar6VN.js";import{n as f}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import"./Logger-cMW5At62.js";import"./array-YYQw31d9.js";import"./pinia-B4IAWUO-.js";import"./localStorage-B4mFdj8F.js";import"./legacyUserMigration-CaazFMYU.js";import"./style-D-IRYiWS.js";import"./migrateLegacyUserMessageHandler-CZ8nZZlg.js";import"./auth-BwdMrzFn.js";import"./persistStore-BDYPfxbs.js";import"./embeddedApp-Bd9r3bdf.js";import"./experiments-6paecGsK.js";import"./flashMessageQueue-C7gl3k6c.js";import"./info-DdD9a7JK.js";import"./constants-Bt_TxKWw.js";import"./index-DHG7crjO.js";import"./appZStack-Zxx-wHpo.js";import"./ResizeSensor-ZXOsDHeC.js";import"./promisifiedChrome-vBWwQWBS.js";import"./modal-BWwnzHDf.js";import"./VueBase-C55TLWt3.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./portal-vue.esm-DdddSpdW.js";import"./daily-goal-DXmLNw7i.js";import"./search-_4L9pO9R.js";import"./calendar-C-iEpGgd.js";import"./SettingsTypes-BotgHBzA.js";import"./focusModeState-BPyBLUbE.js";import"./LocalStorageStoreSyncedItem-DMdfjgsv.js";import"./string-BBKP9xfj.js";import"./BaseDropdownContent-C68ik0op.js";import"./constants-CALDQiUE.js";import"./index-998LMmMn.js";import"./icon-ellipsis-D7nTOXaQ.js";const j=f({name:"FocusContent",components:{BaseIcon:u,BaseDropdownOption:l,BaseDropdown:d,DashCheckbox:i,ThreeColLayout:t},props:{focus:{type:Object,default:()=>({})},inPomodoro:{type:Boolean,default:!1}},setup:()=>({...o(),centerBelowMetadata:s,dropdown:r()}),computed:{autofocusLabel(){return(this.autoFocus?"Turn off":"Turn on")+" Top task in center"},autoFocus:()=>e.autoFocus},watch:{focus:{handler(){a((()=>m.trigger("focus-content:updated")))},immediate:!0}},methods:{handleDropdownClick(o){this.closeDropdown(),this.$emit(o)},toggleAutoFocus(){this.closeDropdown(),m.commandManager.execute("todo.toggle.autofocus",null,{sourceApp:"Focus",eventSource:"focus"})},startPomodoroTimer(){this.closeDropdown(),this.$plus?(m.trigger("pomodoro:show"),localStorage.setItem("pomodoro-focus-timer",!0),n.capture("start pomodoro timer click",{feature:"focus",is_paid_event:!0})):p(c.POMODORO,"focus")},complete(){this.$emit("complete")},afterEnter(){m.trigger("focus-content:updated")},openDropdown(){var o;null==(o=this.dropdown)||o.openDropdown()},closeDropdown(){var o;null==(o=this.dropdown)||o.closeDropdown()}}},(function(){var o=this,t=o._self._c;return t("div",{staticClass:"focus-content"},[o.inPomodoro?o._e():t("h3",{staticClass:"focus-title"},[o._v("Today")]),t("transition",{attrs:{name:"fade",mode:"out-in"},on:{"after-enter":o.afterEnter}},[t("three-col-layout",{key:o.focus.focus,staticClass:"focus-row",class:{complete:o.focus.completed},scopedSlots:o._u([{key:"left",fn:function(){return[o._t("nav"),t("dash-checkbox",{attrs:{"data-test":"complete",value:!!o.focus.completed},on:{input:o.complete}})]},proxy:!0},{key:"center",fn:function(){return[t("div",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:o.openDropdown.bind(null),expression:"openDropdown.bind(null)"}],staticClass:"todays-focus",attrs:{"data-test":"focus-active"},on:{dblclick:o.openDropdown}},[o._v(" "+o._s(o.focus.focus)+" ")])]},proxy:!0},{key:"right",fn:function(){return[t("base-dropdown",{ref:"dropdown",staticClass:"focus-dropdown",attrs:{"data-test":"more-toggle","container-class":"dash"},scopedSlots:o._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"icon-wrapper dark dark-full"},[t("base-icon",{staticClass:"icon",attrs:{src:"icon-ellipsis",size:"15px"}})],1)]},proxy:!0}])},[o.focus.completed?o._e():t("base-dropdown-option",{attrs:{"data-test":"edit"},nativeOn:{click:function(t){return o.handleDropdownClick("edit")}}},[t("base-icon",{attrs:{src:"pencil"}}),t("span",[o._v("Edit")])],1),t("base-dropdown-option",{attrs:{"data-test":"clear"},nativeOn:{click:function(t){return o.handleDropdownClick("archive")}}},[t("base-icon",{attrs:{src:"x"}}),t("span",[o._v("Clear")])],1),o.focus.completed?t("base-dropdown-option",{attrs:{"data-test":"new"},nativeOn:{click:function(t){return o.handleDropdownClick("new")}}},[t("base-icon",{attrs:{src:"plus"}}),t("span",[o._v("New")])],1):o._e(),t("base-dropdown-option",{attrs:{"data-test":"pomodoro-timer"},nativeOn:{click:function(t){return o.startPomodoroTimer.apply(null,arguments)}}},[t("base-icon",{attrs:{src:"icon/apps/pomodoro"}}),t("span",[o._v("Start Pomodoro Timer")]),o.$plus?o._e():t("div",{staticClass:"badge badge-plus"},[o._v("PLUS")])],1),t("base-dropdown-option",{attrs:{"data-test":"autofocus"},nativeOn:{click:function(t){return o.toggleAutoFocus.apply(null,arguments)}}},[t("base-icon",{attrs:{src:o.autoFocus?"pause":"play"}}),t("span",[o._v(o._s(o.autofocusLabel))]),o.$plus?o._e():t("div",{staticClass:"badge badge-plus"},[o._v("PLUS")])],1)],1)]},proxy:!0}],null,!0)})],1)],1)}),[],!1,null,"0c21f90a").exports;export{j as default};
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/OnboardingNotificationIntroduction-ByvvqhOQ.js","assets/js/dynamic-import-helper-CTnsj-vI.js","assets/js/array-YYQw31d9.js","assets/js/style-D-IRYiWS.js","assets/css/style-6nm_MYpP.css","assets/js/Logger-cMW5At62.js","assets/js/string-BBKP9xfj.js","assets/js/Popup-CK9iWfQK.js","assets/js/BaseIcon-BW2ar6VN.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/css/BaseIcon-CPmL0n7V.css","assets/js/BaseDropdownContent-C68ik0op.js","assets/js/constants-CALDQiUE.js","assets/js/index-998LMmMn.js","assets/css/BaseDropdownContent-DKsGy_8Z.css","assets/css/Popup-1eUR5ktp.css","assets/css/OnboardingNotificationIntroduction-NY8C_Ay_.css","assets/js/SubStepTipsContainer-qNi6D4aT.js","assets/js/OnboardingVideoModalIntroduction-B16xpWBL.js","assets/js/ModalBox-B_GYxUd3.js","assets/js/close-IeUcFsRm.js","assets/css/ModalBox-vWD54J7l.css","assets/css/OnboardingVideoModalIntroduction-BXB5dL3L.css","assets/js/OnboardingVideoNotificationIntroduction-B07vasSu.js","assets/css/OnboardingVideoNotificationIntroduction-DP3thBAA.css","assets/js/UpsellModalContainer-DaZ184aO.js","assets/js/SmoothReflow-QsxkeVSi.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/js/useAllComponentsMounted-VdWDSwjD.js","assets/css/SmoothReflow-DzJ-QC-5.css","assets/js/enums-1c3kgXdw.js","assets/js/OverflowCarousel-d3_FiDF1.js","assets/js/constants-BpVlFj04.js","assets/js/icon-next-CI-_n-sg.js","assets/css/OverflowCarousel-eEMC8kQU.css","assets/css/UpsellModalContainer-DEBoGZuy.css","assets/js/PlusGateUpsell-CUy_a27V.js","assets/js/UpsellModal-CpH5kCga.js","assets/js/icon-back-D7vBl-rG.js","assets/js/icon-close-DRlspKs3.js","assets/js/upgrade-BheRcOni.js","assets/js/embeddedApp-Bd9r3bdf.js","assets/js/auth-BwdMrzFn.js","assets/js/persistStore-BDYPfxbs.js","assets/js/experiments-6paecGsK.js","assets/js/plusStatusBanner-lkA_UvaV.js","assets/js/SubscriptionSummary-BTlVYU_L.js","assets/js/icon-clean-C-ZtxDm4.js","assets/css/UpsellModal-C9W6W914.css","assets/js/icon-integrations-CJvt3t6J.js","assets/js/icon-photo-match-COcZsWYu.js","assets/js/icon-color-DWYYkiUn.js","assets/js/icon-easy-access-BLZqwSdU.js","assets/js/icon-skip-NKABUUyQ.js","assets/js/icon-more-lists-q-EqWctg.js","assets/css/PlusGateUpsell-Bqe9vjM0.css","assets/js/AiChatUpsell-CHO_RuXc.js","assets/js/easy-BlSSSWfE.js","assets/js/secure-Hzc_2W5D.js","assets/css/AiChatUpsell-DJFB1_-o.css","assets/js/AutofocusUpsell-C2h30EQv.js","assets/js/icon-focused-CGtSWngL.js","assets/js/icon-flow-BEQ4ibGr.js","assets/css/AutofocusUpsell-B-jTL8Fn.css","assets/js/BalanceModeUpsell-CYC2DtHd.js","assets/js/icon-hourly-D31VLw0V.js","assets/js/icon-balance-BEQ4ibGr.js","assets/js/icon-percent-schedule-sFliviMo.js","assets/css/BalanceModeUpsell-BY8aALak.css","assets/js/CountdownsUpsell-iO2Em9kw.js","assets/js/icon-time-sensitive-CFkxJVUs.js","assets/js/icon-history-CkMEKT56.js","assets/css/CountdownsUpsell-IUlhfokc.css","assets/js/FocusModeUpsell-C48uj9kY.js","assets/js/focusModeState-BPyBLUbE.js","assets/js/LocalStorageStoreSyncedItem-DMdfjgsv.js","assets/js/focusModeHelpers-tDECULZC.js","assets/js/reactiveCustomization-CEUTOUc3.js","assets/js/VueBase-C55TLWt3.js","assets/js/_commonjsHelpers-B3K3fdV-.js","assets/js/ClickOutside-DCLvi2fj.js","assets/js/pinia-B4IAWUO-.js","assets/js/portal-vue.esm-DdddSpdW.js","assets/js/PomodoroTimers-CyrfcuWH.js","assets/js/constants-BfBD_H-d.js","assets/js/focus-mode-TgjJstn5.js","assets/js/icon-habit-CyobjhAa.js","assets/js/icon-spiral-BpNIPel8.js","assets/css/FocusModeUpsell-CAk9C6J6.css","assets/js/MantrasUpsell-DgqmMqU8.js","assets/js/icon-personalize-D-Q8P7CA.js","assets/js/icon-random-BazfyaSQ.js","assets/css/MantrasUpsell-BfknIMJC.css","assets/js/MetricsUpsell-BTZl5Ruh.js","assets/js/icon-top-of-mind-KY8a3NL1.js","assets/js/icon-multiple-types-C6o5Zl9-.js","assets/js/icon-fitness-CuDP5A24.js","assets/css/MetricsUpsell-BqePBRZS.css","assets/js/MultiTodoUpsell-CaKB-OrR.js","assets/js/icon-kanban-uT_SjwUN.js","assets/css/MultiTodoUpsell-DY0EEZRl.css","assets/js/NotesUpsell-CWe3TrxY.js","assets/js/sparks-Vj9MgeFM.js","assets/js/brain-CoODe7UU.js","assets/css/NotesUpsell-Co6smMz9.css","assets/js/PhotosUpsell-DNfk5rDt.js","assets/js/icon-personalize-photos-D39q7YXV.js","assets/css/PhotosUpsell-BwGg__C3.css","assets/js/PomodoroUpsell-BIxap2ng.js","assets/js/icon-focus-stats-6W6jP5A2.js","assets/js/icon-customize-timers-DgMgSftf.js","assets/css/PomodoroUpsell-CodhuY8G.css","assets/js/QuotesUpsell-C80R5vIe.js","assets/css/QuotesUpsell-DJHeQ3Dt.css","assets/js/SoundsUpsell-BN-5JsyJ.js","assets/js/icon-headphones-BCOAFhua.js","assets/js/icon-audio-file-C5z8NBT3.js","assets/js/icon-soundwave-Cp4ZlUlZ.js","assets/css/SoundsUpsell-on8LNoae.css","assets/js/TabGroupsUpsell-Dto_F0fr.js","assets/js/icon-simplify-CH0ObbhY.js","assets/js/icon-infinity-BYguCjws.js","assets/css/TabGroupsUpsell-aB5uydtQ.css","assets/js/TabStashUpsell-B7zqmqhY.js","assets/js/icon-sync-CUBUs3QH.js","assets/css/TabStashUpsell-_KuSJOl2.css","assets/js/ThemesUpsell-BpUR9-Yl.js","assets/js/icon-custom-theme-D39q7YXV.js","assets/js/icon-more-fonts-CkIvMWOQ.js","assets/css/ThemesUpsell-Abqy-kpB.css","assets/js/TodoIntegrationsUpsell-BK_oyjTa.js","assets/js/icon-asana-CHXQNqTn.js","assets/js/icon-basecamp-B7R9CqXM.js","assets/js/icon-clickup-DJvBy36z.js","assets/js/icon-custom-soundscapes-C9DIWXTy.js","assets/js/icon-fullscreen-CLpPfUm0.js","assets/js/icon-github-Cg7Jlm6t.js","assets/js/icon-global-weather-DFqlm1rO.js","assets/js/icon-google-tasks-DffuYEQ2.js","assets/js/icon-happy-place-DmSiv1GS.js","assets/js/icon-hub-Du_fUHGa.js","assets/js/icon-microsoft-todo-CG5-eqQU.js","assets/js/icon-note-search-IZ_87Cw-.js","assets/js/icon-search-loc-OzW-f2Jw.js","assets/js/icon-simple-notes-BesprUxs.js","assets/js/icon-timezones-Vj-X_9v-.js","assets/js/icon-todoist-zkOUMnhb.js","assets/js/icon-trello-B_C5tSSW.js","assets/js/icon-weather-extra-Wd9LFvRq.js","assets/css/TodoIntegrationsUpsell-BfA9dSGL.css","assets/js/WeatherUpsell-GeIOLrjt.js","assets/css/WeatherUpsell-B5QHjfxY.css","assets/js/WorldClocksUpsell-B0gERj42.js","assets/js/SiteBlockerUpsell--FeCdS_d.js","assets/js/ban-C8xjo91W.js","assets/js/square-check-CyN_ERxV.js","assets/js/biceps-flexed-BDmy6yoM.js","assets/css/SiteBlockerUpsell-4Or2oRrF.css","assets/js/streaks-C-_kXOaw.js","assets/js/OnboardingUseAccount-B4Zi-dPQ.js","assets/js/ssoHelpers-_cs2Ox3E.js","assets/js/authService-UjcjSrh8.js","assets/js/legacyUserMigration-CaazFMYU.js","assets/js/migrateLegacyUserMessageHandler-CZ8nZZlg.js","assets/js/helpers-BTpQmO5s.js","assets/js/TabLeaderElection-Ddi84wmm.js","assets/js/onboarding-B35lV45t.js","assets/js/compareObjects-R6Hcs7xe.js","assets/js/modal-BWwnzHDf.js","assets/js/login-HJtMK9QU.js","assets/js/icon-confetti-BvRSomF2.js","assets/js/siteBlockerGroups-BbPmPcem.js","assets/js/constants-Dqx3dGLK.js","assets/js/SettingsTypes-BotgHBzA.js","assets/js/accessToken-Cx8MZLdN.js","assets/js/tasksMockData-CwjLszHJ.js","assets/js/tasksViewState-qOrGChOD.js","assets/js/ViewState-DH0LvQYq.js","assets/js/appZStack-Zxx-wHpo.js","assets/css/OnboardingUseAccount-CxTqheZy.css","assets/js/UpgradeModal-iy_nPo9y.js","assets/js/IframeHost-Dnpo_9cQ.js","assets/js/IframeMessenger-Bn2-eCAG.js","assets/js/icon-error-state-DPDi2Xf2.js","assets/css/IframeHost-DvFWh4FN.css","assets/js/feel-focused-Cmh8GW4d.js","assets/js/stay-on-task-C4IAAUIP.js","assets/js/tasks-completed-g7itYxRk.js","assets/js/partner-WB-8CHBi.js","assets/js/star-CbN1Y0Dx.js","assets/js/ModalLayout-OBC-SK4L.js","assets/css/ModalLayout-Di888OSg.css","assets/css/UpgradeModal-CmPv8F6b.css","assets/js/OneTimeLogin-B0ieIlLg.js","assets/js/oneTimeLoginService-BFyldxb0.js","assets/css/OneTimeLogin-CPUDoLrR.css","assets/js/Login-GNV8UglG.js","assets/css/Login-DghhUv9g.css","assets/js/LoginName-AfMNn-1T.js","assets/js/loginStepMixin-BXtcjtUB.js","assets/css/loginStepMixin-CiZN3zMj.css","assets/js/LoginInput-4iSWOIf5.js","assets/js/SoftFocus-BUhesXB-.js","assets/js/MobileBlur-B2s9dLKD.js","assets/css/LoginInput-Dl-Ud8LM.css","assets/css/LoginName-B_SY1GJM.css","assets/js/LoginEmail-BTE3E2Dh.js","assets/js/LoginChoosePassword-BOG-Oopt.js","assets/js/LoginPasswordInput-DMvQMyJw.js","assets/js/icon-visible-on-DF1CdqCc.js","assets/js/icon-visible-off-CwNdVUTo.js","assets/css/LoginPasswordInput-BhaeJAQu.css","assets/js/LoginEnterPassword-DYLtWQSx.js","assets/js/icon-key-DzBZs7wb.js","assets/js/LoginResetPassword-CtBnTJbY.js","assets/js/LoginResetPasswordSent-Ce4uvaKx.js","assets/css/LoginResetPasswordSent-CNv7fMoB.css","assets/js/LoginDataCollection-DJqWWWLe.js","assets/css/LoginDataCollection-CHJdyOKZ.css","assets/js/LoginProvider-DvKkJFIe.js","assets/js/OAuthButton-D2m5qvyD.js","assets/js/icon-apple-dpDSqZSz.js","assets/js/google-NyzgtnG4.js","assets/css/OAuthButton-BXEODMNm.css","assets/js/icon-email-BZ6UK25K.js","assets/js/icon-skip-intro-f034Ba9B.js","assets/css/LoginProvider-BmcOQuzZ.css","assets/js/LoginAddPasswordExistingAccount-D1YXaTm7.js","assets/css/LoginAddPasswordExistingAccount-BmbkF7Gs.css","assets/js/siteBlockerSession-CZaXee-4.js","assets/js/promisifiedChrome-vBWwQWBS.js","assets/js/focusModeViewState-DaeRKVyi.js","assets/js/pomodoroCompleted-B2E_m1QL.js","assets/js/modal-qMFaWR5h.js","assets/js/SurveyIframeModal-BZZK3Map.js","assets/css/SurveyIframeModal-DSmM6FCK.css","assets/js/soundsViewState-D7LNJV4L.js","assets/js/ReleaseUpdateModal-D90wZUdr.js","assets/css/ReleaseUpdateModal-1qPKaAy_.css","assets/js/SetupUnregisteredDashboard-BbS-PrX2.js","assets/css/SetupUnregisteredDashboard-Ci1yUeBa.css","assets/js/OnboardingModalIntroduction-Byh3vBl8.js","assets/css/OnboardingModalIntroduction-ClbP0fLM.css","assets/js/TeamExpired-dvWZ0i1U.js","assets/css/TeamExpired-DWEo81O1.css","assets/js/OnboardingTipNotificationIntroduction-W9SFHAuO.js","assets/css/OnboardingTipNotificationIntroduction-Cd6x1Q-Q.css","assets/js/FaviconPermission-C7QNykdv.js","assets/js/icon-lock-BDcjUj_s.js","assets/css/FaviconPermission-Dt9e8ezX.css","assets/js/SafariAccount-B9xL3yLB.js","assets/js/icon-profile-womUQGUp.js","assets/css/SafariAccount-b6HVzRwU.css","assets/js/PermissionRequest-Bk1k-Pu5.js","assets/js/icon-down-CXjJWZ3Q.js","assets/css/PermissionRequest-D66Ot69n.css"])))=>i.map(i=>d[i]);
var e,t,o=Object.defineProperty,s=(e,t,s)=>((e,t,s)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s);import{D as a,M as n,f as i,d as r,n as c,u as l,r as d,aS as p,at as u,aG as _,e as S,V as E,$ as T,A as g,aT as h,aU as f,ac as b,ad as O,ax as I,N as P,o as y}from"./dynamic-import-helper-CTnsj-vI.js";import{a as w,c as R}from"./array-YYQw31d9.js";import{_ as v}from"./style-D-IRYiWS.js";import{e as C,v as D,s as A,U as N,l as L}from"./enums-1c3kgXdw.js";import{d as M,a as V,c as k}from"./helpers-BTpQmO5s.js";import{d as F,f as x}from"./focusModeState-BPyBLUbE.js";import{S as U,a as B,O as j,D as Y,b as G,s as W,i as H}from"./onboarding-B35lV45t.js";import{c as $}from"./compareObjects-R6Hcs7xe.js";import{u as K}from"./modal-BWwnzHDf.js";import{u as q}from"./SubscriptionSummary-BTlVYU_L.js";import{computed as z,persistent as J,setMultiple as Z}from"./reactiveCustomization-CEUTOUc3.js";import{g as Q,m as X}from"./Logger-cMW5At62.js";import{a as ee,D as te}from"./constants-CALDQiUE.js";import{b as oe}from"./constants-BfBD_H-d.js";import{a as se}from"./authService-UjcjSrh8.js";import{l as ae,c as ne,a as ie}from"./login-HJtMK9QU.js";import re from"./icon-confetti-BvRSomF2.js";import{e as ce,g as le,d as de,i as me}from"./focusModeHelpers-tDECULZC.js";import{g as pe}from"./experiments-6paecGsK.js";import{u as ue}from"./siteBlockerGroups-BbPmPcem.js";import{C as _e}from"./SettingsTypes-BotgHBzA.js";import{c as Se}from"./accessToken-Cx8MZLdN.js";import{u as Ee}from"./tasksMockData-CwjLszHJ.js";import{u as Te,T as ge}from"./tasksViewState-qOrGChOD.js";class he{constructor({id:e=w(),name:t,status:o,data:s={}}){this.id=e,this.name=t,this.status=o,this.data=s}}var fe=(e=>(e.Welcome="welcome",e.Goal="goal",e.Focus="focus",e))(fe||{});const be={welcome:{header:"ðŸŒ„ Boost Motivation",body:"Inspire your best work with a new photo, quote, and mantra each day."},goal:{header:"ðŸŽ¯ Stay Focused",body:"View your daily goal with each new tab. With Plus, sync your goal with your next task."},focus:{header:"ðŸ§  Beat Procrastination",body:"Get in the zone: Block distractions, vacuum tabs, and use focus timers and sounds."}};var Oe=(e=>(e.Customize="customize",e.Glance="glance",e.Tasks="tasks",e.Focus="focus",e))(Oe||{});const Ie={customize:{header:"âœ¨ Customize Momentum for Truly Personal Inspiration",body:"Add your own photos, quotes or mantras to truly make the dashboard your own."},glance:{header:"ðŸ“‹ Your Life at a Glance",body:"Add countdowns, metrics, or world clocks to your dashboard and link them to your favorite apps.",tip:"This is a sample. Create your own content after the demo."},tasks:{header:"ðŸ˜Œ Tame Your Tasks",body:"Automatically display your current task front and center while syncing with your favorite to-do apps."},focus:{header:"ðŸ’­ Unlimited Focus",body:"Use Focus Mode as long as you want. Access Pomodoro, Tab Stash, Site Blocker, and Sounds even outside Focus Mode."}},Pe=["Yesterday, you said tomorrow."],ye={clocks:[{id:w(),name:"Paris",pinned:!0,timeZoneId:"Europe/Paris",timeZoneName:"Paris, Ile-de-France, France"}],metrics:[{id:w(),label:"Steps",pinned:!0,value:5e3}],countdowns:[{id:w(),utcDate:Date.now()+72576e5,hasHours:!1,pinned:!0,name:"Deadline"}]},we="Todoist",Re=["Prepare workshop","Write essay","Literature review"],ve="icon/upsell/icon-todoist",Ce={focus:[{id:w(),focus:Re[0],forDate:i()}]},De={width:440,subStep:!0,onboardingStyling:!0,secondaryClasses:"button button-tertiary"};var Ae=(e=>(e.Motivation="motivation",e.Procrastination="procrastination",e.Focus="focus",e))(Ae||{});const Ne={motivation:{header:"Boost Motivation",body:"Inspire your best work with a new photo, quote, and mantra daily."},procrastination:{header:"Beat Procrastination",body:"Keep your #1 task front and center. Streamline tasks in a simple task list."},focus:{header:"Focus Better",body:"Stop distractions magically as you vacuum up tabs, turn on white noise, and start a focus timer in one click."}},Le=(e,t)=>{const o=e.slice(t.length);let s=`${r.capitalizeFirstLetter(t)}: `;for(let a=0;a<o.length;++a){const e=o.at(a);e&&(e===e.toUpperCase()&&(s+=" "),s+=e)}return s},Me=e=>`fade-slide-${"bottom"===e?"down":"up"}-full`,Ve=e=>`slide-${e}`,ke=()=>{const e=localStorage.getItem("user:createTime");return e?new Date(e):null},Fe=()=>{const e=JSON.parse(localStorage.getItem("analytics:tabLoad")??"{}"),t=ke(),o=t?r.dateDiffIntegerDays(t,new Date)+1:0;return{tabs:e.count??0,days:o}},xe=(e,t)=>{var o;const s=["complete","legacy"];return(null==t?void 0:t.includeDismissed)&&s.push("dismissed"),s.includes((null==(o=Do().getStep(e))?void 0:o.status)??"")},Ue=e=>{const t=xe(e,{includeDismissed:!0}),o=(e=>{const t=Do().getStep(e);return t&&!!t.data.dateCompleted&&r.dateDiffIntegerDays(new Date,new Date(t.data.dateCompleted))<0})(e);return t&&o},Be=()=>F.currentValue||x.currentValue,je=e=>{c.$emit("popup:hide",e)},Ye=()=>{m.trigger("modal:complete")},Ge=()=>{m.trigger("modal:subStepComplete")},We=()=>{m.trigger("modal:close")},He=()=>{m.on("focusMode:starting",Ye),m.on("focusMode:hover:toggle",je)},$e=()=>{m.off("focusMode:starting",Ye),m.off("focusMode:hover:toggle",je)},Ke=()=>{m.trigger("focusMode:start")},qe=()=>{m.on("settings:visible",(()=>je(!0))),m.on("settings:hidden",(()=>je(!1)))},ze=()=>{m.off("settings:visible",(()=>je(!0))),m.off("settings:hidden",(()=>je(!1)))},Je=()=>v((()=>import("./OnboardingNotificationIntroduction-ByvvqhOQ.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])),Ze=M({name:"Notification Introduction",hideOtherApps:!1,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,keepOpenUntilComplete:!0,transitionDuration:250,component:()=>v((()=>import("./SubStepTipsContainer-qNi6D4aT.js")),__vite__mapDeps([17,1,2,3,4,5,6,9])),onShow(){m.on("focusMode:starting",We),qe()},onLeave(){m.off("focusMode:starting",We),ze()},subSteps:[V({name:fe.Welcome,class:"fast",component:Je,componentProps:{...De,targetElementSelector:".app-container.settings .app-dash",ctaText:"Next",ctaTriggersComplete:!0,headerText:be[fe.Welcome].header,bodyText:be[fe.Welcome].body,videoUrl:"https://momentum.photos/assets/5b4e6695-526f-4e3e-977e-d2cc61af0851",videoIsButtonForModalVideo:!0,footerText:"1 of 3"}}),V({name:fe.Goal,class:"fast",component:Je,componentProps:{...De,targetElementSelector:".app-container.settings .app-dash",ctaText:"Next",ctaTriggersComplete:!0,headerText:be[fe.Goal].header,bodyText:be[fe.Goal].body,videoUrl:"https://momentum.photos/assets/2d20410c-8758-410e-99bc-d0690b47a103",videoIsMask:!0,footerText:"2 of 3"}}),V({name:fe.Focus,class:"fast",component:Je,componentProps:{...De,targetElementSelector:".app-container.settings .app-dash",ctaText:"Try Focus Mode",ctaCallback:async()=>{m.off("focusMode:starting",We),Ke(),await l((()=>x.currentValue)).toBe(!0)},ctaTriggersComplete:!0,headerText:be[fe.Focus].header,bodyText:be[fe.Focus].body,videoUrl:"https://momentum.photos/assets/d08bd4ad-bd5c-4793-8077-99ae0add2d54",footerText:"3 of 3"}})]}),Qe=M({name:"Video Modal Introduction",component:()=>v((()=>import("./OnboardingVideoModalIntroduction-B16xpWBL.js")),__vite__mapDeps([18,1,2,3,4,5,6,19,20,9,21,22])),componentProps:{arcadeVideoIframeSrc:"https://demo.arcade.software/O6824L974TVBEyGDk0RT?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=false"},keepOpenUntilComplete:!0}),Xe=M({name:"Video Notification Introduction",component:()=>v((()=>import("./OnboardingVideoNotificationIntroduction-B07vasSu.js")),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,24])),transitionName:Me("top"),keepOpenUntilComplete:!0,componentProps:{headerText:"Watch a video to get started",previewVideoSrc:"https://customer-fw5z54kkbbca834k.cloudflarestream.com/a10b061203651e2312158b0dbcf686bf/iframe?muted=true&preload=true&loop=true&autoplay=true&poster=https%3A%2F%2Fcustomer-fw5z54kkbbca834k.cloudflarestream.com%2Fa10b061203651e2312158b0dbcf686bf%2Fthumbnails%2Fthumbnail.jpg%3Ftime%3D0%26height%3D600&startTime=0&controls=false"},onShow(){m.on("focusMode:starting",We),qe()},async onLeave(e){if(m.off("focusMode:starting",We),ze(),e!==U.Completed)return;m.cmd("modal.open","FREE_VIDEO_INTRODUCTION");const t=K();await l((()=>t.activeStep.name)).toBe(void 0)}}),et={[C.ONBOARDING_VARIANTS_TEST_1]:{name:"Introduction",variants:{[D.ONBOARDING_VARIANT_NOTIFICATION]:{steps:[A.FREE_INTRODUCTION],overrides:{[A.FREE_INTRODUCTION]:Ze}}}},[C.ONBOARDING_VIDEO_TEST]:{name:"Introduction",variants:{[D.ONBOARDING_VIDEO_VARIANT_FULLSCREEN]:{steps:[A.FREE_INTRODUCTION],overrides:{[A.FREE_INTRODUCTION]:Qe}},[D.ONBOARDING_VIDEO_VARIANT_NOTIFICATION]:{steps:[A.FREE_INTRODUCTION],overrides:{[A.FREE_INTRODUCTION]:Xe}}}}},tt={all:Object.keys(et),unregistered:[C.ONBOARDING_VARIANTS_TEST_1,C.ONBOARDING_VIDEO_TEST],free:[C.ONBOARDING_VARIANTS_TEST_1,C.ONBOARDING_VIDEO_TEST],plus:[]};function ot(){var e;const t=function(e=p().state){var t;let o={};return null==(t=tt[e])||t.filter((e=>{const t="true"===localStorage.getItem("experiments:disabled"),o=(localStorage.getObject("experiments:disabled:exceptions")??[]).includes(e);return!t||o})).forEach((e=>{var t;nt(null==(t=et[e])?void 0:t.disabledBrowsers)||(o[e]=et[e])})),o}(),o=st();if(!t)return o;let s={};return null==(e=d.experiments)||e.forEach((e=>{let a=t[e.experimentName];if(!a)return;const n=a.variants[e.variantName];n&&n.steps.forEach((function(e){var t;s[e]={...fo[e]},(null==(t=n.overrides)?void 0:t[e])&&(s[e]=Object.assign(s[e],n.overrides[e])),n.deleteSteps&&n.deleteSteps.forEach((e=>{delete o[e]}))}))})),Object.assign(o,s)}function st(e=p().state){var t;let o={};return null==(t=Ro[e])||t.forEach((e=>{var t;nt(null==(t=fo[e])?void 0:t.disabledBrowsers)||(o[e]=fo[e])})),o}function at(){var e;return Object.keys(et).length&&(null==(e=d.experiments)?void 0:e.length)?ot():st()}function nt(e){return(null==e?void 0:e.includes(u()))||(null==e?void 0:e.includes("Mobile"))&&_()}function it(){if(!Object.keys(et).length)return{};const e=tt.all;let t={};return e.forEach((e=>{let o=et[e],s={variants:{},name:o.name};Object.keys(o.variants).forEach((e=>{let t=o.variants[e];s.variants[e]={steps:{},name:t.name},t.steps.forEach((o=>{s.variants[e].steps[o]=Object.assign({},fo[o],t.overrides?t.overrides[o]:{})}))})),t[e]=s})),t}const rt=((e=(()=>new a("onboardingSteps:local",{mode:n.Cache}))())=>S("onboardingLocalData",{state:()=>({items:{},loading:!1,itemsLoaded:!1}),actions:{async refresh(){if(!this.loading)return this.loading=!0,new Promise(((t,o)=>{e.get({success:e=>{const o=[];e.forEach((e=>{E.set(this.items,e.id,e),e.id&&o.push(e.id)})),Object.keys(this.items).forEach((e=>{o.includes(e)||E.delete(this.items,e)})),this.itemsLoaded=!0,t()},failure(e){console.error(e),o(e)}})})).finally((()=>{this.loading=!1}))},async saveStepLocalData(t,o){try{t in this.items?(E.set(this.items,t,{...this.items[t],...o}),await e.update(t,o)):(E.set(this.items,t,{stepId:t,...o}),await e.create(t,o))}catch(s){console.error(s)}},getStepLocalData(e){let t={};return e in this.items&&(t=this.items[e]),"id"in t&&delete t.id,t},deleteStepLocalData(t){return E.delete(this.items,t),e.delete(t)}}}))(),ct=new g({feature:"onboarding"}),lt={views:5,minimumImpressionSeconds:5};const dt=new class{constructor(){s(this,"_eventListenerMap",{}),s(this,"loaded",!1),this.allocatedDefinitions={},this.impressionTimeout=null}allocateDefinitions(){this.allocatedDefinitions=at()}get _onboardingStore(){return Do()}get _onboardingLocalDataStore(){return rt()}async loadOnboarding(){if(d.onboardingRefreshing||this.loaded||T())return;const e=e=>{d.onboardingRefreshing=!1,this.loaded=!0,e&&m.models.notificationManager.displayPendingMessages()},t=()=>(e(!0),!1);try{d.onboardingRefreshing=!0,this.allocateDefinitions(),await this._onboardingStore.refresh();let[o,s]=await this._getNextStep(),a=await this._getUncompletedEventTriggeredModals();if(!o&&!a.length)return t();a.length&&this._addEventListeners(a),o&&this._initiateOnboardingStep(o,s),e()}catch(o){console.error(o),t()}}async refreshOnboarding(){if(T())return;d.onboardingRefreshing=!0,await this._onboardingStore.refresh(),this.allocateDefinitions();let e=await this._getUncompletedEventTriggeredModals();e.length&&(this._removeAllEventListeners(),this._addEventListeners(e)),await this.initiateNextStep(),d.onboardingRefreshing=!1}async initiateNextStep(){const[e,t]=await this._getNextStep();return!!e&&(this._initiateOnboardingStep(e,t),!0)}_getUncompletedEventTriggeredModals(){return r.asyncFilter(Object.values(this.allocatedDefinitions),(async e=>e.event&&await this._stepCanBeShown(e,{now:!1})))}_removeAllEventListeners(){Object.values(this._eventListenerMap).forEach((({event:e,handler:t})=>m.off(e,t))),this._eventListenerMap={}}_addEventListeners(e){e.forEach((e=>{if(e.event){const t=async()=>{var o;if(await this._stepCanBeShown(e)&&!K().locked){const s=this._onboardingStore.getStep(e);this._initiateOnboardingStep(this._addHooksToDefinitions(e),(null==(o=null==s?void 0:s.data)?void 0:o.activeSubStepIndex)||0),m.off(e.event,t),c.$off(e.event,t),delete this._eventListenerMap[e.name]}};m.on(e.event,t),c.$on(e.event,t),this._eventListenerMap[e.name]={event:e.event,handler:t}}}))}_initiateOnboardingStep(e,t){e&&m.trigger("modal:show",e,{subStepIndex:t})}async _getNextStep(){var e;for(let t in this.allocatedDefinitions){if(!Object.prototype.hasOwnProperty.call(this.allocatedDefinitions,t))continue;const o=this.allocatedDefinitions[t];if(!o.event&&await this._stepCanBeShown(o)){const t=this._onboardingStore.getStep(o);return[this._addHooksToDefinitions(o),(null==(e=null==t?void 0:t.data)?void 0:e.activeSubStepIndex)||0]}}return[]}async _onStepShow(e){var t;this._onboardingStore.getStep(e)||await this._onboardingStore.saveStepProgress(e),!1!==e&&await this._trackImpressionAndViews(e),await(null==(t=e.onShow)?void 0:t.call(e)),ct.deferredCapture("onboarding step show",{name:e.name.toLowerCase()})}async _onStepComplete(e,t,o=U.Completed,s=!0){var a;await(null==(a=e[B[o]])?void 0:a.call(e,t));const n=this._onboardingStore.getStep(e),{views:i,impressionReached:r=!1}=(null==n?void 0:n.data)||{};ct.capture(j[o],{name:e.name.toLowerCase(),auto_dismissed:!1,views:i,impression_reached:r}),s&&await this._onboardingStore.saveStepProgress(e,{status:o,activeSubStepIndex:t.activeSubStepIndex})}async _onSubStepComplete(e,t){var o;const{activeSubStep:s,nextSubStepIndex:a,hasSubStepsRemaining:n}=t;await(null==(o=e._onSubStepComplete)?void 0:o.call(e,t)),ct.capture("onboarding sub-step complete",{step:e.name.toLowerCase(),sub_step:s.name.toLowerCase()}),n&&await this._onboardingStore.saveStepProgress(e,{activeSubStepIndex:a})}async _onStepLeave(e,t){var o;await(null==(o=e.onLeave)?void 0:o.call(e,t)),t===U.Errored||await this.initiateNextStep()||m.models.notificationManager.displayPendingMessages()}_addHooksToDefinitions(e){var t;const o={...e,onShow:()=>this._onStepShow(e),onComplete:t=>this._onStepComplete(e,t,U.Completed,!0),onDismiss:t=>this._onStepComplete(e,t,U.Dismissed,!0),onError:t=>this._onStepComplete(e,t,U.Errored,!1),onLeave:this._onStepLeave.bind(this,e)};return(null==(t=e.subSteps)?void 0:t.length)&&(o.onSubStepComplete=t=>this._onSubStepComplete(e,t)),o}async _stepCanBeShown(e,{now:t=!0}={}){let o=this._onboardingStore.getStep(e);return(!o||![U.Completed,U.Dismissed,U.Legacy].includes(o.status))&&(!!(await this._userMeetsDateRestrictions(e))&&(!t||this._checkShouldActivate(e)))}_stepCanBeAutoDismissed(e){var t;const o=this._onboardingStore.getStep(e);if(!o)return!1;const{views:s,minimumImpressionSeconds:a}=e.autoDismiss||lt,n=s&&(o.data.views||0)<s,i=a&&!(null==(t=o.data)?void 0:t.impressionReached);return!n&&!i}async _trackImpressionAndViews(e){var t;const o=this._onboardingStore.getStep(e),{views:s,minimumImpressionSeconds:a}=e.autoDismiss||lt;s&&await this._trackViewCount(e,o),a&&!(null==(t=null==o?void 0:o.data)?void 0:t.impressionReached)&&await this._trackImpression(a,e,o)}async _trackImpression(e,t){clearTimeout(this.impressionTimeout),this.impressionTimeout=setTimeout((async()=>{await this._onboardingLocalDataStore.saveStepLocalData(t.id,{impressionReached:!0}),this._stepCanBeAutoDismissed(t)&&await this._saveStepAsAutoDismissed(t.id)}),1e3*e)}async _trackViewCount(e,t){var o;const s=((null==(o=null==t?void 0:t.data)?void 0:o.views)||0)+1;await this._onboardingLocalDataStore.saveStepLocalData(e.id,{views:s}),this._stepCanBeAutoDismissed(e)&&await this._saveStepAsAutoDismissed(e.id)}_saveStepAsAutoDismissed(e){var t;const o=this.allocatedDefinitions[e],{views:s,impressionReached:a}=(null==(t=this._onboardingStore.getStep(o))?void 0:t.data)??{};return ct.capture(j[U.Dismissed],{name:o.name.toLowerCase(),auto_dismissed:!0,views:s,impression_reached:a}),this._onboardingStore.saveStepProgress(e,{status:U.Dismissed,data:{autoDismissed:!0}})}async _userMeetsDateRestrictions(e){let t=localStorage.getItem("user:createTime");if(!t)return!1;let o=!0;if(e.plusSubscriptionTimeGate){const t=q();await l((()=>t.loaded)).toBe(!0),await l((()=>t.loading)).toBe(!1),o=new Date(t.firstSubscriptionStart)>new Date(e.plusSubscriptionTimeGate)}return o&&new Date(t)>new Date(e.userCreatedTimeGate||Y)}async _checkShouldActivate(e){return!e.shouldActivate||await e.shouldActivate()}},mt=Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"})),pt=M({name:"Upsells",component:()=>v((()=>import("./UpsellModalContainer-DaZ184aO.js")),__vite__mapDeps([25,1,2,3,4,5,6,26,27,28,9,29,30,31,32,33,34,35])),subSteps:[V({upsellId:N.GENERAL,name:"Plus Overview",component:()=>v((()=>import("./PlusGateUpsell-CUy_a27V.js")),__vite__mapDeps([36,1,2,3,4,5,6,37,38,39,9,30,13,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55]))}),V({upsellId:N.AI_CHAT,name:"Ask AI",component:()=>v((()=>import("./AiChatUpsell-CHO_RuXc.js")),__vite__mapDeps([56,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,57,58,59]))}),V({upsellId:N.AUTOFOCUS,name:"Top Task in Center",component:()=>v((()=>import("./AutofocusUpsell-C2h30EQv.js")),__vite__mapDeps([60,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,61,62,49,63]))}),V({upsellId:N.BALANCE_MODE,name:"Balance Mode",component:()=>v((()=>import("./BalanceModeUpsell-CYC2DtHd.js")),__vite__mapDeps([64,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,65,66,67,68]))}),V({upsellId:N.COUNTDOWNS,name:"Countdowns",component:()=>v((()=>import("./CountdownsUpsell-iO2Em9kw.js")),__vite__mapDeps([69,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,70,71,72]))}),V({upsellId:N.FOCUS_MODE,name:"Focus Mode",component:()=>v((()=>import("./FocusModeUpsell-C48uj9kY.js")),__vite__mapDeps([73,1,2,3,4,5,6,74,75,76,77,78,79,80,81,82,83,43,84,37,38,39,9,30,13,40,41,42,44,45,46,47,48,85,86,87,88]))}),V({upsellId:N.MANTRAS,name:"Mantras",component:()=>v((()=>import("./MantrasUpsell-DgqmMqU8.js")),__vite__mapDeps([89,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,90,53,91,92]))}),V({upsellId:N.METRICS,name:"Metrics",component:()=>v((()=>import("./MetricsUpsell-BTZl5Ruh.js")),__vite__mapDeps([93,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,94,95,96,97]))}),V({upsellId:N.MULTI_TODO,name:"Custom Tasks Lists",component:()=>v((()=>import("./MultiTodoUpsell-CaKB-OrR.js")),__vite__mapDeps([98,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,54,99,51,100]))}),V({upsellId:N.NOTES,name:"Notes",component:()=>v((()=>import("./NotesUpsell-CWe3TrxY.js")),__vite__mapDeps([101,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,102,103,104]))}),V({upsellId:N.PHOTOS,name:"Photos",component:()=>v((()=>import("./PhotosUpsell-DNfk5rDt.js")),__vite__mapDeps([105,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,106,50,91,107]))}),V({upsellId:N.POMODORO,name:"Pomodoro",component:()=>v((()=>import("./PomodoroUpsell-BIxap2ng.js")),__vite__mapDeps([108,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,62,109,110,111]))}),V({upsellId:N.QUOTES,name:"Quotes",component:()=>v((()=>import("./QuotesUpsell-C80R5vIe.js")),__vite__mapDeps([112,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,90,53,91,113]))}),V({upsellId:N.SOUNDS,name:"Sounds",component:()=>v((()=>import("./SoundsUpsell-BN-5JsyJ.js")),__vite__mapDeps([114,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,115,116,117,118]))}),V({upsellId:N.TAB_GROUPS,name:"Link Groups",component:()=>v((()=>import("./TabGroupsUpsell-Dto_F0fr.js")),__vite__mapDeps([119,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,120,121,122]))}),V({upsellId:N.TAB_STASH,name:"Tab Stash",component:()=>v((()=>import("./TabStashUpsell-B7zqmqhY.js")),__vite__mapDeps([123,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,62,120,124,125]))}),V({upsellId:N.THEMES,name:"Fonts & Themes",component:()=>v((()=>import("./ThemesUpsell-BpUR9-Yl.js")),__vite__mapDeps([126,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,50,127,128,129]))}),V({upsellId:N.TODO_INTEGRATIONS,name:"Tasks Integrations",component:()=>v((()=>import("./TodoIntegrationsUpsell-BK_oyjTa.js")),__vite__mapDeps([130,103,57,131,116,66,132,47,133,51,134,127,110,52,96,62,109,61,135,136,137,138,86,139,115,71,65,140,121,49,99,141,128,54,95,142,67,106,90,50,91,143,144,120,53,117,87,124,70,145,146,94,147,148,58,102,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,48,149]))}),V({upsellId:N.WEATHER,name:"Detailed Weather",component:()=>v((()=>import("./WeatherUpsell-GeIOLrjt.js")),__vite__mapDeps([150,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,148,65,137,151]))}),V({upsellId:N.WORLD_CLOCKS,name:"World Clocks",component:()=>v((()=>import("./WorldClocksUpsell-B0gERj42.js")),__vite__mapDeps([152,37,38,39,9,1,2,3,4,5,6,30,13,40,41,42,43,44,45,46,47,48,145,143,121]))}),V({upsellId:N.SITE_BLOCKER,name:"Site Blocker",component:()=>v((()=>import("./SiteBlockerUpsell--FeCdS_d.js")),__vite__mapDeps([153,1,2,3,4,5,6,37,38,39,9,30,13,40,41,42,43,44,45,46,47,48,154,155,156,157]))})],getPlanInfo:!0,transitionName:"slide-fade",onLeave:()=>{dt.initiateNextStep()}}),ut=Object.freeze(Object.defineProperty({__proto__:null,default:pt},Symbol.toStringTag,{value:"Module"})),_t=[A.TIP_DAY_ONE_FOCUS_MODE,A.TIP_DAY_TWO_FOCUS_MODE,A.TIP_DAY_THREE_FOCUS_MODE,A.TIP_SURVEY_PMF_TYPEFORM_FREE,A.TIP_ADD_NAME],St=[A.TIP_USE_ACCOUNT],Et=[A.TIP_SURVEY_PMF_TYPEFORM_PLUS,A.TIP_NEW_METRICS_ICONS],Tt=[A.TIP_FOCUS_INSIGHT_APP,A.TIP_SITE_BLOCKER_FIRST_TIME,A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],gt={[A.TIP_NEW_METRICS_ICONS]:"NEW"},ht={[A.TIP_ADD_NAME]:"Make Momentum yours âœ¨",[A.TIP_NEW_METRICS_ICONS]:"Personalize with icons ðŸŽ¨"},ft={[A.TIP_DAY_ONE_FOCUS_MODE]:"Mute your distractions and get in the zone. Start a session now!",[A.TIP_DAY_TWO_FOCUS_MODE]:"Starting with deep work will help you navigate your whole day with more flow and ease. Activate focus mode here.",[A.TIP_DAY_THREE_FOCUS_MODE]:"Feeling distracted? Get into the flow state with focus mode.",[A.TIP_FOCUS_INSIGHT_APP]:"You've completed your first focus timer! Stay motivated by using focus goals.",[A.TIP_SITE_BLOCKER_FIRST_TIME]:"Site Blocker helps eliminate the temptation to open distracting websites.",[A.TIP_SURVEY_PMF_TYPEFORM_FREE]:"Would you be interested in helping us improve Momentum?",[A.TIP_SURVEY_PMF_TYPEFORM_PLUS]:"Would you be interested in helping us improve Momentum?",[A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:"Do you have a minute to answer three questions about Site Blocker?",[A.TIP_ADD_NAME]:"Add your name and make your new tab a little more magical.",[A.TIP_USE_ACCOUNT]:"Register or sign in to sync your data.",[A.TIP_NEW_METRICS_ICONS]:"You can now choose icons for your metrics, countdowns and world clocks"},bt={[A.TIP_SURVEY_PMF_TYPEFORM_FREE]:"Sure!",[A.TIP_SURVEY_PMF_TYPEFORM_PLUS]:"Sure!",[A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:"Sure!"},Ot={width:320},It="2024-06-18T00:00:00.000Z";A.SURVEY_PMF_TYPEFORM_FREE,A.SURVEY_PMF_TYPEFORM_PLUS,A.SURVEY_SITE_BLOCKER_TYPEFORM,A.SURVEY_GENERAL_FEEDBACK,A.SURVEY_BUG_REPORT,A.SURVEY_BETA_TEST;var Pt=(e=>(e.PmfFree="surveys.pmfTypeformFreeSrc",e.PmfPlus="surveys.pmfTypeformPlusSrc",e.SiteBlocker="surveys.siteBlockerTypeformSrc",e))(Pt||{}),yt=(e=>(e.GeneralFeedback="https://momentumdash.typeform.com/to/wqLzletJ",e.BugReport="https://momentumdash.typeform.com/to/WyBZaaAe",e.BetaTest="https://momentumdash.typeform.com/to/Io3C6FXv",e))(yt||{});const wt=()=>v((()=>import("./Popup-CK9iWfQK.js")),__vite__mapDeps([7,1,2,3,4,5,6,8,9,10,11,12,13,14,15])),Rt={[A.TIP_DAY_ONE_FOCUS_MODE]:M({name:Le(A.TIP_DAY_ONE_FOCUS_MODE,"tip"),component:wt,componentProps:{...Ot,onPopupClicked:Ke,targetElementSelector:".app-container.focus-mode",position:ee.Bottom,bodyText:ft[A.TIP_DAY_ONE_FOCUS_MODE]},shouldActivate:()=>{if(!z.focusModeVisible||Be())return!1;const{tabs:e,days:t}=Fe();return t>=1&&e>=3},onShow:He,onLeave:$e,transitionName:Me("bottom")}),[A.TIP_DAY_TWO_FOCUS_MODE]:M({name:Le(A.TIP_DAY_TWO_FOCUS_MODE,"tip"),component:wt,componentProps:{...Ot,onPopupClicked:Ke,targetElementSelector:".app-container.focus-mode",position:ee.Bottom,bodyText:ft[A.TIP_DAY_TWO_FOCUS_MODE]},shouldActivate:()=>{if(!z.focusModeVisible||Be())return!1;if(!Ue(A.TIP_DAY_ONE_FOCUS_MODE))return!1;const{tabs:e,days:t}=Fe();return t>=2&&e>=1},onShow:He,onLeave:$e,transitionName:Me("bottom")}),[A.TIP_DAY_THREE_FOCUS_MODE]:M({name:Le(A.TIP_DAY_THREE_FOCUS_MODE,"tip"),component:wt,componentProps:{...Ot,onPopupClicked:Ke,targetElementSelector:".app-container.focus-mode",position:ee.Bottom,bodyText:ft[A.TIP_DAY_THREE_FOCUS_MODE]},shouldActivate:()=>{if(!z.focusModeVisible||Be())return!1;if(!Ue(A.TIP_DAY_TWO_FOCUS_MODE))return!1;const{tabs:e,days:t}=Fe();return t>=3&&e>=3},onShow:He,onLeave:$e,transitionName:Me("bottom")}),[A.TIP_FOCUS_INSIGHT_APP]:M({name:Le(A.TIP_FOCUS_INSIGHT_APP,"tip"),component:wt,componentProps:{...Ot,bodyText:ft[A.TIP_FOCUS_INSIGHT_APP],targetElementSelector:".focus-mode-metric",position:ee.Bottom,alignment:te.Right,onPopupClicked:()=>{c.$emit("focusModeInsights:open")}},onShow:()=>{c.$on("focusModeInsights:toggled",Ye)},onLeave:()=>{c.$off("focusModeInsights:toggled",Ye)},event:"pomodoro:firstSessionCompleted",transitionName:Me("bottom")}),[A.TIP_SITE_BLOCKER_FIRST_TIME]:M({name:Le(A.TIP_SITE_BLOCKER_FIRST_TIME,"tip"),component:wt,componentProps:{...Ot,onPopupClicked:()=>{c.$emit("siteBlocker:open")},targetElementSelector:".app-container.site-blocker",position:ee.Bottom,bodyText:ft[A.TIP_SITE_BLOCKER_FIRST_TIME]},shouldActivate:()=>z.siteBlockerVisible&&F.currentValue&&!x.currentValue&&xe(A.FOCUS_MODE_ONBOARDING,{includeDismissed:!0}),onShow:()=>{c.$on("siteBlocker:toggled",Ye)},onLeave:()=>{c.$off("siteBlocker:toggled",Ye)},transitionName:Me("bottom")}),[A.TIP_SURVEY_PMF_TYPEFORM_FREE]:M({name:Le(A.TIP_SURVEY_PMF_TYPEFORM_FREE,"tip"),component:wt,componentProps:{...Ot,targetElementSelector:".app-container.settings .app-dash",position:ee.Top,nippleVisible:!1,bodyText:ft[A.TIP_SURVEY_PMF_TYPEFORM_FREE],ctaText:bt[A.TIP_SURVEY_PMF_TYPEFORM_FREE],ctaTriggersComplete:!0},transitionName:Me("top"),shouldActivate:async()=>{if(!(await Q(Pt.PmfFree))||Be())return!1;const{days:e}=Fe();return e>=14},userCreatedTimeGate:It,onShow:qe,onLeave:ze,onComplete(){m.cmd("modal.open","SURVEY_PMF_TYPEFORM_FREE",{force:!0})}}),[A.TIP_SURVEY_PMF_TYPEFORM_PLUS]:M({name:Le(A.TIP_SURVEY_PMF_TYPEFORM_PLUS,"tip"),component:wt,componentProps:{...Ot,targetElementSelector:".app-container.settings .app-dash",position:ee.Top,nippleVisible:!1,bodyText:ft[A.TIP_SURVEY_PMF_TYPEFORM_PLUS],ctaText:bt[A.TIP_SURVEY_PMF_TYPEFORM_PLUS],ctaTriggersComplete:!0},transitionName:Me("top"),async shouldActivate(){if(!(await Q(Pt.PmfPlus))||Be())return!1;const e=q();return await l((()=>e.loaded)).toBe(!0),e.subscriptionDaysElapsed>=14},onShow:qe,onLeave:ze,userCreatedTimeGate:It,onComplete(){m.cmd("modal.open","SURVEY_PMF_TYPEFORM_PLUS",{force:!0})},alsoCompletesSteps:[A.TIP_SURVEY_PMF_TYPEFORM_FREE]}),[A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:M({name:Le(A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM,"tip"),component:wt,componentProps:{...Ot,targetElementSelector:".app-container.settings .app-dash",position:ee.Top,nippleVisible:!1,bodyText:ft[A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],ctaText:bt[A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],ctaTriggersComplete:!0},transitionName:Me("top"),async shouldActivate(){if(!(await Q(Pt.SiteBlocker))||Be())return!1;const e=(await v((async()=>{const{default:e}=await import("./streaks-C-_kXOaw.js").then((e=>e.s));return{default:e}}),__vite__mapDeps([158,1,2,3,4,5,6]))).default();return e.refresh(),await l((()=>e.loaded)).toBe(!0),e.getValidSitesResistedSince(10)>=3},event:"focusMode:stopped",onShow:qe,onLeave:ze,onComplete(){m.cmd("modal.open","SURVEY_SITE_BLOCKER_TYPEFORM",{force:!0})},alsoCompletesSteps:[A.TIP_SURVEY_PMF_TYPEFORM_FREE]}),[A.TIP_USE_ACCOUNT]:M({name:Le(A.TIP_USE_ACCOUNT,"tip"),component:()=>v((()=>import("./OnboardingUseAccount-B4Zi-dPQ.js")),__vite__mapDeps([159,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,160,161,42,43,162,30,163,77,78,79,80,81,82,164,165,74,75,166,167,168,46,84,169,170,76,83,44,171,172,173,174,175,176,177,178,179])),componentProps:{bodyText:ft[A.TIP_USE_ACCOUNT]},transitionName:Me("top"),shouldActivate:()=>h()&&Fe().tabs>=2,onShow:qe,onLeave:ze}),[A.TIP_ADD_NAME]:M({name:Le(A.TIP_ADD_NAME,"tip"),component:wt,componentProps:{...Ot,targetElementSelector:".greeting .name.editing",elementReadyEvent:"message:name:editing",position:ee.Bottom,alignment:te.Center,headerText:ht[A.TIP_ADD_NAME],bodyText:ft[A.TIP_ADD_NAME],clickOutsideTriggersDismiss:!0},transitionName:Me("bottom"),shouldActivate:()=>{if(""!==J.displayname||Be())return!1;const{tabs:e}=Fe(),t=e>=2;return t&&c.$emit("greeting:name:edit"),t},onShow:()=>{c.$on("message:name:edited",Ye)},onLeave:()=>{c.$off("message:name:edited",Ye)}}),[A.TIP_NEW_METRICS_ICONS]:M({name:Le(A.TIP_NEW_METRICS_ICONS,"tip"),component:wt,componentProps:{...Ot,targetElementSelector:".base-metric .pinned-items .base-metric-dash .app-dash-base-icon",targetSelectLast:!0,targetDistance:z.dashAppTextLabels===oe.Always?28:15,position:ee.Bottom,alignment:te.Right,headerBadgeText:gt[A.TIP_NEW_METRICS_ICONS],headerText:ht[A.TIP_NEW_METRICS_ICONS],bodyText:ft[A.TIP_NEW_METRICS_ICONS]},transitionName:Me("bottom"),shouldActivate:async()=>0!==document.querySelectorAll(".base-metric .pinned-items .base-metric-dash").length||(await Do().saveStepProgress(A.TIP_NEW_METRICS_ICONS,{status:U.Completed}),!1),onShow(){c.$on("baseMetric:toggle",Ye)},onLeave(){c.$off("baseMetric:toggle",Ye)}})};async function vt(){localStorage.removeItem(f),await q().refresh(!0),await dt.refreshOnboarding()}const Ct=e=>{const t=new g({feature:e}),o="free-trial"===e;return{hideOtherApps:!0,transitionName:"fade",component:()=>v((()=>import("./UpgradeModal-iy_nPo9y.js")),__vite__mapDeps([180,1,2,3,4,5,6,181,182,183,9,184,161,42,43,162,30,163,77,78,79,80,81,82,185,186,187,188,189,38,19,20,21,46,190,191,192])),onShow:()=>{t.capture("free-trial show",{cardless:o})},onDismiss:async()=>{await dt.refreshOnboarding(),t.capture("free-trial dismiss",{cardless:o})},onComplete:async()=>{await se.onSuccessfulUserLogin(),t.capture("free-trial complete",{cardless:o})},onLeave:async e=>{e===U.Completed&&await vt()}}},Dt={[A.FREE_TRIAL]:M({getPlanInfo:!0,name:"Free Trial Cardless",componentProps:{feature:"free-trial",startingHeight:"426.38px"},...Ct("free-trial")}),[A.FREE_TRIAL_CARD]:M({name:"Free Trial Card",componentProps:{feature:"checkout",startingHeight:"531px"},...Ct("checkout")})};var At=(e=>(e.PROCESSING="Processing",e.UNSAVED_DATA="Unsaved-data",e.ERROR="Error",e.ERROR_RESEND="Error-resend",e))(At||{});const Nt=M({name:"One Time Login",component:()=>v((()=>import("./OneTimeLogin-B0ieIlLg.js")),__vite__mapDeps([193,1,2,3,4,5,6,194,161,42,43,162,30,163,77,78,79,80,81,82,26,27,28,9,29,164,165,74,75,166,167,168,46,12,84,169,170,76,83,44,171,172,173,174,175,176,177,178,195])),subSteps:Object.values(At).map((e=>V({name:e}))),hideOtherApps:!0,onDismiss:async()=>{await ae()},onComplete:async()=>{await ne()},onLeave:async()=>{await ie(),d.oneTimeLoginActive=!1}}),Lt=M({name:"Login",component:()=>v((()=>import("./Login-GNV8UglG.js")),__vite__mapDeps([196,1,2,3,4,5,6,9,197])),firstSubStep(){const e=localStorage.getObject(b),t=!!localStorage.getItem(O);return r.isFirefox()&&!t?L.DATA_COLLECTION:(null==e?void 0:e.email)?L.EMAIL:L.NAME},async onComplete(){await ne()},async onLeave(){await ie(),d.introductionActive=!1},async onShow(){await k()},hideOtherApps:!0,transitionName:"fade",subSteps:[V({name:"Name",component:()=>v((()=>import("./LoginName-AfMNn-1T.js")),__vite__mapDeps([198,199,26,27,28,1,2,3,4,5,6,9,29,33,200,201,202,203,204,30,205]))}),V({name:"Email",component:()=>v((()=>import("./LoginEmail-BTE3E2Dh.js")),__vite__mapDeps([206,199,26,27,28,1,2,3,4,5,6,9,29,33,200,201,202,203,204,30,161,42,43,162,163,77,78,79,80,81,82,188,38]))}),V({name:"Choose Password",component:()=>v((()=>import("./LoginChoosePassword-BOG-Oopt.js")),__vite__mapDeps([207,199,26,27,28,1,2,3,4,5,6,9,29,33,200,208,201,202,203,204,209,210,211,30,161,42,43,162,163,77,78,79,80,81,82,38]))}),V({name:"Enter Password",component:()=>v((()=>import("./LoginEnterPassword-DYLtWQSx.js")),__vite__mapDeps([212,199,26,27,28,1,2,3,4,5,6,9,29,33,200,30,208,201,202,203,204,209,210,211,161,42,43,162,163,77,78,79,80,81,82,38,213]))}),V({name:"Reset Password",component:()=>v((()=>import("./LoginResetPassword-CtBnTJbY.js")),__vite__mapDeps([214,199,26,27,28,1,2,3,4,5,6,9,29,33,200,208,201,202,203,204,209,210,211,30,161,42,43,162,163,77,78,79,80,81,82,38]))}),V({name:"Reset Password Sent",component:()=>v((()=>import("./LoginResetPasswordSent-Ce4uvaKx.js")),__vite__mapDeps([215,199,26,27,28,1,2,3,4,5,6,9,29,33,200,30,38,216]))}),V({name:"Data Collection",component:()=>v((()=>import("./LoginDataCollection-DJqWWWLe.js")),__vite__mapDeps([217,199,26,27,28,1,2,3,4,5,6,9,29,33,200,30,218]))}),V({name:"Provider",component:()=>v((()=>import("./LoginProvider-DvKkJFIe.js")),__vite__mapDeps([219,199,26,27,28,1,2,3,4,5,6,9,29,33,200,30,161,42,43,162,163,77,78,79,80,81,82,220,221,222,160,223,38,224,225,164,165,74,75,166,167,168,46,12,84,169,170,76,83,44,171,172,173,174,175,176,177,178,226]))}),V({name:"Add Password Existing account",component:()=>v((()=>import("./LoginAddPasswordExistingAccount-D1YXaTm7.js")),__vite__mapDeps([227,199,26,27,28,1,2,3,4,5,6,9,29,33,200,208,201,202,203,204,209,210,211,30,161,42,43,162,163,77,78,79,80,81,82,220,221,222,160,223,38,164,165,74,75,166,167,168,46,12,84,169,170,76,83,44,171,172,173,174,175,176,177,178,228]))})]}),Mt=new g({feature:"subscribe"}),Vt=M({name:"Subscribe",componentProps:{feature:"subscribe",startingHeight:"530.48px"},hideOtherApps:!0,component:()=>v((()=>import("./UpgradeModal-iy_nPo9y.js")),__vite__mapDeps([180,1,2,3,4,5,6,181,182,183,9,184,161,42,43,162,30,163,77,78,79,80,81,82,185,186,187,188,189,38,19,20,21,46,190,191,192])),onShow:()=>{Mt.capture("show")},onDismiss:()=>{Mt.capture("dismiss")},onComplete:async()=>{await se.onSuccessfulUserLogin(),Mt.capture("complete"),c.$emit("flashMessage",{message:"You are now subscribed!",icon:re,confetti:!0,closeButtonEnabled:!1,persist:1e4})},onLeave:async e=>{e===U.Completed&&await vt()}}),kt=[A.TAB_STASH_ONBOARDING,A.FOCUS_MODE_ONBOARDING,A.ONBOARDING_SITE_BLOCKER_ONE,A.ONBOARDING_FOCUS_INSIGHTS,A.ONBOARDING_SOUNDS],Ft={[A.ONBOARDING_SITE_BLOCKER_ONE]:"Every time you open a distracting website, weâ€™ll intervene. Add websites that steal your time by clicking into a group."};var xt=(e=>(e.Goal="goal",e.Track="track",e))(xt||{});const Ut={goal:"Set a goal to concentrate regularly. You can update the amount and time span in the settings.",track:"Track your stats to stay motivated. See how many focus timers and tasks you've completed in the past."};var Bt=(e=>(e.Eliminate="eliminate",e.Focus="focus",e.Ritual="ritual",e.Personal="personal",e))(Bt||{});const jt={eliminate:{header:"ðŸ™…ðŸ½â€ï¸ Eliminate distractions",body:"Block distracting websites when your focus timer is running. If tempted, your focus task, breathing exercises, and resistance streak will keep you on track."},focus:{header:"ðŸ”¢ï¸ Focus on one task only",body:"Single-tasking makes working less overwhelming. Automatically show the first task of your todo list here (Plus feature)."},ritual:{header:"â°ï¸ Make focusing a ritual",body:"Set a goal how much you want to concentrate daily to turn it into a habit!"},personal:{header:"âš™ï¸ï¸ Your personal focus space",body:"Enable features that help you get things done. Committing to focus will help you feel more accomplished!"}};var Yt=(e=>(e.New="new",e.Existing="existing",e))(Yt||{});const Gt={new:{header:"ðŸ”Šâ€ Tune in, zone out",body:"Choose from our music selection. Connect streaming services for no ads. Our custom sound scenes are designed to help you concentrate â€“ adjust them to your liking! If your browser is logged into Spotify/YouTube, you're connected. We don't access your data."},existing:{header:"ðŸ”Šâ€ Improved sound experience",body:"We revamped Soundscapes with music and advanced sound customization. Connect streaming services for an ad-free experience. If your browser is logged into Spotify/YouTube, you're connected. We don't access your data."}},Wt={width:400,onboardingStyling:!0,secondaryClasses:"button button-tertiary"},Ht=()=>{ce("siteBlocker","enabled",!0),Ge()},$t=()=>{var e;const t=null==(e=ke())?void 0:e.getTime();return!t||t>=1733449440884},Kt=()=>v((()=>import("./Popup-CK9iWfQK.js")),__vite__mapDeps([7,1,2,3,4,5,6,8,9,10,11,12,13,14,15])),qt=M({name:"Focus Mode Onboarding",component:()=>v((()=>import("./SubStepTipsContainer-qNi6D4aT.js")),__vite__mapDeps([17,1,2,3,4,5,6,9])),event:"focusMode:started",userCreatedTimeGate:G,hideOtherApps:!1,keepOpenUntilComplete:!0,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,customCss:"\n\t\t.app-dash, .pomodoro, .focus-mode-metric.app-dash { opacity: 50% !important; }\n\t\t.add-metric-container .app-dash { opacity: 0 !important; }\n\t",alsoCompletesSteps:[A.TIP_SITE_BLOCKER_FIRST_TIME],onShow(){m.on("focusMode:stopping",We)},onLeave(){m.off("focusMode:stopping",We)},subSteps:[V({name:Bt.Eliminate,component:Kt,class:Ve("down"),customCss:"\n\t\t\t\t\t.site-blocker .app-dash { opacity: 100% !important; }\n\t\t\t\t",beforeShow:async()=>{c.$on("siteBlocker:opened",Ht);const e=le();I({focusModeSettingsStr:JSON.stringify({...e,apps:{...e.apps,siteBlocker:{enabled:!0}}})}),e.apps.siteBlocker.enabled||await P(200)},onLeave:async e=>{var t,o,s;c.$off("siteBlocker:opened",Ht),(null==(t=pe(C.ONBOARDING_VARIANTS_TEST_1))?void 0:t.variantName)===D.ONBOARDING_VARIANT_NOTIFICATION&&Ge(),I({focusModeSettingsStr:null});const a=(null==(s=null==(o=de().focusModeSettings.apps)?void 0:o.siteBlocker)?void 0:s.enabled)??!0,n=(await v((async()=>{const{default:e}=await import("./siteBlockerSession-CZaXee-4.js");return{default:e}}),__vite__mapDeps([229,1,2,3,4,5,6,75,171,172,167,230,74,231,177,178,76,77,78,79,80,81,82,83,43,84,232,169,161,42,162,30,163,166,233]))).default();e===U.Completed&&a&&!n.hasPermissions&&(await n.ensurePermissions(),await l((()=>{var e;return null==(e=K().activeStep)?void 0:e.name})).toBe("Focus Mode Onboarding"))},componentProps:{...Wt,targetElementSelector:".app-container.site-blocker",position:ee.Bottom,ctaText:"Block sites",ctaTriggersComplete:!0,ctaCallback:async()=>{await ce("siteBlocker","enabled",!0)},secondaryText:"Disable Site Blocker",secondaryTriggersComplete:!0,secondaryCallback:async()=>{await ce("siteBlocker","enabled",!1)},headerText:jt[Bt.Eliminate].header,bodyText:jt[Bt.Eliminate].body}}),V({name:Bt.Focus,component:Kt,class:Ve("up"),customCss:"\n\t\t\t\t\t.pomodoro { opacity: 100% !important; }\n\t\t\t\t",componentProps:{...Wt,targetElementSelector:".pomodoro-focus .prompt",targetDistance:15,position:ee.Right,alignment:te.Left,nippleVisible:!1,ctaText:"Next",ctaTriggersComplete:!0,secondaryText:"Sync with Tasks",secondaryIcon:"icon-refresh",secondaryCallback(){if(z.autoFocus)return Ge();m.commandManager.execute("todo.toggle.autofocus",null,{sourceApp:"Focus Mode Onboarding",eventSource:"focus"}),m.conditionalFeatures.featureEnabled("pinfocus")&&Ge()},headerText:jt[Bt.Focus].header,bodyText:jt[Bt.Focus].body}}),V({name:Bt.Ritual,component:Kt,class:Ve("down"),customCss:"\n\t\t\t\t\t.focus-mode-metric .app-dash { opacity: 100% !important; }\n\t\t\t\t",beforeShow:async()=>{const e=le();I({focusModeSettingsStr:JSON.stringify({...e,focusInsightVisible:!0})}),e.focusInsightVisible||await P(200)},onLeave(){I({focusModeSettingsStr:null})},componentProps:{...Wt,targetElementSelector:".focus-mode-metric",targetDistance:15,position:ee.Bottom,alignment:te.Right,nippleVisible:!1,ctaText:"Next",ctaTriggersComplete:!0,headerText:jt[Bt.Ritual].header,bodyText:jt[Bt.Ritual].body}}),V({name:Bt.Personal,component:Kt,class:Ve("down"),customCss:"\n\t\t\t\t\t.settings .app-dash { opacity: 100% !important; }\n\t\t\t\t",beforeShow:async()=>{m.on("settings:hidden",Ge),await m.commandManager.executeAsync("settings.display",null,{section:"focus-mode-settings"})},onLeave(){m.off("settings:hidden",Ge)},componentProps:{...Wt,elementReadyEvent:"settings:focusMode:rendered",targetElementSelector:".app .settings-app",position:ee.Right,alignment:te.Left,nippleVisible:!1,ctaText:"I'm ready to focus!",ctaCallback(){m.commandManager.execute("settings.toggle")},headerText:jt[Bt.Personal].header,bodyText:jt[Bt.Personal].body}})]}),zt=M({name:"Tab Stash Onboarding",event:"tabStash:opened",component:()=>v((()=>import("./SubStepTipsContainer-qNi6D4aT.js")),__vite__mapDeps([17,1,2,3,4,5,6,9])),userCreatedTimeGate:G,transitionName:"fade-slide-tip",onShow:()=>{m.on("tabStash:closed",We)},onLeave:()=>{m.off("tabStash:closed",We)},subSteps:[V({name:"Tab Stash",component:()=>v((()=>import("./Popup-CK9iWfQK.js")),__vite__mapDeps([7,1,2,3,4,5,6,8,9,10,11,12,13,14,15])),class:Ve("down"),componentProps:{...Wt,bodyText:"Save and restore tabs for distraction-free focus.",targetElementSelector:".tabs .app .app-header",position:ee.Right,targetDistance:5,nippleAlignmentOffset:0,ctaText:"Ok",ctaTriggersComplete:!0,imageUrl:"https://content.momentumdash.com/blogimages/4e6db10c-e4b8-4970-a92b-2f22baac4eb1",visualIsVideo:!0}})]}),Jt=M({name:Le(A.ONBOARDING_SITE_BLOCKER_ONE,"onboarding"),component:()=>v((()=>import("./Popup-CK9iWfQK.js")),__vite__mapDeps([7,1,2,3,4,5,6,8,9,10,11,12,13,14,15])),transitionName:"fade-blurred-tip-app",componentProps:{...Wt,targetElementSelector:".app-container .site-blocker-groups-list-item",position:ee.Right,targetDistance:5,ctaText:"Got it!",ctaTriggersComplete:!0,bodyText:Ft[A.ONBOARDING_SITE_BLOCKER_ONE]},shouldActivate:async()=>(await l((()=>ue().loaded)).toBe(!0),await l((()=>ue().loading)).toBe(!1),await P(300),!0),event:"siteBlockerGroups:opened",onShow:()=>{c.$on("siteBlocker:closed",We),c.$on("siteBlockerGroups:closed",We)},onLeave:()=>{c.$off("siteBlocker:closed",We),c.$off("siteBlockerGroups:closed",We)}}),Zt=()=>v((()=>import("./Popup-CK9iWfQK.js")),__vite__mapDeps([7,1,2,3,4,5,6,8,9,10,11,12,13,14,15])),Qt=M({name:Le(A.ONBOARDING_FOCUS_INSIGHTS,"onboarding"),event:"focusInsightsApp:opened",component:()=>v((()=>import("./SubStepTipsContainer-qNi6D4aT.js")),__vite__mapDeps([17,1,2,3,4,5,6,9])),transitionOnSubStepChange:!0,transitionName:"fade-slide-tip",onShow:()=>{m.on("focusInsightsApp:closed",We)},onLeave:()=>{m.off("focusInsightsApp:closed",We)},subSteps:[V({name:xt.Goal,component:Zt,class:Ve("down"),componentProps:{...Wt,bodyText:Ut[xt.Goal],targetElementSelector:".focus-mode-metric .weekly-time",position:ee.Left,targetDistance:36,nippleAlignmentOffset:10,ctaText:"Next",ctaTriggersComplete:!0}}),V({name:xt.Track,component:Zt,class:Ve("down"),componentProps:{...Wt,bodyText:Ut[xt.Track],targetElementSelector:".focus-mode-metric .cell-metric:first-child",position:ee.Left,targetDistance:26,ctaText:"Got it!",ctaTriggersComplete:!0}})]}),Xt=async({appsEnabled:e}={})=>new Promise((t=>{const o=()=>{m.trigger("focusMode:start"),m.once("focusMode:started",t)},s=!J.focusModeVisible;s&&c.$once("focusMode:ready",(()=>o())),J.focusModeVisible=!0,null==e||e.forEach((e=>{ce(e,"enabled",!0)})),F.currentValue||s?F.currentValue&&t():o()})),eo=()=>{y("https://moda.sh/release-notes")},to=()=>pe("release_update_site_blocker_visual"),oo=M({name:"Sounds Onboarding",component:()=>v((()=>import("./Popup-CK9iWfQK.js")),__vite__mapDeps([7,1,2,3,4,5,6,8,9,10,11,12,13,14,15])),event:"sounds:opened",userCreatedTimeGate:G,keepOpenUntilComplete:!0,transitionName:"fade-slide-down",onShow(){c.$on("sounds:closed",We)},onLeave(){c.$off("sounds:closed",We)},componentProps:{...Wt,targetElementSelector:".sounds-library",targetDistance:5,position:ee.Right,alignment:te.Left,nippleVisible:!1,ctaText:$t()?"Start exploring":"Release Notes",ctaTriggersComplete:!0,ctaCallback(){$t()||eo()},headerText:Gt[$t()?Yt.New:Yt.Existing].header,bodyText:Gt[$t()?Yt.New:Yt.Existing].body}}),so={[A.FOCUS_MODE_ONBOARDING]:qt,[A.TAB_STASH_ONBOARDING]:zt,[A.ONBOARDING_SITE_BLOCKER_ONE]:Jt,[A.ONBOARDING_FOCUS_INSIGHTS]:Qt,[A.ONBOARDING_SOUNDS]:oo},ao=(e,t)=>{const o=new g({feature:`survey pmf typeform ${R(e)}`});return{component:()=>v((()=>import("./SurveyIframeModal-BZZK3Map.js")),__vite__mapDeps([234,1,2,3,4,5,6,19,20,9,21,30,164,165,74,75,166,167,168,46,43,77,78,79,80,81,82,12,84,161,42,162,163,169,170,76,83,44,171,172,173,174,175,176,177,178,235])),componentProps:{src:t},onShow(){o.capture(`survey pmf show ${e} typeform`)},onDismiss(){o.capture(`survey pmf dismiss ${e} typeform`)}}},no={[A.SURVEY_PMF_TYPEFORM_FREE]:M({name:Le(A.SURVEY_PMF_TYPEFORM_FREE,"survey"),...ao("free",Pt.PmfFree)}),[A.SURVEY_PMF_TYPEFORM_PLUS]:M({name:Le(A.SURVEY_PMF_TYPEFORM_PLUS,"survey"),...ao("plus",Pt.PmfPlus)}),[A.SURVEY_SITE_BLOCKER_TYPEFORM]:M({name:Le(A.SURVEY_SITE_BLOCKER_TYPEFORM,"survey"),...ao("site blocker",Pt.SiteBlocker)}),[A.SURVEY_GENERAL_FEEDBACK]:M({name:Le(A.SURVEY_GENERAL_FEEDBACK,"survey"),...ao("general feedback",yt.GeneralFeedback)}),[A.SURVEY_BUG_REPORT]:M({name:Le(A.SURVEY_BUG_REPORT,"survey"),...ao("bug report",yt.BugReport)}),[A.SURVEY_BETA_TEST]:M({name:Le(A.SURVEY_BETA_TEST,"survey"),...ao("beta test",yt.BetaTest)})},io=M({name:"Pomodoro switcher moved",component:()=>v((()=>import("./Popup-CK9iWfQK.js")),__vite__mapDeps([7,1,2,3,4,5,6,8,9,10,11,12,13,14,15])),componentProps:{width:350,bodyText:"We've given Pomodoro a new home. You'll now find it in here.",ctaText:"Got it!",ctaTriggersComplete:!0,targetElementSelector:".clock .more-toggle .icon-ellipsis",targetDistance:5,imageUrl:"https://momentum.photos/assets/89478a9e-3314-4e69-b5fa-5984bb6c0cdd",visualIsVideo:!0},customCss:".clock .more-toggle .icon-ellipsis, .clock .portal-toggle { opacity: 1 !important; }",shouldActivate:async()=>{const e=(await v((async()=>{const{usePomodoroCompletedStore:e}=await import("./pomodoroCompleted-B2E_m1QL.js").then((e=>e.c));return{usePomodoroCompletedStore:e}}),__vite__mapDeps([232,1,2,3,4,5,6,43,74,75,83,77,78,79,80,81,82,230,169,161,42,162,30,163,166,233]))).usePomodoroCompletedStore(),t=(await v((async()=>{const{default:e}=await import("./SubscriptionSummary-BTlVYU_L.js").then((e=>e.b));return{default:e}}),__vite__mapDeps([46,1,2,3,4,5,6,43]))).default(),o=17256672e5;return e.refresh(),await l((()=>e.loaded)).toBe(!0),await l((()=>t.loaded)).toBe(!0),await l((()=>t.loading)).toBe(!1),null!==t.firstSubscriptionStart&&new Date(t.firstSubscriptionStart).getTime()<o&&e.data.some((e=>new Date(e.completed).getTime()<o))&&!0===J.clockVisible&&"true"!==localStorage.getItem("pomodoro-showing")},onShow(){m.on("clock:dropdownToggled",Ye)},onLeave(){m.off("clock:dropdownToggled",Ye)}}),ro={title:"Calendar, Music & Icons",description:"New Spotify, YouTube, Google Calendar integrations",notes:["Explore Spotify, YouTube, or our own soundscapes directly from your dashboard without getting distracted.","Google Calendar integration: See time until next event, your schedule for the next 2 days, and start focusing until your next event.","For a minimal look, hide app labels and customize with icons."],visualSrc:"/img/release/calendar-sounds-two-point-one-icons.png",visualIsVideo:!1,accentColor:"201 92% 30%",buttons:[{text:"Activate Calendar",callback:async()=>{await(async()=>{Z({calendarVisible:!0,centerBelowVisible:!0,centerBelowApp:_e.Schedule}),await Se("release update modal").catch((e=>{console.error(e)}))})()},primary:!0,dismiss:!0},{text:m.conditionalFeatures.featureEnabled("plus")?"Open Sounds":"Explore Sounds in Focus Mode",callback:async()=>{m.conditionalFeatures.featureEnabled("plus")?(J.soundscapesVisible=!0,await(await v((async()=>{const{useSoundsViewStateStore:e}=await import("./soundsViewState-D7LNJV4L.js");return{useSoundsViewStateStore:e}}),__vite__mapDeps([236,177,1,2,3,4,5,6,178]))).useSoundsViewStateStore().togglePopup(!0)):await Xt({appsEnabled:["soundscapes"]})},primary:!m.conditionalFeatures.featureEnabled("plus"),dismiss:!0},{text:"Learn more",callback:()=>{eo()},primary:!1,dismiss:!1}]},co={title:"Focus Mode 1.2",description:"Your focus just got an upgrade",notes:["New picture-in-picture mode allows you to always see your focus timer.","Prefer not to use Pomodoro? Enable Countup mode.","A fully updated timer, fullscreen view, smoother transitions, sounds that sync with the timer and more!"],visualSrc:"/img/release/focus-mode-one-point-two.png",visualIsVideo:!1,accentColor:"180 87% 30%",buttons:[{text:"Try now in Focus Mode",callback:async()=>{await Xt({appsEnabled:["siteBlocker"]})},primary:!0,dismiss:!0},{text:"Learn more",callback:()=>{eo()},primary:!1,dismiss:!1}]},lo={title:"Site Blocker",description:"Protect your focus with Site Blocker",notes:["Introducing Site Blocker: our new tool to block distracting websites during Focus Mode.","Hereâ€™s how it works: When you go to open a distracting website, an intervention will appear.","The intervention screen reminds you of your current task, goal, or intention."],visualSrc:"video"===(null==(e=to())?void 0:e.variantName)?"https://momentum.photos/assets/e5b0b49c-004e-4609-81c5-ba7a4a6a1242":"/img/release/site-blocker.png",visualIsVideo:"video"===(null==(t=to())?void 0:t.variantName),accentColor:"242 70% 52%",buttons:[{text:"Try now for free in Focus Mode",callback:async()=>{await Xt({appsEnabled:["siteBlocker"]}),xe(A.FOCUS_MODE_ONBOARDING,{includeDismissed:!0})&&xe(A.TIP_SITE_BLOCKER_FIRST_TIME,{includeDismissed:!0})&&c.$emit("siteBlocker:open")},primary:!0,dismiss:!0},{text:"Learn more",callback:()=>{eo()},primary:!1,dismiss:!1}]},mo="releaseUpdateModalCheck",po=M({name:"Release Update",component:()=>v((()=>import("./ReleaseUpdateModal-D90wZUdr.js")),__vite__mapDeps([237,1,2,3,4,5,6,19,20,9,21,30,238])),shouldActivate:async()=>{const e=!!(await X.get(mo)),t=x.currentValue||F.currentValue,o=e&&!t;return o&&X.delete(mo),o},componentProps:{...[ro,co,lo][0]}}),uo=M({name:"Setup Dashboard",component:()=>v((()=>import("./SetupUnregisteredDashboard-BbS-PrX2.js")),__vite__mapDeps([239,1,2,3,4,5,6,161,42,43,162,30,163,77,78,79,80,81,82,26,27,28,9,29,240])),hideOtherApps:!0,async onComplete(){await k(),await ne()},async onLeave(){await ie(),d.introductionActive=!1}}),_o=M({name:"Modal Introduction",component:()=>v((()=>import("./OnboardingModalIntroduction-Byh3vBl8.js")),__vite__mapDeps([241,1,2,3,4,5,6,19,20,9,21,242])),onShow(){X.delete(mo)},hideOtherApps:!1,keepOpenUntilComplete:!0,subSteps:[V({name:Ae.Motivation,headerText:Ne[Ae.Motivation].header,bodyText:Ne[Ae.Motivation].body,imageUrl:"motivation.png",ctaText:"Next"}),V({name:Ae.Procrastination,headerText:Ne[Ae.Procrastination].header,bodyText:Ne[Ae.Procrastination].body,imageUrl:"procrastination.png",ctaText:"Next",secondaryText:"Try Plus for free",secondaryCallback:()=>{m.cmd("modal.open","FREE_TRIAL",{force:!0})}}),V({name:Ae.Focus,headerText:Ne[Ae.Focus].header,bodyText:Ne[Ae.Focus].body,imageUrl:"focus.png",ctaText:"Try Focus Mode",ctaCallback:async()=>{Ke(),await l((()=>x.currentValue)).toBe(!0)},secondaryText:"Explore dashboard",secondaryTriggersComplete:!0})]}),So=M({name:"Team Expired",hideOtherApps:!0,component:()=>v((()=>import("./TeamExpired-dvWZ0i1U.js")),__vite__mapDeps([243,1,2,3,4,5,6,190,9,191,244]))}),Eo=new class{add(e={}){Object.entries(e).forEach((([e,t])=>{me[e]().then((e=>{"function"==typeof e?e().mockData(Object.fromEntries(t.map((e=>[e.id,e])))):e.mockData(t)}))}))}clear(e=[]){e.forEach((e=>{me[e]().then((e=>{"function"==typeof e?e().clearMockData():e.clearMockData()}))}))}},To=()=>v((()=>import("./Popup-CK9iWfQK.js")),__vite__mapDeps([7,1,2,3,4,5,6,8,9,10,11,12,13,14,15])),go=M({name:"Plus Notification Introduction",component:()=>v((()=>import("./SubStepTipsContainer-qNi6D4aT.js")),__vite__mapDeps([17,1,2,3,4,5,6,9])),hideOtherApps:!1,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,plusSubscriptionTimeGate:"2022-06-05T00:00:00.000Z",keepOpenUntilComplete:!0,transitionDuration:250,customCss:"\n\t\t.app-dash,\n\t\t.pomodoro,\n\t\t.focus-mode-metric.app-dash,\n\t\t.links-dash.pinned-links,\n\t\t.clock,\n\t\t.mantra,\n\t\t.greeting,\n\t\t.focus-wrapper\n\t\t{ opacity: 50% !important; }\n\t",onShow(){m.on("focusMode:starting",We),qe()},onLeave(){m.off("focusMode:starting",We),ze()},subSteps:[V({name:Oe.Customize,component:To,class:Ve("up"),beforeShow:async()=>{I({clockVisible:!0,greetingVisible:!0,mantraVisible:!0,quoteVisible:!0}),J.quoteVisible||(m.once("quote:created",(()=>{m.trigger("quote:override",Pe[0])})),await P(300))},onLeave:async()=>{I({clockVisible:null,greetingVisible:null,mantraVisible:null,quoteVisible:null}),J.quoteVisible||await P(300),m.trigger("quote:override","")},customCss:"\n\t\t\t\t\t.quote\n\t\t\t\t\t.app-dash,\n\t\t\t\t\t.photo-info\n\t\t\t\t\t.app-dash,\n\t\t\t\t\t.settings\n\t\t\t\t\t.app-dash,\n\t\t\t\t\t.mantra,\n\t\t\t\t\t.greeting { opacity: 100% !important; }\n\t\t\t\t",componentProps:{...De,id:Oe.Customize,targetElementSelector:".quote .app-dash",targetDistance:13,position:ee.Top,alignment:te.Center,ctaText:"What else?",ctaTriggersComplete:!0,secondaryTriggersComplete:!0,secondaryText:"Customize in Settings",secondaryCallback:async()=>{await m.commandManager.executeAsync("settings.display",null,{section:"quote-settings"}),await new Promise((e=>{m.on("settings:hidden",e)}))},subHeaderText:"Step 1 of 4",headerText:Ie[Oe.Customize].header,bodyText:Ie[Oe.Customize].body}}),V({name:Oe.Glance,component:()=>v((()=>import("./OnboardingTipNotificationIntroduction-W9SFHAuO.js")),__vite__mapDeps([245,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,246])),class:Ve("down"),beforeShow:async()=>{Eo.add(ye),I({metricVisible:!0,countdownVisible:!0,multiClockVisible:!0,searchVisible:!1,soundscapesVisible:!1,tabsVisible:!1,siteBlockerVisible:!1}),J.searchVisible&&await P(200)},onLeave(){I({metricVisible:null,countdownVisible:null,multiClockVisible:null,searchVisible:null,soundscapesVisible:null,tabsVisible:null,siteBlockerVisible:null}),Eo.clear(Object.keys(ye))},customCss:"\n\t\t\t\t\t.add-metric .app-dash, .dash-items .base-metric-dash { opacity: 100% !important; pointer-events: none; }\n\t\t\t\t\t.base-metric-dash .metric-adjust { display: none; }\n\t\t\t\t",componentProps:{...De,id:Oe.Glance,targetElementSelector:'[data-type="countdown"].base-metric-dash',targetDistance:10,position:ee.Bottom,alignment:te.Left,ctaText:"Next",ctaTriggersComplete:!0,subHeaderText:"Step 2 of 4",headerText:Ie[Oe.Glance].header,bodyText:Ie[Oe.Glance].body,tipClickSelector:".dash-items",tipTargetSelector:'[data-type="clock"].base-metric-dash',tipText:Ie[Oe.Glance].tip}}),V({name:Oe.Tasks,component:To,class:Ve("up"),beforeShow:async()=>{c.$on("tasks:closed",Ge),I({todoVisible:!0,focusVisible:!0,searchVisible:!1,autoFocus:!1}),Eo.add(Ce);const e=Ee();e.listTitle=we,e.todos=Re,e.providerIcon=ve;const t=Te();await t.setActiveView(ge.Mock),await t.togglePopup(!0,{resetActiveView:!1}),await P(200)},onLeave:async()=>{Eo.clear(Object.keys(Ce)),c.$off("tasks:closed",Ge),await Te().togglePopup(!1),I({todoVisible:null,focusVisible:null,searchVisible:null,autoFocus:null})},customCss:"\n\t\t\t\t\t.todo .app-dash { opacity: 100% !important; }\n\t\t\t\t\t.focuses.app-container { pointer-events: none; }\n\t\t\t\t",componentProps:{...De,id:Oe.Tasks,targetElementSelector:".todo .app.popup",position:ee.Top,alignment:te.Center,nippleVisible:!1,targetDistance:8,width:320,ctaText:"Next",ctaTriggersComplete:!0,secondaryText:"Add integration",secondaryTriggersComplete:!0,secondaryCallback:async()=>{await m.commandManager.executeAsync("settings.display",null,{section:"todo"}),await new Promise((e=>{m.on("settings:hidden",e)}))},subHeaderText:"Step 3 of 4",headerText:Ie[Oe.Tasks].header,bodyText:Ie[Oe.Tasks].body}}),V({name:Oe.Focus,component:To,class:Ve("down"),beforeShow(){m.trigger("pomodoro:show")},onLeave(){m.trigger("pomodoro:show",!1)},customCss:"\n\t\t\t\t\t.top-left .app-dash, .pomodoro { opacity: 100% !important; }\n\t\t\t\t",componentProps:{...De,id:Oe.Focus,targetElementSelector:".focus-mode .app-dash",ctaText:"Learn more about Plus",ctaCallback(){y("https://get.momentumdash.help/hc/en-us/categories/115001272227-Momentum-Plus")},ctaTriggersComplete:!0,subHeaderText:"Step 4 of 4",headerText:Ie[Oe.Focus].header,bodyText:Ie[Oe.Focus].body}})]}),ho={[A.SETUP_UNREGISTERED_DASHBOARD]:uo,[A.LOGIN]:Lt,[A.ONE_TIME_LOGIN]:Nt,[A.RELEASE_UPDATE]:po,[A.FREE_INTRODUCTION]:_o,[A.FREE_VIDEO_INTRODUCTION]:Qe,[A.PLUS_INTRODUCTION]:go,[A.UPGRADE]:Vt,[A.TEAM_EXPIRED]:So,[A.FAVICON_PERMISSION]:M({name:"Favicon Permission",component:()=>v((()=>import("./FaviconPermission-C7QNykdv.js")),__vite__mapDeps([247,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,233,30,248,249]))}),[A.POMODORO_SWITCHER]:io,[A.SAFARI_ACCOUNT]:M({name:"Safari account modal",component:()=>v((()=>import("./SafariAccount-B9xL3yLB.js")),__vite__mapDeps([250,1,2,3,4,5,6,26,27,28,9,29,251,39,252])),customCss:".step-container { background: white; } .modal { --modal-height: auto!important; }",transitionName:"fade"}),[A.PERMISSION_REQUEST]:M({name:"Permission request",component:()=>v((()=>import("./PermissionRequest-Bk1k-Pu5.js")),__vite__mapDeps([253,230,1,2,3,4,5,6,26,27,28,9,29,254,255])),transitionName:"fade"}),[A.UPSELLS]:pt,...Dt,...Rt,...so,...no},fo=Object.entries(ho).reduce(((e,[t,o])=>({...e,[t]:{...o,id:t}})),{}),bo=_()?[]:[A.RELEASE_UPDATE],Oo=[A.FREE_INTRODUCTION,...bo,...St,..._t],Io=[A.FREE_INTRODUCTION,...bo,..._t],Po=[A.PLUS_INTRODUCTION,...bo,...Et,A.POMODORO_SWITCHER],yo=[...Tt,...kt],wo={unregistered:[...Oo,...yo],free:[...Io,...yo],plus:[...Po,...yo],teamMember:[...bo,...yo],teamAdmin:[...bo,...yo]},Ro={all:Object.keys(fo),upsells:Object.keys(pt),...wo},vo=rt(),Co=(e=(()=>new a("onboardingSteps",{mode:n.TimestampStrict,path:"onboarding_steps",queryParams:{update:{update_mask:"*"}}}))())=>S("onboarding",{state:()=>({items:{},loading:!1,itemsLoaded:!1}),actions:{async refresh(){if(!this.loading)return this.loading=!0,this.itemsLoaded?e.refresh():Promise.allSettled([new Promise(((t,o)=>{e.get({success:e=>{const o=[];e.forEach((e=>{E.set(this.items,e.id,e),e.id&&o.push(e.id)})),Object.keys(this.items).forEach((e=>{o.includes(e)||E.delete(this.items,e)})),this.itemsLoaded=!0,t()},failure(e){console.error(e),o(e)}})})),vo.refresh()]).finally((()=>{this.loading=!1}))},async saveStepProgress(t,{status:o=U.Active,activeSubStepIndex:s=0,data:a={}}={}){"string"==typeof t&&(t=fo[t]);const n=this.getStep(t);if(n){const r=structuredClone(n);if(n.status=o,n.data={...n.data,...a,activeSubStepIndex:s},!Object.keys({...$(n,r),...$(n.data,r.data)}).length)return void console.warn(`Onboarding: ${t.id||t} redundantly saved with no changes detected`);try{E.set(this.items,n.id,{...n}),await e.update(n.id,n)}catch(i){E.set(this.items,n.id,r),console.error(i)}}else{const n=W(o)?Date.now():null,r=new he({name:t.id,status:o,data:{activeSubStepIndex:s,dateCompleted:n,...a}});E.set(this.items,r.id,{...r});try{await e.create(r.id,r)}catch(i){console.error(i),E.delete(this.items,r.id)}}t.alsoCompletesSteps&&W(o)&&await Promise.all(t.alsoCompletesSteps.map((e=>{const t=fo[e],s=this.getStep(t);return s&&W(s.status)?Promise.resolve():this.saveStepProgress(t,{status:o})})))},getStep(e){let t,o,s={};if("string"==typeof e){if(t=e,H(t)){const e=fo[t];"legacyId"in e&&(o=e.legacyId),s=vo.getStepLocalData(t)}}else t=e.id,o=e.legacyId,s=vo.getStepLocalData(t);const a=Object.values(this.items).find((e=>!(!o||e.status!==U.Legacy||e.name.toLowerCase()!==o)||e.name===t));return a?new he({...a,data:{...a.data,...s}}):null},async deleteStepProgress(t){var o;const s=null==(o=this.items[t])?void 0:o.name;return s&&await vo.deleteStepLocalData(s),E.delete(this.items,t),e.delete(t)}}}),Do=Co(),Ao=Object.freeze(Object.defineProperty({__proto__:null,makeOnboardingStore:Co,useOnboardingStore:Do},Symbol.toStringTag,{value:"Module"}));export{At as O,Pt as S,at as a,Ro as b,ut as c,fo as d,tt as e,Ao as f,it as g,mt as o,vt as r,Do as u};
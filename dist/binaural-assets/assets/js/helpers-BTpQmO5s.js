import{t as a}from"./string-BBKP9xfj.js";import{X as e,u as t,Y as r,Z as s}from"./dynamic-import-helper-CTnsj-vI.js";import{m as o,g as i}from"./Logger-cMW5At62.js";import{T as n}from"./TabLeaderElection-Ddi84wmm.js";const m=a=>a,l=(e,t)=>({id:a(e.name),...e}),d=new n("dashboardExperiment",{ifAvailable:!0}),p=async()=>{if(!(await o.get(e)))return!1;if(await t(d.isLeader).not.toBeNull(),!d.isLeader.value)return!1;const a=await i(r),n=Number(a??"0")/2,m=Math.random(),l=m<n?"experimental":m<2*n?"control":void 0;return l&&localStorage.setItem(s,l),"experimental"===l},c=async()=>{await o.delete(e),null==d||d.stepDown()};export{l as a,p as b,c,m as d};
import{g as e}from"./FlashMessage-ghB6f3ER.js";import"./flashMessageQueue-C7gl3k6c.js";import"./dynamic-import-helper-CTnsj-vI.js";import"./array-YYQw31d9.js";import"./style-D-IRYiWS.js";import"./Logger-cMW5At62.js";import"./string-BBKP9xfj.js";import"./info-DdD9a7JK.js";import"./globalKeyEventManager-C6pBx38h.js";import"./icon-close-DRlspKs3.js";import"./_plugin-vue2_normalizer-DeUNqxFl.js";class t{constructor(e,t){this._handleMotionChange=e=>{const t=this._container,r=t.actualOptions.motion;r&&(e.matches?r.disable?t.retina.reduceFactor=0:t.retina.reduceFactor=r.reduce.value?1/r.reduce.factor:1:t.retina.reduceFactor=1)},this._container=e,this._engine=t}async init(){const t=this._container,r=t.actualOptions.motion;if(!r||!r.disable&&!r.reduce.value)return void(t.retina.reduceFactor=1);const i=e("(prefers-reduced-motion: reduce)");if(!i)return void(t.retina.reduceFactor=1);this._handleMotionChange(i);const o=()=>{(async()=>{this._handleMotionChange(i);try{await t.refresh()}catch{}})()};void 0!==i.addEventListener?i.addEventListener("change",o):void 0!==i.addListener&&i.addListener(o),await Promise.resolve()}}export{t as MotionInstance};
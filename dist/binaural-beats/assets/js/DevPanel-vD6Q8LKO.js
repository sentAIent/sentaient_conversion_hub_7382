import e from"./BaseIcon-BW2ar6VN.js";import{n as t}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{a,u as r}from"./devAppsStore-BsXYxJLd.js";import{A as i}from"./AppLoading-DWsYUtJy.js";import{d as n,v as s,V as o,M as l,P as c,a as d,a7 as u,aZ as p,n as f,q as h}from"./dynamic-import-helper-CTnsj-vI.js";import v from"./icon-pin-5KioIhLy.js";import g from"./storage-CP_Lr9ur.js";import b from"./icon-circle-C-H4iUpv.js";import{g as y,c as w}from"./_commonjsHelpers-B3K3fdV-.js";import{e as C,b as _,u as k}from"./onboarding-Di5GE543.js";import I from"./modalDevPanelManager-qwcExLgK.js";import x from"./icon-alert-BikrS7AG.js";import{S as M}from"./Slider-CQj4eUm1.js";import{g as P}from"./globalKeyEventManager-C6pBx38h.js";import{i as S,b as A}from"./itemCollectionMixins-DB9fXink.js";import"./VueBase-C55TLWt3.js";import T from"./icon-tooltip-D4TzAUBN.js";import{S as E}from"./SoftFocus-BUhesXB-.js";import{F as j}from"./FormToggle-CRXN1Mz8.js";import{F as O}from"./FormSelectIcon-COiVF-1l.js";import{F as $}from"./FormMessage-D8y-6rLo.js";import D from"./icon-cog-DRff0NFq.js";import L from"./icon-log-in-M7aDBZqk.js";import{S as B}from"./SmoothReflow-QsxkeVSi.js";import{T as F}from"./ToggleSwitch-BMo4SbmD.js";import N from"./icon-ellipsis-D7nTOXaQ.js";import V from"./icon-back-D7vBl-rG.js";import q from"./icon-close-DRlspKs3.js";import R from"./icon-plus-B-FkYz15.js";import G from"./icon-trash-BSyM-ydR.js";import"./style-D-IRYiWS.js";import"./array-YYQw31d9.js";import"./Logger-cMW5At62.js";import"./string-BBKP9xfj.js";import"./main-xTIbTNhj.js";import"./linksViewState-DVC8HnZc.js";import"./ViewState-DH0LvQYq.js";import"./appZStack-Zxx-wHpo.js";import"./constants-Bt_TxKWw.js";import"./links-C4TPnqUd.js";import"./compareObjects-R6Hcs7xe.js";import"./pinia-B4IAWUO-.js";import"./notesViewState-BQPx50_t.js";import"./notes-C3sd-Oll.js";import"./constants-CALDQiUE.js";import"./focusModeInsightsViewState-f77ETMNP.js";import"./enums-1c3kgXdw.js";import"./helpers-BTpQmO5s.js";import"./TabLeaderElection-Ddi84wmm.js";import"./focusModeState-BPyBLUbE.js";import"./LocalStorageStoreSyncedItem-DMdfjgsv.js";import"./onboarding-B35lV45t.js";import"./modal-BWwnzHDf.js";import"./SubscriptionSummary-BTlVYU_L.js";import"./persistStore-BDYPfxbs.js";import"./reactiveCustomization-CEUTOUc3.js";import"./ClickOutside-DCLvi2fj.js";import"./portal-vue.esm-DdddSpdW.js";import"./constants-BfBD_H-d.js";import"./authService-UjcjSrh8.js";import"./auth-BwdMrzFn.js";import"./legacyUserMigration-CaazFMYU.js";import"./migrateLegacyUserMessageHandler-CZ8nZZlg.js";import"./login-HJtMK9QU.js";import"./icon-confetti-BvRSomF2.js";import"./focusModeHelpers-tDECULZC.js";import"./PomodoroTimers-CyrfcuWH.js";import"./experiments-6paecGsK.js";import"./siteBlockerGroups-BbPmPcem.js";import"./constants-Dqx3dGLK.js";import"./SettingsTypes-BotgHBzA.js";import"./accessToken-Cx8MZLdN.js";import"./tasksMockData-CwjLszHJ.js";import"./tasksViewState-qOrGChOD.js";import"./FormFieldWrapper-BVlpMs4u.js";import"./BaseDropdown-CB3yfeIu.js";import"./BaseDropdownContent-C68ik0op.js";import"./index-998LMmMn.js";import"./ResizeSensor-ZXOsDHeC.js";import"./useAllComponentsMounted-VdWDSwjD.js";const W=t({name:"DevNav",components:{BaseIcon:e},props:{activeTabId:{type:String,default:"Notification"},tabs:{type:Array,required:!0},dropdownActive:{type:Boolean,default:!1}},methods:{goToTab(e){this.$emit("update:dropdownActive",!1),this.$emit("goToTab",e)}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dev-nav"},[t("div",{staticClass:"nav-active",on:{click:function(t){return e.$emit("update:dropdownActive",!e.dropdownActive)}}},[e._v(" "+e._s(e.activeTabId)+" "),t("base-icon",{attrs:{src:"chevron-down",size:"11px"}})],1),e.dropdownActive?t("div",{staticClass:"nav-dropdown"},e._l(e.tabs,(function(a,r){return t("div",{key:r,staticClass:"nav-item",class:{active:e.activeTabId===a.name},on:{click:function(t){return t.stopPropagation(),e.goToTab(a.name)}}},[e._v(" "+e._s(a.name)+" ")])})),0):e._e()])}),[],!1,null,"4a711586").exports;const z=t({name:"DevApps",components:{AppLoading:i},setup:()=>({apps:a,singleClicked:!1,devAppsStore:r()}),created(){Object.values(a).forEach((e=>e.refresh()))},methods:{camelCaseToReadable:n.camelCaseToReadable,onViewClick(e,t){const a=this.getSelectedItem(e,t);this.singleClicked?this.togglePinned(e,t,a):(this.devAppsStore.openView(e,t,a),this.singleClicked=!0,setTimeout((()=>this.singleClicked=!1),500))},onSelectChange(e,t){const a=this.getSelectedItem(e,t);this.isPinned(e,t)&&this.devAppsStore.pinApp(e,t,a),this.devAppsStore.openView(e,t,a)},togglePinned(e,t,a){this.isPinned(e,t)?this.devAppsStore.clearPinned():this.devAppsStore.pinApp(e,t,a)},isPinned(e,t){return this.devAppsStore.pinned.appId===e&&this.devAppsStore.pinned.viewId===t},isActive:(e,t)=>a[e].views[t].isActive(),getSelectedItem(e,t){var a;return null==(a=this.devAppsStore.selectedItems[e])?void 0:a[t]}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dev-apps"},[t("transition",{attrs:{name:"fade",duration:"100",mode:"out-in"}},[e.devAppsStore.loaded?t("div",{staticClass:"dev-apps-list"},e._l(e.apps,(function(a,r){return t("div",{key:r,staticClass:"dev-app"},[t("label",[e._v(e._s(e.camelCaseToReadable(r)))]),t("div",{staticClass:"dev-views"},e._l(a.views,(function(a,i){return t("div",{key:i,staticClass:"dev-view",class:{active:e.isActive(r,i),pinned:e.isPinned(r,i)},on:{click:function(t){return e.onViewClick(r,i)}}},[t("div",{staticClass:"title"},[e._v(e._s(e.camelCaseToReadable(i)))]),a.selectableItems&&Object.keys(a.selectableItems()).length?t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.devAppsStore.selectedItems[r][i],expression:"devAppsStore.selectedItems[appId][viewId]"}],staticClass:"items",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.devAppsStore.selectedItems[r],i,t.target.multiple?a:a[0])},function(t){return e.onSelectChange(r,i)}],click:function(e){e.stopPropagation()}}},e._l(a.selectableItems(),(function(a){return t("option",{key:a.id,domProps:{value:a.id}},[e._v(e._s(a.name))])})),0)]):e._e(),t("inline-svg",{staticClass:"icon icon-pin",attrs:{src:v}})],1)})),0)])})),0):t("app-loading")],1),t("div",{staticClass:"button clear-pinned",on:{click:e.devAppsStore.clearPinned}},[e._v("Clear Pinned")])],1)}),[],!1,null,"bd50d466").exports;var H="https://api.momentumdash.com/",U="https://account.momentumdash.com/",K="https://www.momentumdash.com/",Y="2.23.4",X="production";const Q=t({name:"DevInfo",setup:()=>({email:m.isLoggedIn()?localStorage.getItem("email"):"(anonymous)",version:Y,mode:X}),computed:{serverInfo:()=>`urlRootApi: ${H}\nurlRootAccount: ${U}\nurlRootMarketing: ${K}`},methods:{clearStorage(){m.utils.clearStorage()}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dev-info"},[t("div",{staticClass:"dev-info-item clear-ls",attrs:{title:"Clear Local Storage"},on:{click:e.clearStorage}},[t("inline-svg",{staticClass:"icon",attrs:{src:g}})],1),t("span",{staticClass:"dev-info-item badge",attrs:{title:e.serverInfo}},[e._v(e._s(e.mode))]),e.$team?t("span",{staticClass:"dev-info-item badge badge-team"},[e._v("TEAM")]):e.$plus?t("span",{staticClass:"dev-info-item badge badge-plus"},[e._v("PLUS")]):e._e(),t("span",{staticClass:"dev-info-item email",attrs:{title:e.email}},[e._v(e._s(e.email))])])}),[],!1,null,"c018eda1").exports;const Z=t({name:"Features",data:()=>({dropdownOpened:!1,selectedFeatureType:"Notification",notificationType:"",fields:[{id:"title",type:"input",label:"Title",placeholder:"Title",value:"ðŸŽ‰Â New from Momentum: Focus Sessions!"},{id:"message",type:"input",label:"Description",placeholder:"",value:"Live facilitator-led focus sessions to help you overcome distraction and complete your #1 thing every day."},{id:"cta_text",type:"input",label:"Button Text",placeholder:"(Optional)",value:"Check it out"},{id:"cta_cmd",type:"input",label:"Button Url",placeholder:"(Optional)",value:"https://momentumdash.com/plus"},{id:"secondary_text",type:"input",label:"Secondary Button Text",placeholder:"(Optional)",value:"Learn more"},{id:"secondary_cmd",type:"input",label:"Secondary Button Url",placeholder:"(Optional)",value:"https://momentumdash.com/plus"},{id:"image_url",type:"input",label:"Image URL",placeholder:"(Optional)",value:"https://i.giphy.com/media/UO5elnTqo4vSg/giphy.webp"},{id:"targetArea",type:"input",label:"Target Area",placeholder:"(Optional)",value:""},{id:"notification_type",type:"toggle",label:"Team",value:!1},{id:"image_has_white_background",type:"toggle",label:"Image has white background",value:!1}]}),watch:{fields:{handler:function(){let e=this.fields.find((e=>"notification_type"==e.id));e&&!0===e.value?this.notificationType="team":this.notificationType=""},deep:!0}},methods:{handleToggle(e){let t=this.fields.find((t=>t.id==e));t&&(t.value=!t.value)},showOnDashboard(){let e={};this.fields.forEach((t=>e[t.id]=t.value)),m.commandManager.execute("notification.show.enhanced",Object.assign(e,{views:0,visible:!0,notification_type:this.notificationType}))}}},(function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"feature-block"},[e._l(e.fields,(function(a,r){return t("div",{key:r,staticClass:"feature-fields"},["toggle"!=a.type?t("label",{staticClass:"field-label"},[e._v(e._s(a.label))]):e._e(),"input"===a.type?t("input",{directives:[{name:"model",rawName:"v-model.trim",value:a.value,expression:"field.value",modifiers:{trim:!0}}],attrs:{name:a.label,placeholder:a.placeholder,type:"text"},domProps:{value:a.value},on:{input:function(t){t.target.composing||e.$set(a,"value",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}):e._e(),"toggle"==a.type?t("div",{staticClass:"toggle-wrapper",class:{on:a.value},on:{click:function(t){return e.handleToggle(a.id)}}},[t("span",{staticClass:"toggle-label"},[e._v(e._s(a.label))]),t("span",{staticClass:"toggle-slider"},[t("inline-svg",{staticClass:"toggle-switch",attrs:{src:b}})],1)]):e._e()])})),t("span",{staticClass:"button button-show",on:{click:e.showOnDashboard}},[e._v("Show")])],2)])}),[],!1,null,"484364ea").exports,J=e=>+e.toFixed(10),ee=(e,t)=>({x:J(e),y:J(t)}),te=e=>{return(t=e,t.slice(t.indexOf("(")+1,t.lastIndexOf(")")).split(",").map((e=>e.trim())).filter((e=>""!==e))).map((e=>(e=>Number.isNaN(Number(e))?e:Number(e))(e)));var t};function ae(e,t,a){return(1-e)*(1-e)*(1-e)*0+(1-e)*(1-e)*3*e*t+3*(1-e)*(e*e)*a+e*e*e*1}const re={ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)"};function ie(e,t){const a=`Error parsing "${e}".`;if(re[e]&&(e=re[e]),e.includes("steps(")){const t=te(e),[r,i]=t;if(t.length<1||t.length>2)throw new Error(`${a} Got ${t.length} arguments but expected 1 or 2.`);if("number"!=typeof t[0])throw new Error(`${a} "${t[0]}" is not a number.`);if(2===t.length&&"string"!=typeof t[1])throw new Error(`${a} "${t[1]}" is not a string.`);return function(e,t="skip-end"){const a=[];let r=0;for(;r<e;){const i=r/e,n=(r+1)/e;let s;if("skip-none"===t)s=r/(e-1);else if("skip-both"===t)s=(r+1)/(e+1);else if("skip-start"===t||"start"===t)s=(r+1)/e;else{if("skip-end"!==t&&"end"!==t)throw new Error(`Error can't recognise step skip "${t}"`);s=r/e}a.push(ee(i,s)),a.push(ee(n,s)),++r}return a}(r,i)}if(e.includes("cubic-bezier(")){const r=te(e),[i,n,s,o]=r;if(4!==r.length)throw new Error(`${a} Got ${r.length} arguments but expected 4.`);return r.forEach((e=>{if("number"!=typeof e)throw new Error(`${a} "${e}" is not a number.`)})),function(e,t,a,r,i=10){const n=1/i;let s=[];for(let o=0;o<=1;o+=n)s.push({x:ae(o,e,a),y:ae(o,t,r)});return s.map((e=>ee(e.x,e.y)))}(i,n,s,o,t)}throw new Error(`${a} If not a typo then please create a GitHub issue :)`)}var ne,se,oe,le,ce,de,ue,pe,fe,he;function ve(){if(pe)return ue;pe=1;var e="-".charCodeAt(0),t="+".charCodeAt(0),a=".".charCodeAt(0),r="e".charCodeAt(0),i="E".charCodeAt(0);return ue=function(n){var s,o,l,c=0,d=n.length;if(0===d||!function(r){var i,n=r.charCodeAt(0);if(n===t||n===e){if((i=r.charCodeAt(1))>=48&&i<=57)return!0;var s=r.charCodeAt(2);return i===a&&s>=48&&s<=57}return n===a?(i=r.charCodeAt(1))>=48&&i<=57:n>=48&&n<=57}(n))return!1;for((s=n.charCodeAt(c))!==t&&s!==e||c++;c<d&&!((s=n.charCodeAt(c))<48||s>57);)c+=1;if(s=n.charCodeAt(c),o=n.charCodeAt(c+1),s===a&&o>=48&&o<=57)for(c+=2;c<d&&!((s=n.charCodeAt(c))<48||s>57);)c+=1;if(s=n.charCodeAt(c),o=n.charCodeAt(c+1),l=n.charCodeAt(c+2),(s===r||s===i)&&(o>=48&&o<=57||(o===t||o===e)&&l>=48&&l<=57))for(c+=o===t||o===e?3:2;c<d&&!((s=n.charCodeAt(c))<48||s>57);)c+=1;return{number:n.slice(0,c),unit:n.slice(c)}}}const me=y(function(){if(he)return fe;he=1;var e=function(){if(se)return ne;se=1;var e="(".charCodeAt(0),t=")".charCodeAt(0),a="'".charCodeAt(0),r='"'.charCodeAt(0),i="\\".charCodeAt(0),n="/".charCodeAt(0),s=",".charCodeAt(0),o=":".charCodeAt(0),l="*".charCodeAt(0),c="u".charCodeAt(0),d="U".charCodeAt(0),u="+".charCodeAt(0),p=/^[a-f0-9?-]+$/i;return ne=function(f){for(var h,v,m,g,b,y,w,C,_,k=[],I=f,x=0,M=I.charCodeAt(x),P=I.length,S=[{nodes:k}],A=0,T="",E="",j="";x<P;)if(M<=32){h=x;do{h+=1,M=I.charCodeAt(h)}while(M<=32);g=I.slice(x,h),m=k[k.length-1],M===t&&A?j=g:m&&"div"===m.type?(m.after=g,m.sourceEndIndex+=g.length):M===s||M===o||M===n&&I.charCodeAt(h+1)!==l&&(!_||_&&"function"===_.type&&"calc"!==_.value)?E=g:k.push({type:"space",sourceIndex:x,sourceEndIndex:h,value:g}),x=h}else if(M===a||M===r){h=x,g={type:"string",sourceIndex:x,quote:v=M===a?"'":'"'};do{if(b=!1,~(h=I.indexOf(v,h+1)))for(y=h;I.charCodeAt(y-1)===i;)y-=1,b=!b;else h=(I+=v).length-1,g.unclosed=!0}while(b);g.value=I.slice(x+1,h),g.sourceEndIndex=g.unclosed?h:h+1,k.push(g),x=h+1,M=I.charCodeAt(x)}else if(M===n&&I.charCodeAt(x+1)===l)g={type:"comment",sourceIndex:x,sourceEndIndex:(h=I.indexOf("*/",x))+2},-1===h&&(g.unclosed=!0,h=I.length,g.sourceEndIndex=h),g.value=I.slice(x+2,h),k.push(g),x=h+2,M=I.charCodeAt(x);else if(M!==n&&M!==l||!_||"function"!==_.type||"calc"!==_.value)if(M===n||M===s||M===o)g=I[x],k.push({type:"div",sourceIndex:x-E.length,sourceEndIndex:x+g.length,value:g,before:E,after:""}),E="",x+=1,M=I.charCodeAt(x);else if(e===M){h=x;do{h+=1,M=I.charCodeAt(h)}while(M<=32);if(C=x,g={type:"function",sourceIndex:x-T.length,value:T,before:I.slice(C+1,h)},x=h,"url"===T&&M!==a&&M!==r){h-=1;do{if(b=!1,~(h=I.indexOf(")",h+1)))for(y=h;I.charCodeAt(y-1)===i;)y-=1,b=!b;else h=(I+=")").length-1,g.unclosed=!0}while(b);w=h;do{w-=1,M=I.charCodeAt(w)}while(M<=32);C<w?(g.nodes=x!==w+1?[{type:"word",sourceIndex:x,sourceEndIndex:w+1,value:I.slice(x,w+1)}]:[],g.unclosed&&w+1!==h?(g.after="",g.nodes.push({type:"space",sourceIndex:w+1,sourceEndIndex:h,value:I.slice(w+1,h)})):(g.after=I.slice(w+1,h),g.sourceEndIndex=h)):(g.after="",g.nodes=[]),x=h+1,g.sourceEndIndex=g.unclosed?h:x,M=I.charCodeAt(x),k.push(g)}else A+=1,g.after="",g.sourceEndIndex=x+1,k.push(g),S.push(g),k=g.nodes=[],_=g;T=""}else if(t===M&&A)x+=1,M=I.charCodeAt(x),_.after=j,_.sourceEndIndex+=j.length,j="",A-=1,S[S.length-1].sourceEndIndex=x,S.pop(),k=(_=S[A]).nodes;else{h=x;do{M===i&&(h+=1),h+=1,M=I.charCodeAt(h)}while(h<P&&!(M<=32||M===a||M===r||M===s||M===o||M===n||M===e||M===l&&_&&"function"===_.type&&"calc"===_.value||M===n&&"function"===_.type&&"calc"===_.value||M===t&&A));g=I.slice(x,h),e===M?T=g:c!==g.charCodeAt(0)&&d!==g.charCodeAt(0)||u!==g.charCodeAt(1)||!p.test(g.slice(2))?k.push({type:"word",sourceIndex:x,sourceEndIndex:h,value:g}):k.push({type:"unicode-range",sourceIndex:x,sourceEndIndex:h,value:g}),x=h}else g=I[x],k.push({type:"word",sourceIndex:x-E.length,sourceEndIndex:x+g.length,value:g}),x+=1,M=I.charCodeAt(x);for(x=S.length-1;x;x-=1)S[x].unclosed=!0,S[x].sourceEndIndex=I.length;return S[0].nodes}}(),t=le?oe:(le=1,oe=function e(t,a,r){var i,n,s,o;for(i=0,n=t.length;i<n;i+=1)s=t[i],r||(o=a(s,i,t)),!1!==o&&"function"===s.type&&Array.isArray(s.nodes)&&e(s.nodes,a,r),r&&a(s,i,t)}),a=function(){if(de)return ce;function e(e,a){var r,i,n=e.type,s=e.value;return a&&void 0!==(i=a(e))?i:"word"===n||"space"===n?s:"string"===n?(r=e.quote||"")+s+(e.unclosed?"":r):"comment"===n?"/*"+s+(e.unclosed?"":"*/"):"div"===n?(e.before||"")+s+(e.after||""):Array.isArray(e.nodes)?(r=t(e.nodes,a),"function"!==n?r:s+"("+(e.before||"")+r+(e.after||"")+(e.unclosed?"":")")):s}function t(t,a){var r,i;if(Array.isArray(t)){for(r="",i=t.length-1;~i;i-=1)r=e(t[i],a)+r;return r}return e(t,a)}return de=1,ce=t}();function r(t){return this instanceof r?(this.nodes=e(t),this):new r(t)}return r.prototype.toString=function(){return Array.isArray(this.nodes)?a(this.nodes):""},r.prototype.walk=function(e,a){return t(this.nodes,e,a),this},r.unit=ve(),r.walk=t,r.stringify=a,fe=r}());var ge,be={exports:{}};
/**
* chroma.js - JavaScript library for color conversions
*
* Copyright (c) 2011-2019, Gregor Aisch
* All rights reserved.
*
* Redistribution and use in source and binary forms, with or without
* modification, are permitted provided that the following conditions are met:
*
* 1. Redistributions of source code must retain the above copyright notice, this
* list of conditions and the following disclaimer.
*
* 2. Redistributions in binary form must reproduce the above copyright notice,
* this list of conditions and the following disclaimer in the documentation
* and/or other materials provided with the distribution.
*
* 3. The name Gregor Aisch may not be used to endorse or promote products
* derived from this software without specific prior written permission.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
* AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
* IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
* DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
* INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
* BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
* EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*
* -------------------------------------------------------
*
* chroma.js includes colors from colorbrewer2.org, which are released under
* the following license:
*
* Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
* and The Pennsylvania State University.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
* either express or implied. See the License for the specific
* language governing permissions and limitations under the License.
*
* ------------------------------------------------------
*
* Named colors are taken from X11 Color Names.
* http://www.w3.org/TR/css3-color/#svg-color
*
* @preserve
*/const ye=y((ge||(ge=1,be.exports=function(){for(var e=function(e,t,a){return void 0===t&&(t=0),void 0===a&&(a=1),e<t?t:e>a?a:e},t=e,a=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var a=0;a<=3;a++)a<3?((e[a]<0||e[a]>255)&&(e._clipped=!0),e[a]=t(e[a],0,255)):3===a&&(e[a]=t(e[a],0,1));return e},r={},i=0,n=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<n.length;i+=1){var s=n[i];r["[object "+s+"]"]=s.toLowerCase()}var o=function(e){return r[Object.prototype.toString.call(e)]||"object"},l=o,c=function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==l(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},d=o,u=function(e){if(e.length<2)return null;var t=e.length-1;return"string"==d(e[t])?e[t].toLowerCase():null},p=Math.PI,f={clip_rgb:a,limit:e,type:o,unpack:c,last:u,PI:p,TWOPI:2*p,PITHIRD:p/3,DEG2RAD:p/180,RAD2DEG:180/p},h={format:{},autodetect:[]},v=f.last,m=f.clip_rgb,g=f.type,b=h,y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=this;if("object"===g(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=v(e),i=!1;if(!r){i=!0,b.sorted||(b.autodetect=b.autodetect.sort((function(e,t){return t.p-e.p})),b.sorted=!0);for(var n=0,s=b.autodetect;n<s.length;n+=1){var o=s[n];if(r=o.test.apply(o,e))break}}if(!b.format[r])throw new Error("unknown format: "+e);var l=b.format[r].apply(null,i?e:e.slice(0,-1));a._rgb=m(l),3===a._rgb.length&&a._rgb.push(1)};y.prototype.toString=function(){return"function"==g(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var w=y,C=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(C.Color,[null].concat(e)))};C.Color=w,C.version="2.4.2";var _=C,k=f.unpack,I=Math.max,x=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=k(e,"rgb"),r=a[0],i=a[1],n=a[2],s=1-I(r/=255,I(i/=255,n/=255)),o=s<1?1/(1-s):0;return[(1-r-s)*o,(1-i-s)*o,(1-n-s)*o,s]},M=x,P=f.unpack,S=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=(e=P(e,"cmyk"))[0],r=e[1],i=e[2],n=e[3],s=e.length>4?e[4]:1;return 1===n?[0,0,0,s]:[a>=1?0:255*(1-a)*(1-n),r>=1?0:255*(1-r)*(1-n),i>=1?0:255*(1-i)*(1-n),s]},A=S,T=_,E=w,j=h,O=f.unpack,$=f.type,D=M;E.prototype.cmyk=function(){return D(this._rgb)},T.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(E,[null].concat(e,["cmyk"])))},j.format.cmyk=A,j.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=O(e,"cmyk"),"array"===$(e)&&4===e.length)return"cmyk"}});var L=f.unpack,B=f.last,F=function(e){return Math.round(100*e)/100},N=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=L(e,"hsla"),r=B(e)||"lsa";return a[0]=F(a[0]||0),a[1]=F(100*a[1])+"%",a[2]=F(100*a[2])+"%","hsla"===r||a.length>3&&a[3]<1?(a[3]=a.length>3?a[3]:1,r="hsla"):a.length=3,r+"("+a.join(",")+")"},V=N,q=f.unpack,R=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=(e=q(e,"rgba"))[0],r=e[1],i=e[2];a/=255,r/=255,i/=255;var n,s,o=Math.min(a,r,i),l=Math.max(a,r,i),c=(l+o)/2;return l===o?(n=0,s=Number.NaN):n=c<.5?(l-o)/(l+o):(l-o)/(2-l-o),a==l?s=(r-i)/(l-o):r==l?s=2+(i-a)/(l-o):i==l&&(s=4+(a-r)/(l-o)),(s*=60)<0&&(s+=360),e.length>3&&void 0!==e[3]?[s,n,c,e[3]]:[s,n,c]},G=R,W=f.unpack,z=f.last,H=V,U=G,K=Math.round,Y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=W(e,"rgba"),r=z(e)||"rgb";return"hsl"==r.substr(0,3)?H(U(a),r):(a[0]=K(a[0]),a[1]=K(a[1]),a[2]=K(a[2]),("rgba"===r||a.length>3&&a[3]<1)&&(a[3]=a.length>3?a[3]:1,r="rgba"),r+"("+a.slice(0,"rgb"===r?3:4).join(",")+")")},X=Y,Q=f.unpack,Z=Math.round,J=function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var r,i,n,s=(t=Q(t,"hsl"))[0],o=t[1],l=t[2];if(0===o)r=i=n=255*l;else{var c=[0,0,0],d=[0,0,0],u=l<.5?l*(1+o):l+o-l*o,p=2*l-u,f=s/360;c[0]=f+1/3,c[1]=f,c[2]=f-1/3;for(var h=0;h<3;h++)c[h]<0&&(c[h]+=1),c[h]>1&&(c[h]-=1),6*c[h]<1?d[h]=p+6*(u-p)*c[h]:2*c[h]<1?d[h]=u:3*c[h]<2?d[h]=p+(u-p)*(2/3-c[h])*6:d[h]=p;r=(e=[Z(255*d[0]),Z(255*d[1]),Z(255*d[2])])[0],i=e[1],n=e[2]}return t.length>3?[r,i,n,t[3]]:[r,i,n,1]},ee=J,te=ee,ae=h,re=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ie=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,ne=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,se=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,oe=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,le=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ce=Math.round,de=function(e){var t;if(e=e.toLowerCase().trim(),ae.format.named)try{return ae.format.named(e)}catch(h){}if(t=e.match(re)){for(var a=t.slice(1,4),r=0;r<3;r++)a[r]=+a[r];return a[3]=1,a}if(t=e.match(ie)){for(var i=t.slice(1,5),n=0;n<4;n++)i[n]=+i[n];return i}if(t=e.match(ne)){for(var s=t.slice(1,4),o=0;o<3;o++)s[o]=ce(2.55*s[o]);return s[3]=1,s}if(t=e.match(se)){for(var l=t.slice(1,5),c=0;c<3;c++)l[c]=ce(2.55*l[c]);return l[3]=+l[3],l}if(t=e.match(oe)){var d=t.slice(1,4);d[1]*=.01,d[2]*=.01;var u=te(d);return u[3]=1,u}if(t=e.match(le)){var p=t.slice(1,4);p[1]*=.01,p[2]*=.01;var f=te(p);return f[3]=+t[4],f}};de.test=function(e){return re.test(e)||ie.test(e)||ne.test(e)||se.test(e)||oe.test(e)||le.test(e)};var ue=de,pe=_,fe=w,he=h,ve=f.type,me=X,ge=ue;fe.prototype.css=function(e){return me(this._rgb,e)},pe.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(fe,[null].concat(e,["css"])))},he.format.css=ge,he.autodetect.push({p:5,test:function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];if(!t.length&&"string"===ve(e)&&ge.test(e))return"css"}});var be=w,ye=_,we=h,Ce=f.unpack;we.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=Ce(e,"rgba");return a[0]*=255,a[1]*=255,a[2]*=255,a},ye.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(be,[null].concat(e,["gl"])))},be.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var _e=f.unpack,ke=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,r=_e(e,"rgb"),i=r[0],n=r[1],s=r[2],o=Math.min(i,n,s),l=Math.max(i,n,s),c=l-o,d=100*c/255,u=o/(255-c)*100;return 0===c?a=Number.NaN:(i===l&&(a=(n-s)/c),n===l&&(a=2+(s-i)/c),s===l&&(a=4+(i-n)/c),(a*=60)<0&&(a+=360)),[a,d,u]},Ie=ke,xe=f.unpack,Me=Math.floor,Pe=function(){for(var e,t,a,r,i,n,s=[],o=arguments.length;o--;)s[o]=arguments[o];var l,c,d,u=(s=xe(s,"hcg"))[0],p=s[1],f=s[2];f*=255;var h=255*p;if(0===p)l=c=d=f;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var v=Me(u/=60),m=u-v,g=f*(1-p),b=g+h*(1-m),y=g+h*m,w=g+h;switch(v){case 0:l=(e=[w,y,g])[0],c=e[1],d=e[2];break;case 1:l=(t=[b,w,g])[0],c=t[1],d=t[2];break;case 2:l=(a=[g,w,y])[0],c=a[1],d=a[2];break;case 3:l=(r=[g,b,w])[0],c=r[1],d=r[2];break;case 4:l=(i=[y,g,w])[0],c=i[1],d=i[2];break;case 5:l=(n=[w,g,b])[0],c=n[1],d=n[2]}}return[l,c,d,s.length>3?s[3]:1]},Se=Pe,Ae=f.unpack,Te=f.type,Ee=_,je=w,Oe=h,$e=Ie;je.prototype.hcg=function(){return $e(this._rgb)},Ee.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(je,[null].concat(e,["hcg"])))},Oe.format.hcg=Se,Oe.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ae(e,"hcg"),"array"===Te(e)&&3===e.length)return"hcg"}});var De=f.unpack,Le=f.last,Be=Math.round,Fe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=De(e,"rgba"),r=a[0],i=a[1],n=a[2],s=a[3],o=Le(e)||"auto";void 0===s&&(s=1),"auto"===o&&(o=s<1?"rgba":"rgb");var l="000000"+((r=Be(r))<<16|(i=Be(i))<<8|(n=Be(n))).toString(16);l=l.substr(l.length-6);var c="0"+Be(255*s).toString(16);switch(c=c.substr(c.length-2),o.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},Ne=Fe,Ve=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,qe=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Re=function(e){if(e.match(Ve)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(qe)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var a=parseInt(e,16);return[a>>24&255,a>>16&255,a>>8&255,Math.round((255&a)/255*100)/100]}throw new Error("unknown hex color: "+e)},Ge=_,We=w,ze=f.type,He=h,Ue=Ne;We.prototype.hex=function(e){return Ue(this._rgb,e)},Ge.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(We,[null].concat(e,["hex"])))},He.format.hex=Re,He.autodetect.push({p:4,test:function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];if(!t.length&&"string"===ze(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var Ke=f.unpack,Ye=f.TWOPI,Xe=Math.min,Qe=Math.sqrt,Ze=Math.acos,Je=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,r=Ke(e,"rgb"),i=r[0],n=r[1],s=r[2],o=Xe(i/=255,n/=255,s/=255),l=(i+n+s)/3,c=l>0?1-o/l:0;return 0===c?a=NaN:(a=(i-n+(i-s))/2,a/=Qe((i-n)*(i-n)+(i-s)*(n-s)),a=Ze(a),s>n&&(a=Ye-a),a/=Ye),[360*a,c,l]},et=Je,tt=f.unpack,at=f.limit,rt=f.TWOPI,it=f.PITHIRD,nt=Math.cos,st=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,r,i,n=(e=tt(e,"hsi"))[0],s=e[1],o=e[2];return isNaN(n)&&(n=0),isNaN(s)&&(s=0),n>360&&(n-=360),n<0&&(n+=360),(n/=360)<1/3?r=1-((i=(1-s)/3)+(a=(1+s*nt(rt*n)/nt(it-rt*n))/3)):n<2/3?i=1-((a=(1-s)/3)+(r=(1+s*nt(rt*(n-=1/3))/nt(it-rt*n))/3)):a=1-((r=(1-s)/3)+(i=(1+s*nt(rt*(n-=2/3))/nt(it-rt*n))/3)),[255*(a=at(o*a*3)),255*(r=at(o*r*3)),255*(i=at(o*i*3)),e.length>3?e[3]:1]},ot=st,lt=f.unpack,ct=f.type,dt=_,ut=w,pt=h,ft=et;ut.prototype.hsi=function(){return ft(this._rgb)},dt.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ut,[null].concat(e,["hsi"])))},pt.format.hsi=ot,pt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=lt(e,"hsi"),"array"===ct(e)&&3===e.length)return"hsi"}});var ht=f.unpack,vt=f.type,mt=_,gt=w,bt=h,yt=G;gt.prototype.hsl=function(){return yt(this._rgb)},mt.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(gt,[null].concat(e,["hsl"])))},bt.format.hsl=ee,bt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ht(e,"hsl"),"array"===vt(e)&&3===e.length)return"hsl"}});var wt=f.unpack,Ct=Math.min,_t=Math.max,kt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,r,i,n=(e=wt(e,"rgb"))[0],s=e[1],o=e[2],l=Ct(n,s,o),c=_t(n,s,o),d=c-l;return i=c/255,0===c?(a=Number.NaN,r=0):(r=d/c,n===c&&(a=(s-o)/d),s===c&&(a=2+(o-n)/d),o===c&&(a=4+(n-s)/d),(a*=60)<0&&(a+=360)),[a,r,i]},It=kt,xt=f.unpack,Mt=Math.floor,Pt=function(){for(var e,t,a,r,i,n,s=[],o=arguments.length;o--;)s[o]=arguments[o];var l,c,d,u=(s=xt(s,"hsv"))[0],p=s[1],f=s[2];if(f*=255,0===p)l=c=d=f;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var h=Mt(u/=60),v=u-h,m=f*(1-p),g=f*(1-p*v),b=f*(1-p*(1-v));switch(h){case 0:l=(e=[f,b,m])[0],c=e[1],d=e[2];break;case 1:l=(t=[g,f,m])[0],c=t[1],d=t[2];break;case 2:l=(a=[m,f,b])[0],c=a[1],d=a[2];break;case 3:l=(r=[m,g,f])[0],c=r[1],d=r[2];break;case 4:l=(i=[b,m,f])[0],c=i[1],d=i[2];break;case 5:l=(n=[f,m,g])[0],c=n[1],d=n[2]}}return[l,c,d,s.length>3?s[3]:1]},St=Pt,At=f.unpack,Tt=f.type,Et=_,jt=w,Ot=h,$t=It;jt.prototype.hsv=function(){return $t(this._rgb)},Et.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(jt,[null].concat(e,["hsv"])))},Ot.format.hsv=St,Ot.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=At(e,"hsv"),"array"===Tt(e)&&3===e.length)return"hsv"}});var Dt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Lt=Dt,Bt=f.unpack,Ft=Math.pow,Nt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=Bt(e,"rgb"),r=a[0],i=a[1],n=a[2],s=Rt(r,i,n),o=s[0],l=s[1],c=116*l-16;return[c<0?0:c,500*(o-l),200*(l-s[2])]},Vt=function(e){return(e/=255)<=.04045?e/12.92:Ft((e+.055)/1.055,2.4)},qt=function(e){return e>Lt.t3?Ft(e,1/3):e/Lt.t2+Lt.t0},Rt=function(e,t,a){return e=Vt(e),t=Vt(t),a=Vt(a),[qt((.4124564*e+.3575761*t+.1804375*a)/Lt.Xn),qt((.2126729*e+.7151522*t+.072175*a)/Lt.Yn),qt((.0193339*e+.119192*t+.9503041*a)/Lt.Zn)]},Gt=Nt,Wt=Dt,zt=f.unpack,Ht=Math.pow,Ut=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,r,i,n=(e=zt(e,"lab"))[0],s=e[1],o=e[2];return r=(n+16)/116,a=isNaN(s)?r:r+s/500,i=isNaN(o)?r:r-o/200,r=Wt.Yn*Yt(r),a=Wt.Xn*Yt(a),i=Wt.Zn*Yt(i),[Kt(3.2404542*a-1.5371385*r-.4985314*i),Kt(-.969266*a+1.8760108*r+.041556*i),Kt(.0556434*a-.2040259*r+1.0572252*i),e.length>3?e[3]:1]},Kt=function(e){return 255*(e<=.00304?12.92*e:1.055*Ht(e,1/2.4)-.055)},Yt=function(e){return e>Wt.t1?e*e*e:Wt.t2*(e-Wt.t0)},Xt=Ut,Qt=f.unpack,Zt=f.type,Jt=_,ea=w,ta=h,aa=Gt;ea.prototype.lab=function(){return aa(this._rgb)},Jt.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ea,[null].concat(e,["lab"])))},ta.format.lab=Xt,ta.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Qt(e,"lab"),"array"===Zt(e)&&3===e.length)return"lab"}});var ra=f.unpack,ia=f.RAD2DEG,na=Math.sqrt,sa=Math.atan2,oa=Math.round,la=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=ra(e,"lab"),r=a[0],i=a[1],n=a[2],s=na(i*i+n*n),o=(sa(n,i)*ia+360)%360;return 0===oa(1e4*s)&&(o=Number.NaN),[r,s,o]},ca=la,da=f.unpack,ua=Gt,pa=ca,fa=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=da(e,"rgb"),r=a[0],i=a[1],n=a[2],s=ua(r,i,n),o=s[0],l=s[1],c=s[2];return pa(o,l,c)},ha=fa,va=f.unpack,ma=f.DEG2RAD,ga=Math.sin,ba=Math.cos,ya=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=va(e,"lch"),r=a[0],i=a[1],n=a[2];return isNaN(n)&&(n=0),[r,ba(n*=ma)*i,ga(n)*i]},wa=ya,Ca=f.unpack,_a=wa,ka=Xt,Ia=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=(e=Ca(e,"lch"))[0],r=e[1],i=e[2],n=_a(a,r,i),s=n[0],o=n[1],l=n[2],c=ka(s,o,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},xa=Ia,Ma=f.unpack,Pa=xa,Sa=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=Ma(e,"hcl").reverse();return Pa.apply(void 0,a)},Aa=Sa,Ta=f.unpack,Ea=f.type,ja=_,Oa=w,$a=h,Da=ha;Oa.prototype.lch=function(){return Da(this._rgb)},Oa.prototype.hcl=function(){return Da(this._rgb).reverse()},ja.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Oa,[null].concat(e,["lch"])))},ja.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Oa,[null].concat(e,["hcl"])))},$a.format.lch=xa,$a.format.hcl=Aa,["lch","hcl"].forEach((function(e){return $a.autodetect.push({p:2,test:function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];if(t=Ta(t,e),"array"===Ea(t)&&3===t.length)return e}})}));var La={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Ba=w,Fa=h,Na=f.type,Va=La,qa=Re,Ra=Ne;Ba.prototype.name=function(){for(var e=Ra(this._rgb,"rgb"),t=0,a=Object.keys(Va);t<a.length;t+=1){var r=a[t];if(Va[r]===e)return r.toLowerCase()}return e},Fa.format.named=function(e){if(e=e.toLowerCase(),Va[e])return qa(Va[e]);throw new Error("unknown color name: "+e)},Fa.autodetect.push({p:5,test:function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];if(!t.length&&"string"===Na(e)&&Va[e.toLowerCase()])return"named"}});var Ga=f.unpack,Wa=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=Ga(e,"rgb");return(a[0]<<16)+(a[1]<<8)+a[2]},za=Wa,Ha=f.type,Ua=function(e){if("number"==Ha(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Ka=_,Ya=w,Xa=h,Qa=f.type,Za=za;Ya.prototype.num=function(){return Za(this._rgb)},Ka.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ya,[null].concat(e,["num"])))},Xa.format.num=Ua,Xa.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Qa(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Ja=_,er=w,tr=h,ar=f.unpack,rr=f.type,ir=Math.round;er.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ir)},er.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,a){return a<3?!1===e?t:ir(t):t}))},Ja.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(er,[null].concat(e,["rgb"])))},tr.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=ar(e,"rgba");return void 0===a[3]&&(a[3]=1),a},tr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ar(e,"rgba"),"array"===rr(e)&&(3===e.length||4===e.length&&"number"==rr(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var nr=Math.log,sr=function(e){var t,a,r,i=e/100;return i<66?(t=255,a=i<6?0:-155.25485562709179-.44596950469579133*(a=i-2)+104.49216199393888*nr(a),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*nr(r)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*nr(t),a=325.4494125711974+.07943456536662342*(a=i-50)-28.0852963507957*nr(a),r=255),[t,a,r,1]},or=sr,lr=f.unpack,cr=Math.round,dr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a,r=lr(e,"rgb"),i=r[0],n=r[2],s=1e3,o=4e4,l=.4;o-s>l;){var c=or(a=.5*(o+s));c[2]/c[0]>=n/i?o=a:s=a}return cr(a)},ur=_,pr=w,fr=h,hr=dr;pr.prototype.temp=pr.prototype.kelvin=pr.prototype.temperature=function(){return hr(this._rgb)},ur.temp=ur.kelvin=ur.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pr,[null].concat(e,["temp"])))},fr.format.temp=fr.format.kelvin=fr.format.temperature=sr;var vr=f.unpack,mr=Math.cbrt,gr=Math.pow,br=Math.sign,yr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=vr(e,"rgb"),r=a[0],i=a[1],n=a[2],s=[Cr(r/255),Cr(i/255),Cr(n/255)],o=s[0],l=s[1],c=s[2],d=mr(.4122214708*o+.5363325363*l+.0514459929*c),u=mr(.2119034982*o+.6806995451*l+.1073969566*c),p=mr(.0883024619*o+.2817188376*l+.6299787005*c);return[.2104542553*d+.793617785*u-.0040720468*p,1.9779984951*d-2.428592205*u+.4505937099*p,.0259040371*d+.7827717662*u-.808675766*p]},wr=yr;function Cr(e){var t=Math.abs(e);return t<.04045?e/12.92:(br(e)||1)*gr((t+.055)/1.055,2.4)}var _r=f.unpack,kr=Math.pow,Ir=Math.sign,xr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=(e=_r(e,"lab"))[0],r=e[1],i=e[2],n=kr(a+.3963377774*r+.2158037573*i,3),s=kr(a-.1055613458*r-.0638541728*i,3),o=kr(a-.0894841775*r-1.291485548*i,3);return[255*Pr(4.0767416621*n-3.3077115913*s+.2309699292*o),255*Pr(-1.2684380046*n+2.6097574011*s-.3413193965*o),255*Pr(-.0041960863*n-.7034186147*s+1.707614701*o),e.length>3?e[3]:1]},Mr=xr;function Pr(e){var t=Math.abs(e);return t>.0031308?(Ir(e)||1)*(1.055*kr(t,1/2.4)-.055):12.92*e}var Sr=f.unpack,Ar=f.type,Tr=_,Er=w,jr=h,Or=wr;Er.prototype.oklab=function(){return Or(this._rgb)},Tr.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Er,[null].concat(e,["oklab"])))},jr.format.oklab=Mr,jr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Sr(e,"oklab"),"array"===Ar(e)&&3===e.length)return"oklab"}});var $r=f.unpack,Dr=wr,Lr=ca,Br=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=$r(e,"rgb"),r=a[0],i=a[1],n=a[2],s=Dr(r,i,n),o=s[0],l=s[1],c=s[2];return Lr(o,l,c)},Fr=Br,Nr=f.unpack,Vr=wa,qr=Mr,Rr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=(e=Nr(e,"lch"))[0],r=e[1],i=e[2],n=Vr(a,r,i),s=n[0],o=n[1],l=n[2],c=qr(s,o,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},Gr=Rr,Wr=f.unpack,zr=f.type,Hr=_,Ur=w,Kr=h,Yr=Fr;Ur.prototype.oklch=function(){return Yr(this._rgb)},Hr.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ur,[null].concat(e,["oklch"])))},Kr.format.oklch=Gr,Kr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Wr(e,"oklch"),"array"===zr(e)&&3===e.length)return"oklch"}});var Xr=w,Qr=f.type;Xr.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Qr(e)?t?(this._rgb[3]=e,this):new Xr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},w.prototype.clipped=function(){return this._rgb._clipped||!1};var Zr=w,Jr=Dt;Zr.prototype.darken=function(e){void 0===e&&(e=1);var t=this,a=t.lab();return a[0]-=Jr.Kn*e,new Zr(a,"lab").alpha(t.alpha(),!0)},Zr.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},Zr.prototype.darker=Zr.prototype.darken,Zr.prototype.brighter=Zr.prototype.brighten,w.prototype.get=function(e){var t=e.split("."),a=t[0],r=t[1],i=this[a]();if(r){var n=a.indexOf(r)-("ok"===a.substr(0,2)?2:0);if(n>-1)return i[n];throw new Error("unknown channel "+r+" in mode "+a)}return i};var ei=w,ti=f.type,ai=Math.pow,ri=1e-7,ii=20;ei.prototype.luminance=function(e){if(void 0!==e&&"number"===ti(e)){if(0===e)return new ei([0,0,0,this._rgb[3]],"rgb");if(1===e)return new ei([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),a="rgb",r=ii,i=function(t,n){var s=t.interpolate(n,.5,a),o=s.luminance();return Math.abs(e-o)<ri||!r--?s:o>e?i(t,s):i(s,n)},n=(t>e?i(new ei([0,0,0]),this):i(this,new ei([255,255,255]))).rgb();return new ei(n.concat([this._rgb[3]]))}return ni.apply(void 0,this._rgb.slice(0,3))};var ni=function(e,t,a){return.2126*(e=si(e))+.7152*(t=si(t))+.0722*(a=si(a))},si=function(e){return(e/=255)<=.03928?e/12.92:ai((e+.055)/1.055,2.4)},oi={},li=w,ci=f.type,di=oi,ui=function(e,t,a){void 0===a&&(a=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var n=r[0]||"lrgb";if(di[n]||r.length||(n=Object.keys(di)[0]),!di[n])throw new Error("interpolation mode "+n+" is not defined");return"object"!==ci(e)&&(e=new li(e)),"object"!==ci(t)&&(t=new li(t)),di[n](e,t,a).alpha(e.alpha()+a*(t.alpha()-e.alpha()))},pi=w,fi=ui;pi.prototype.mix=pi.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var a=[],r=arguments.length-2;r-- >0;)a[r]=arguments[r+2];return fi.apply(void 0,[this,e,t].concat(a))};var hi=w;hi.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,a=t[3];return e?(this._rgb=[t[0]*a,t[1]*a,t[2]*a,a],this):new hi([t[0]*a,t[1]*a,t[2]*a,a],"rgb")};var vi=w,mi=Dt;vi.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,a=t.lch();return a[1]+=mi.Kn*e,a[1]<0&&(a[1]=0),new vi(a,"lch").alpha(t.alpha(),!0)},vi.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var gi=w,bi=f.type;gi.prototype.set=function(e,t,a){void 0===a&&(a=!1);var r=e.split("."),i=r[0],n=r[1],s=this[i]();if(n){var o=i.indexOf(n)-("ok"===i.substr(0,2)?2:0);if(o>-1){if("string"==bi(t))switch(t.charAt(0)){case"+":case"-":s[o]+=+t;break;case"*":s[o]*=+t.substr(1);break;case"/":s[o]/=+t.substr(1);break;default:s[o]=+t}else{if("number"!==bi(t))throw new Error("unsupported value for Color.set");s[o]=t}var l=new gi(s,i);return a?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+n+" in mode "+i)}return s};var yi=w,wi=function(e,t,a){var r=e._rgb,i=t._rgb;return new yi(r[0]+a*(i[0]-r[0]),r[1]+a*(i[1]-r[1]),r[2]+a*(i[2]-r[2]),"rgb")};oi.rgb=wi;var Ci=w,_i=Math.sqrt,ki=Math.pow,Ii=function(e,t,a){var r=e._rgb,i=r[0],n=r[1],s=r[2],o=t._rgb,l=o[0],c=o[1],d=o[2];return new Ci(_i(ki(i,2)*(1-a)+ki(l,2)*a),_i(ki(n,2)*(1-a)+ki(c,2)*a),_i(ki(s,2)*(1-a)+ki(d,2)*a),"rgb")};oi.lrgb=Ii;var xi=w,Mi=function(e,t,a){var r=e.lab(),i=t.lab();return new xi(r[0]+a*(i[0]-r[0]),r[1]+a*(i[1]-r[1]),r[2]+a*(i[2]-r[2]),"lab")};oi.lab=Mi;var Pi=w,Si=function(e,t,a,r){var i,n,s,o,l,c,d,u,p,f,h,v,m;return"hsl"===r?(s=e.hsl(),o=t.hsl()):"hsv"===r?(s=e.hsv(),o=t.hsv()):"hcg"===r?(s=e.hcg(),o=t.hcg()):"hsi"===r?(s=e.hsi(),o=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",s=e.hcl(),o=t.hcl()):"oklch"===r&&(s=e.oklch().reverse(),o=t.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(i=s)[0],d=i[1],p=i[2],c=(n=o)[0],u=n[1],f=n[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?v=Number.NaN:(v=c,1!=p&&0!=p||"hsv"==r||(h=u)):(v=l,1!=f&&0!=f||"hsv"==r||(h=d)):v=l+a*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===h&&(h=d+a*(u-d)),m=p+a*(f-p),new Pi("oklch"===r?[m,h,v]:[v,h,m],r)},Ai=Si,Ti=function(e,t,a){return Ai(e,t,a,"lch")};oi.lch=Ti,oi.hcl=Ti;var Ei=w,ji=function(e,t,a){var r=e.num(),i=t.num();return new Ei(r+a*(i-r),"num")};oi.num=ji;var Oi=Si,$i=function(e,t,a){return Oi(e,t,a,"hcg")};oi.hcg=$i;var Di=Si,Li=function(e,t,a){return Di(e,t,a,"hsi")};oi.hsi=Li;var Bi=Si,Fi=function(e,t,a){return Bi(e,t,a,"hsl")};oi.hsl=Fi;var Ni=Si,Vi=function(e,t,a){return Ni(e,t,a,"hsv")};oi.hsv=Vi;var qi=w,Ri=function(e,t,a){var r=e.oklab(),i=t.oklab();return new qi(r[0]+a*(i[0]-r[0]),r[1]+a*(i[1]-r[1]),r[2]+a*(i[2]-r[2]),"oklab")};oi.oklab=Ri;var Gi=Si,Wi=function(e,t,a){return Gi(e,t,a,"oklch")};oi.oklch=Wi;var zi=w,Hi=f.clip_rgb,Ui=Math.pow,Ki=Math.sqrt,Yi=Math.PI,Xi=Math.cos,Qi=Math.sin,Zi=Math.atan2,Ji=function(e,t,a){void 0===t&&(t="lrgb"),void 0===a&&(a=null);var r=e.length;a||(a=Array.from(new Array(r)).map((function(){return 1})));var i=r/a.reduce((function(e,t){return e+t}));if(a.forEach((function(e,t){a[t]*=i})),e=e.map((function(e){return new zi(e)})),"lrgb"===t)return en(e,a);for(var n=e.shift(),s=n.get(t),o=[],l=0,c=0,d=0;d<s.length;d++)if(s[d]=(s[d]||0)*a[0],o.push(isNaN(s[d])?0:a[0]),"h"===t.charAt(d)&&!isNaN(s[d])){var u=s[d]/180*Yi;l+=Xi(u)*a[0],c+=Qi(u)*a[0]}var p=n.alpha()*a[0];e.forEach((function(e,r){var i=e.get(t);p+=e.alpha()*a[r+1];for(var n=0;n<s.length;n++)if(!isNaN(i[n]))if(o[n]+=a[r+1],"h"===t.charAt(n)){var d=i[n]/180*Yi;l+=Xi(d)*a[r+1],c+=Qi(d)*a[r+1]}else s[n]+=i[n]*a[r+1]}));for(var f=0;f<s.length;f++)if("h"===t.charAt(f)){for(var h=Zi(c/o[f],l/o[f])/Yi*180;h<0;)h+=360;for(;h>=360;)h-=360;s[f]=h}else s[f]=s[f]/o[f];return p/=r,new zi(s,t).alpha(p>.99999?1:p,!0)},en=function(e,t){for(var a=e.length,r=[0,0,0,0],i=0;i<e.length;i++){var n=e[i],s=t[i]/a,o=n._rgb;r[0]+=Ui(o[0],2)*s,r[1]+=Ui(o[1],2)*s,r[2]+=Ui(o[2],2)*s,r[3]+=o[3]*s}return r[0]=Ki(r[0]),r[1]=Ki(r[1]),r[2]=Ki(r[2]),r[3]>.9999999&&(r[3]=1),new zi(Hi(r))},tn=_,an=f.type,rn=Math.pow,nn=function(e){var t="rgb",a=tn("#ccc"),r=0,i=[0,1],n=[],s=[0,0],o=!1,l=[],c=!1,d=0,u=1,p=!1,f={},h=!0,v=1,m=function(e){if((e=e||["#fff","#000"])&&"string"===an(e)&&tn.brewer&&tn.brewer[e.toLowerCase()]&&(e=tn.brewer[e.toLowerCase()]),"array"===an(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=tn(e[t]);n.length=0;for(var a=0;a<e.length;a++)n.push(a/(e.length-1))}return C(),l=e},g=function(e){if(null!=o){for(var t=o.length-1,a=0;a<t&&e>=o[a];)a++;return a-1}return 0},b=function(e){return e},y=function(e){return e},w=function(e,r){var i,c;if(null==r&&(r=!1),isNaN(e)||null===e)return a;c=r?e:o&&o.length>2?g(e)/(o.length-2):u!==d?(e-d)/(u-d):1,c=y(c),r||(c=b(c)),1!==v&&(c=rn(c,v)),c=s[0]+c*(1-s[0]-s[1]),c=Math.min(1,Math.max(0,c));var p=Math.floor(1e4*c);if(h&&f[p])i=f[p];else{if("array"===an(l))for(var m=0;m<n.length;m++){var w=n[m];if(c<=w){i=l[m];break}if(c>=w&&m===n.length-1){i=l[m];break}if(c>w&&c<n[m+1]){c=(c-w)/(n[m+1]-w),i=tn.interpolate(l[m],l[m+1],c,t);break}}else"function"===an(l)&&(i=l(c));h&&(f[p]=i)}return i},C=function(){return f={}};m(e);var _=function(e){var t=tn(w(e));return c&&t[c]?t[c]():t};return _.classes=function(e){if(null!=e){if("array"===an(e))o=e,i=[e[0],e[e.length-1]];else{var t=tn.analyze(i);o=0===e?[t.min,t.max]:tn.limits(t,"e",e)}return _}return o},_.domain=function(e){if(!arguments.length)return i;d=e[0],u=e[e.length-1],n=[];var t=l.length;if(e.length===t&&d!==u)for(var a=0,r=Array.from(e);a<r.length;a+=1){var s=r[a];n.push((s-d)/(u-d))}else{for(var o=0;o<t;o++)n.push(o/(t-1));if(e.length>2){var c=e.map((function(t,a){return a/(e.length-1)})),p=e.map((function(e){return(e-d)/(u-d)}));p.every((function(e,t){return c[t]===e}))||(y=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=p[t+1];)t++;var a=(e-p[t])/(p[t+1]-p[t]);return c[t]+a*(c[t+1]-c[t])})}}return i=[d,u],_},_.mode=function(e){return arguments.length?(t=e,C(),_):t},_.range=function(e,t){return m(e),_},_.out=function(e){return c=e,_},_.spread=function(e){return arguments.length?(r=e,_):r},_.correctLightness=function(e){return null==e&&(e=!0),p=e,C(),b=p?function(e){for(var t=w(0,!0).lab()[0],a=w(1,!0).lab()[0],r=t>a,i=w(e,!0).lab()[0],n=t+(a-t)*e,s=i-n,o=0,l=1,c=20;Math.abs(s)>.01&&c-- >0;)r&&(s*=-1),s<0?(o=e,e+=.5*(l-e)):(l=e,e+=.5*(o-e)),i=w(e,!0).lab()[0],s=i-n;return e}:function(e){return e},_},_.padding=function(e){return null!=e?("number"===an(e)&&(e=[e,e]),s=e,_):s},_.colors=function(t,a){arguments.length<2&&(a="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===t)r=[_(.5)];else if(t>1){var n=i[0],s=i[1]-n;r=sn(0,t).map((function(e){return _(n+e/(t-1)*s)}))}else{e=[];var c=[];if(o&&o.length>2)for(var d=1,u=o.length,p=1<=u;p?d<u:d>u;p?d++:d--)c.push(.5*(o[d-1]+o[d]));else c=i;r=c.map((function(e){return _(e)}))}return tn[a]&&(r=r.map((function(e){return e[a]()}))),r},_.cache=function(e){return null!=e?(h=e,_):h},_.gamma=function(e){return null!=e?(v=e,_):v},_.nodata=function(e){return null!=e?(a=tn(e),_):a},_};function sn(e,t,a){for(var r=[],i=e<t,n=t,s=e;i?s<n:s>n;i?s++:s--)r.push(s);return r}var on=w,ln=nn,cn=function(e){for(var t=[1,1],a=1;a<e;a++){for(var r=[1],i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t},dn=function(e){var t,a,r,i,n,s,o;if(2===(e=e.map((function(e){return new on(e)}))).length)t=e.map((function(e){return e.lab()})),n=t[0],s=t[1],i=function(e){var t=[0,1,2].map((function(t){return n[t]+e*(s[t]-n[t])}));return new on(t,"lab")};else if(3===e.length)a=e.map((function(e){return e.lab()})),n=a[0],s=a[1],o=a[2],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*n[t]+2*(1-e)*e*s[t]+e*e*o[t]}));return new on(t,"lab")};else if(4===e.length){var l;r=e.map((function(e){return e.lab()})),n=r[0],s=r[1],o=r[2],l=r[3],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*n[t]+3*(1-e)*(1-e)*e*s[t]+3*(1-e)*e*e*o[t]+e*e*e*l[t]}));return new on(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,d,u;c=e.map((function(e){return e.lab()})),u=e.length-1,d=cn(u),i=function(e){var t=1-e,a=[0,1,2].map((function(a){return c.reduce((function(r,i,n){return r+d[n]*Math.pow(t,u-n)*Math.pow(e,n)*i[a]}),0)}));return new on(a,"lab")}}return i},un=function(e){var t=dn(e);return t.scale=function(){return ln(t)},t},pn=_,fn=function(e,t,a){if(!fn[a])throw new Error("unknown blend mode "+a);return fn[a](e,t)},hn=function(e){return function(t,a){var r=pn(a).rgb(),i=pn(t).rgb();return pn.rgb(e(r,i))}},vn=function(e){return function(t,a){var r=[];return r[0]=e(t[0],a[0]),r[1]=e(t[1],a[1]),r[2]=e(t[2],a[2]),r}},mn=function(e){return e},gn=function(e,t){return e*t/255},bn=function(e,t){return e>t?t:e},yn=function(e,t){return e>t?e:t},wn=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},Cn=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},_n=function(e,t){return 255*(1-(1-t/255)/(e/255))},kn=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};fn.normal=hn(vn(mn)),fn.multiply=hn(vn(gn)),fn.screen=hn(vn(wn)),fn.overlay=hn(vn(Cn)),fn.darken=hn(vn(bn)),fn.lighten=hn(vn(yn)),fn.dodge=hn(vn(kn)),fn.burn=hn(vn(_n));for(var In=fn,xn=f.type,Mn=f.clip_rgb,Pn=f.TWOPI,Sn=Math.pow,An=Math.sin,Tn=Math.cos,En=_,jn=function(e,t,a,r,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===a&&(a=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var n,s=0;"array"===xn(i)?n=i[1]-i[0]:(n=0,i=[i,i]);var o=function(o){var l=Pn*((e+120)/360+t*o),c=Sn(i[0]+n*o,r),d=(0!==s?a[0]+o*s:a)*c*(1-c)/2,u=Tn(l),p=An(l);return En(Mn([255*(c+d*(-.14861*u+1.78277*p)),255*(c+d*(-.29227*u-.90649*p)),255*(c+d*(1.97294*u)),1]))};return o.start=function(t){return null==t?e:(e=t,o)},o.rotations=function(e){return null==e?t:(t=e,o)},o.gamma=function(e){return null==e?r:(r=e,o)},o.hue=function(e){return null==e?a:("array"===xn(a=e)?0==(s=a[1]-a[0])&&(a=a[1]):s=0,o)},o.lightness=function(e){return null==e?i:("array"===xn(e)?(i=e,n=e[1]-e[0]):(i=[e,e],n=0),o)},o.scale=function(){return En.scale(o)},o.hue(a),o},On=w,$n="0123456789abcdef",Dn=Math.floor,Ln=Math.random,Bn=function(){for(var e="#",t=0;t<6;t++)e+=$n.charAt(Dn(16*Ln()));return new On(e,"hex")},Fn=o,Nn=Math.log,Vn=Math.pow,qn=Math.floor,Rn=Math.abs,Gn=function(e,t){void 0===t&&(t=null);var a={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Fn(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===Fn(e)&&(e=e[t]),null==e||isNaN(e)||(a.values.push(e),a.sum+=e,e<a.min&&(a.min=e),e>a.max&&(a.max=e),a.count+=1)})),a.domain=[a.min,a.max],a.limits=function(e,t){return Wn(a,e,t)},a},Wn=function(e,t,a){void 0===t&&(t="equal"),void 0===a&&(a=7),"array"==Fn(e)&&(e=Gn(e));var r=e.min,i=e.max,n=e.values.sort((function(e,t){return e-t}));if(1===a)return[r,i];var s=[];if("c"===t.substr(0,1)&&(s.push(r),s.push(i)),"e"===t.substr(0,1)){s.push(r);for(var o=1;o<a;o++)s.push(r+o/a*(i-r));s.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Nn(r),c=Math.LOG10E*Nn(i);s.push(r);for(var d=1;d<a;d++)s.push(Vn(10,l+d/a*(c-l)));s.push(i)}else if("q"===t.substr(0,1)){s.push(r);for(var u=1;u<a;u++){var p=(n.length-1)*u/a,f=qn(p);if(f===p)s.push(n[f]);else{var h=p-f;s.push(n[f]*(1-h)+n[f+1]*h)}}s.push(i)}else if("k"===t.substr(0,1)){var v,m=n.length,g=new Array(m),b=new Array(a),y=!0,w=0,C=null;(C=[]).push(r);for(var _=1;_<a;_++)C.push(r+_/a*(i-r));for(C.push(i);y;){for(var k=0;k<a;k++)b[k]=0;for(var I=0;I<m;I++)for(var x=n[I],M=Number.MAX_VALUE,P=void 0,S=0;S<a;S++){var A=Rn(C[S]-x);A<M&&(M=A,P=S),b[P]++,g[I]=P}for(var T=new Array(a),E=0;E<a;E++)T[E]=null;for(var j=0;j<m;j++)null===T[v=g[j]]?T[v]=n[j]:T[v]+=n[j];for(var O=0;O<a;O++)T[O]*=1/b[O];y=!1;for(var $=0;$<a;$++)if(T[$]!==C[$]){y=!0;break}C=T,++w>200&&(y=!1)}for(var D={},L=0;L<a;L++)D[L]=[];for(var B=0;B<m;B++)D[v=g[B]].push(n[B]);for(var F=[],N=0;N<a;N++)F.push(D[N][0]),F.push(D[N][D[N].length-1]);F=F.sort((function(e,t){return e-t})),s.push(F[0]);for(var V=1;V<F.length;V+=2){var q=F[V];isNaN(q)||-1!==s.indexOf(q)||s.push(q)}}return s},zn={analyze:Gn,limits:Wn},Hn=w,Un=function(e,t){e=new Hn(e),t=new Hn(t);var a=e.luminance(),r=t.luminance();return a>r?(a+.05)/(r+.05):(r+.05)/(a+.05)},Kn=w,Yn=Math.sqrt,Xn=Math.pow,Qn=Math.min,Zn=Math.max,Jn=Math.atan2,es=Math.abs,ts=Math.cos,as=Math.sin,rs=Math.exp,is=Math.PI,ns=function(e,t,a,r,i){void 0===a&&(a=1),void 0===r&&(r=1),void 0===i&&(i=1);var n=function(e){return 360*e/(2*is)},s=function(e){return 2*is*e/360};e=new Kn(e),t=new Kn(t);var o=Array.from(e.lab()),l=o[0],c=o[1],d=o[2],u=Array.from(t.lab()),p=u[0],f=u[1],h=u[2],v=(l+p)/2,m=(Yn(Xn(c,2)+Xn(d,2))+Yn(Xn(f,2)+Xn(h,2)))/2,g=.5*(1-Yn(Xn(m,7)/(Xn(m,7)+Xn(25,7)))),b=c*(1+g),y=f*(1+g),w=Yn(Xn(b,2)+Xn(d,2)),C=Yn(Xn(y,2)+Xn(h,2)),_=(w+C)/2,k=n(Jn(d,b)),I=n(Jn(h,y)),x=k>=0?k:k+360,M=I>=0?I:I+360,P=es(x-M)>180?(x+M+360)/2:(x+M)/2,S=1-.17*ts(s(P-30))+.24*ts(s(2*P))+.32*ts(s(3*P+6))-.2*ts(s(4*P-63)),A=M-x;A=es(A)<=180?A:M<=x?A+360:A-360,A=2*Yn(w*C)*as(s(A)/2);var T=p-l,E=C-w,j=1+.015*Xn(v-50,2)/Yn(20+Xn(v-50,2)),O=1+.045*_,$=1+.015*_*S,D=30*rs(-Xn((P-275)/25,2)),L=-2*Yn(Xn(_,7)/(Xn(_,7)+Xn(25,7)))*as(2*s(D)),B=Yn(Xn(T/(a*j),2)+Xn(E/(r*O),2)+Xn(A/(i*$),2)+L*(E/(r*O))*(A/(i*$)));return Zn(0,Qn(100,B))},ss=w,os=function(e,t,a){void 0===a&&(a="lab"),e=new ss(e),t=new ss(t);var r=e.get(a),i=t.get(a),n=0;for(var s in r){var o=(r[s]||0)-(i[s]||0);n+=o*o}return Math.sqrt(n)},ls=w,cs=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(ls,[null].concat(e))),!0}catch(a){return!1}},ds=_,us=nn,ps={cool:function(){return us([ds.hsl(180,1,.9),ds.hsl(250,.7,.4)])},hot:function(){return us(["#000","#f00","#ff0","#fff"]).mode("rgb")}},fs={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},hs=0,vs=Object.keys(fs);hs<vs.length;hs+=1){var ms=vs[hs];fs[ms.toLowerCase()]=fs[ms]}var gs=fs,bs=_;return bs.average=Ji,bs.bezier=un,bs.blend=In,bs.cubehelix=jn,bs.mix=bs.interpolate=ui,bs.random=Bn,bs.scale=nn,bs.analyze=zn.analyze,bs.contrast=Un,bs.deltaE=ns,bs.distance=os,bs.limits=zn.limits,bs.valid=cs,bs.scales=ps,bs.colors=La,bs.brewer=gs,bs}()),be.exports)),we=["deg","turn","bottom","left","top","right","circle","ellipse","farthest","closest"],Ce=["ease","ease-in","ease-out","ease-in-out","cubic-bezier","steps"],_e=["transparent","indianred","lightcoral","salmon","darksalmon","lightsalmon","crimson","red","firebrick","darkred","pink","lightpink","hotpink","deeppink","mediumvioletred","palevioletred","coral","tomato","orangered","darkorange","orange","gold","yellow","lightyellow","lemonchiffon","lightgoldenrodyellow","papayawhip","moccasin","peachpuff","palegoldenrod","khaki","darkkhaki","lavender","thistle","plum","violet","orchid","fuchsia","magenta","mediumorchid","mediumpurple","blueviolet","darkviolet","darkorchid","darkmagenta","purple","rebeccapurple","indigo","mediumslateblue","slateblue","darkslateblue","greenyellow","chartreuse","lawngreen","lime","limegreen","palegreen","lightgreen","mediumspringgreen","springgreen","mediumseagreen","seagreen","forestgreen","green","darkgreen","yellowgreen","olivedrab","olive","darkolivegreen","mediumaquamarine","darkseagreen","lightseagreen","darkcyan","teal","aqua","cyan","lightcyan","paleturquoise","aquamarine","turquoise","mediumturquoise","darkturquoise","cadetblue","steelblue","lightsteelblue","powderblue","lightblue","skyblue","lightskyblue","deepskyblue","dodgerblue","cornflowerblue","royalblue","blue","mediumblue","darkblue","navy","midnightblue","cornsilk","blanchedalmond","bisque","navajowhite","wheat","burlywood","tan","rosybrown","sandybrown","goldenrod","darkgoldenrod","peru","chocolate","saddlebrown","sienna","brown","maroon","white","snow","honeydew","mintcream","azure","aliceblue","ghostwhite","whitesmoke","seashell","beige","oldlace","floralwhite","ivory","antiquewhite","linen","lavenderblush","mistyrose","gainsboro","lightgray","lightgrey","silver","darkgray","darkgrey","gray","grey","dimgray","dimgrey","lightslategray","lightslategrey","slategray","slategrey","darkslategray","darkslategrey","black"],ke=["rgb","hsl","hsv"],Ie=e=>(e=>-1!==e.indexOf("("))(e)?e.substring(0,e.indexOf("(")):e,xe=e=>{const t=e.split(" "),a=t[t.length-1];return[e.replace(" "+a,""),parseInt(a)/100]},Me=e=>(e.map((e=>("div"===e.type&&(e.value=";"),e))),e),Pe=e=>Ce.includes(Ie(e)),Se=(e,t)=>{e[0]=e[0]||0,e[1]=e[1]||1;let a=t.map((e=>({...e}))),r=e[1]-e[0];return a.forEach((t=>t.x=t.x*r+e[0])),a},Ae=e=>`Couldn't parse:\n${e}\nCheck the syntax to see if it's correct/supported.`,Te=e=>e.map(((t,a)=>"transparent"===t?ye(e[Math.abs(a-1)]).alpha(0).css("hsl"):t)),Ee=(e,t)=>{var a;return e=`${Ie(e)}(${(a=e,a.match(/\((.*)\)/).pop()).split(",").map((e=>-1===e.indexOf("%")?+Number(e).toFixed(t):e.trim())).join(", ")})`},je=e=>we.some((t=>e.includes(t))),Oe=e=>{const t=e.toLowerCase();return!!ke.some((e=>t.includes(e)))||(!!t.includes(t.match(/^#([0-9a-f]{3}){1,2}$/i))||(!!_e.some((e=>t.includes(e)))||void 0))},$e=(e={})=>(e.stops||(e.stops=13),e.outputType||(e.outputType="css"),function(t){if(t.includes("-gradient")){const a=me(t);return a.walk((a=>{let r,i=[];"linear-gradient"!==a.value&&"radial-gradient"!==a.value||(r=me.stringify(Me(a.nodes)).split(";").map((e=>e.trim())),r.forEach(((a,n)=>{if(Pe(a))try{let t={},s=[];const o=[r[n-1],r[n+1]];o.forEach(((e,a)=>{o[a].endsWith("%")&&([o[a],t[a]]=xe(o[a]))}));const l=ie(a,e.stops-1);(t[0]||t[1])&&(s=Se(t,l));const c=((e,t,a=5,r="lrgb",i)=>{const n=[];return e=Te(e),t.forEach((t=>{const s=t.y,o=100*t.x;let l=ye.mix(e[0],e[1],s,r).css("hsl");l=Ee(l,a),"css"===i?0!==Number(t.x)&&1!==Number(t.x)?n.push(`${l} ${+o.toFixed(2)}%`):n.push(l):"canvas"===i&&(0!==Number(t.x)&&1!==Number(t.x)?n.push(`.addColorStop(${(o/100).toFixed(2)}, '${l}')`):Number(t.x))})),n})(o,s.length?s:l,e.alphaDecimals,e.colorMode,e.outputType);i=i.concat(c)}catch(s){console.log(Ae(t))}})),a.type="word","css"===e.outputType?r.length%2==0?a.value=`${a.value}(${r[0]}, ${i.join(", ")})`:a.value=`${a.value}(${i.join(", ")})`:"canvas"===e.outputType&&(a.value=i.join("\n")))})),a.toString()}}),De={"gentle-ease-out":"cubic-bezier(0.25, 0.25, 0.58, 1)",linear:"cubic-bezier(0.25, 0.25, 0.75, 0.75)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"};const Le=t({name:"GradientEaser",outputOptions:[{label:"CSS",value:"css"},{label:"Canvas",value:"canvas"}],data:()=>({querySelector:".app",gradientPostCss:"linear-gradient(to bottom, rgba(0,0,0,1) 30%, cubic-bezier(0.7, 0, 0.7, 1), transparent 80%)",gradientParams:[],gradientType:"",resultCopied:!1,indicesToDelete:[],menuOpenIndex:null,outputType:"css",alphaDecimals:5}),computed:{cssEasedGradient(){return this.gradientPostCss?$e({alphaDecimals:this.alphaDecimals})(this.gradientPostCss):""},canvasEasedGradient(){return this.gradientPostCss?$e({alphaDecimals:this.alphaDecimals,outputType:"canvas"})(this.gradientPostCss):""},outputGradient(){return"css"===this.outputType?this.cssEasedGradient:this.canvasEasedGradient},nodeList(){if(this.isValidQuerySelector(this.querySelector))return document.querySelectorAll(this.querySelector)},css(){return`${this.querySelector} { background: ${this.cssEasedGradient} !important; }`},nodeCount(){return this.querySelector?this.isValidQuerySelector(this.querySelector)?this.nodeList?this.nodeList.length:void 0:"âŒ":""},paramsIncludeDirection(){return"direction"===this.gradientParams[0].type}},watch:{gradientPostCss:{handler(e){if(this.skipSettingGradientPostCss)return void(this.skipSettingGradientPostCss=!1);let t=[];me(e).walk((e=>{"linear-gradient"!==e.value&&"radial-gradient"!==e.value||(this.gradientType=e.value,t=me.stringify(Me(e.nodes)).split(";").map((e=>{const t=e.trim();return{value:t,type:this.getParamType(t)}})))})),this.skipSettingGradientParams=!0,this.gradientParams=t},immediate:!0},gradientParams:{handler(e){this.skipSettingGradientParams?this.skipSettingGradientParams=!1:(this.skipSettingGradientPostCss=!0,this.gradientPostCss=`${this.gradientType}( ${e.map((e=>e.value)).join(", ")} );`)},deep:!0},nodeList(e){e&&e.length&&this.applyGradient()},cssEasedGradient(e){e&&this.applyGradient()},css(){this.storeGradientParams()},outputType(){this.storeGradientParams()}},created(){this.fetchGradientParams()},methods:{isValidQuerySelector(e){try{t=e,document.createDocumentFragment().querySelector(t)}catch(a){return!1}var t;return!0},applyGradient(){if(!this.cssEasedGradient)return;const e="gradient-easer-style",t=document.head,a=document.createElement("style"),r=document.getElementById(e);r&&t.removeChild(r),a.setAttribute("type","text/css"),a.setAttribute("id",e),t.appendChild(a),a.appendChild(document.createTextNode(this.css))},log(e){console.log(e)},getDefaultMenuItems(){return{deleteBefore:{title:"Delete â¤´",action:(e,t)=>this.gradientParams.splice(t-1,2),disable:(e,t)=>this.paramsIncludeDirection?t<=1:0===t,mouseenter:(e,t)=>{this.indicesToDelete=[t,t-1]},mouseleave:this.resetIndices},delete:{title:"Delete",action:(e,t)=>this.gradientParams.splice(t,1),disable:e=>"direction"!==e.type,mouseenter:(e,t)=>{this.indicesToDelete=[t,t-1]},mouseleave:this.resetIndices},deleteAfter:{title:"Delete â¤µ",action:(e,t)=>this.gradientParams.splice(t,2),disable:(e,t)=>"direction"===e.type||t>=this.gradientParams.length-1,mouseenter:(e,t)=>{this.indicesToDelete=[t,t+1]},mouseleave:this.resetIndices}}},getBezierMenuItems(){let e={};for(let t in De)e[t]={title:t,action:(e,a)=>{this.gradientParams[a].value=De[t]}};return e},getMenuEntries(e){return{color:{...this.getDefaultMenuItems()},bezier:{...this.getBezierMenuItems(),...this.getDefaultMenuItems()},direction:{...this.getDefaultMenuItems()}}[e]},copy(){let e=this.$refs.textarea;e.select(),document.execCommand("copy"),e.blur(),this.resultCopied=!0,setTimeout((()=>{this.resultCopied=!1}),1e3)},getParamType:e=>Pe(e)?"bezier":je(e)?"direction":Oe?"color":"unknown",clickDropdownAction(e,t,a){e(t,a),this.menuOpenIndex=null,this.indicesToDelete=[]},toggleMenu(e){this.menuOpenIndex=e===this.menuOpenIndex?null:e},resetIndices(){this.indicesToDelete=[]},addParams(){this.gradientParams.push({value:"cubic-bezier()",type:"bezier"}),this.gradientParams.push({value:"",type:"color"})},fetchGradientParams(){let e=localStorage.getObject("gradient-parameters");e&&Object.keys(e).forEach((t=>{this[t]=e[t]}))},storeGradientParams(){localStorage.setObject("gradient-parameters",{querySelector:this.querySelector,gradientPostCss:this.gradientPostCss,gradientParams:this.gradientParams,gradientType:this.gradientType,outputType:this.outputType,alphaDecimals:this.alphaDecimals})}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gradient-easer"},[t("section",[t("div",{staticClass:"input-wrapper query-selector-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.querySelector,expression:"querySelector"}],staticClass:"query-selector",attrs:{placeholder:"query selector"},domProps:{value:e.querySelector},on:{input:function(t){t.target.composing||(e.querySelector=t.target.value)}}}),t("div",{staticClass:"input-end node-count",on:{click:function(t){return e.log(e.nodeList)}}},[e._v(e._s(e.nodeCount))])]),t("div",{staticClass:"input-wrapper gradient-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.gradientPostCss,expression:"gradientPostCss"}],ref:"postcss",staticClass:"gradient-input",attrs:{placeholder:"eased gradient"},domProps:{value:e.gradientPostCss},on:{input:function(t){t.target.composing||(e.gradientPostCss=t.target.value)}}}),t("div",{staticClass:"input-end gradient-valid",on:{click:function(t){return e.log(e.cssEasedGradient)}}},[e._v(e._s(e.gradientPostCss?e.cssEasedGradient?"âœ”":"âŒ":""))])]),t("div",{staticClass:"settings"},[t("label",[e._v("AlphaDecimals")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.alphaDecimals,expression:"alphaDecimals"}],attrs:{type:"number",min:"0",max:"10"},domProps:{value:e.alphaDecimals},on:{input:function(t){t.target.composing||(e.alphaDecimals=t.target.value)}}})])]),t("section",[e._l(e.gradientParams,(function(a,r){return t("div",{key:r,staticClass:"input-wrapper param-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"param.value"}],staticClass:"param",class:{"to-delete":-1!==e.indicesToDelete.indexOf(r)},attrs:{placeholder:a.type},domProps:{value:a.value},on:{input:function(t){t.target.composing||e.$set(a,"value",t.target.value)}}}),t("div",{staticClass:"input-end"},[t("i",{staticClass:"icon icon-ellipsis",on:{click:function(t){return e.toggleMenu(r)}}}),r===e.menuOpenIndex?t("div",{staticClass:"menu dropdown"},[t("ul",{staticClass:"dropdown-list"},e._l(e.getMenuEntries(a.type),(function(r,i){return r.disable&&r.disable(a,i)?e._e():t("li",{key:i,on:{click:function(t){return e.clickDropdownAction(r.action,a,i)},mouseenter:function(e){r.mouseenter&&r.mouseenter(a,i)},mouseleave:function(e){r.mouseenter&&r.mouseleave(a,i)}}},[e._v(" "+e._s(r.title)+" ")])})),0)]):e._e()])])})),t("div",{staticClass:"add-params",on:{click:e.addParams}},[e._v(" + Add")])],2),t("section",{staticClass:"result"},[t("div",{staticClass:"result-header"},[t("label",{staticClass:"result-label",on:{click:e.copy}},[t("span",[e._v("Result")]),t("div",{staticClass:"icon icon-copy"})]),t("div",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.outputType,expression:"outputType"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.outputType=t.target.multiple?a:a[0]}}},e._l(e.$options.outputOptions,(function(a,r){return t("option",{key:r,domProps:{value:a.value}},[e._v(e._s(a.label)+" ")])})),0)])]),t("span",{staticClass:"result-text",class:{pulse:e.resultCopied},domProps:{innerHTML:e._s(e.outputGradient)}}),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.outputGradient,expression:"outputGradient"}],ref:"textarea",staticClass:"textarea",attrs:{readonly:""},domProps:{value:e.outputGradient},on:{input:function(t){t.target.composing||(e.outputGradient=t.target.value)}}})])])}),[],!1,null,"6aca6fb7").exports;const Be=t({name:"ModalDevPanel",components:{DefinitionList:t({name:"DefinitionList",props:{experimentId:{type:String,default:null},variantId:{type:String,default:null},definitions:{type:Object,default:()=>({})}},methods:{handleStepClick(e,{stepId:t,subStepIndex:a}={}){this.singleClicked?I.toggleStepPinned(e,{stepId:t,subStepIndex:a,experimentId:this.experimentId,variantId:this.variantId}):(this.singleClicked=!0,I.setStepActive(e,a),setTimeout((()=>this.singleClicked=!1),500))},shouldDisplayPinIcon:(e,t)=>e.pinned&&void 0===e.pinnedSubStepIndex&&void 0===t||void 0!==e.pinnedSubStepIndex&&e.pinnedSubStepIndex===t,shouldDisplayActive:(e,t)=>void 0!==e.activeSubStepIndex&&e.activeSubStepIndex===t}},(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"defs"},e._l(e.definitions,(function(a,r){return t("li",{key:r,staticClass:"def",attrs:{title:a.error?"Target element missing from DOM":""}},[t("div",{staticClass:"def-name-wrapper",class:{active:a.active&&!a.subSteps},on:{click:function(t){return e.handleStepClick(a,{stepId:r})}}},[t("div",[e.shouldDisplayPinIcon(a)?t("span",[t("inline-svg",{staticClass:"icon icon-pin",attrs:{src:v}})],1):e._e(),t("span",{staticClass:"def-name"},[e._v(e._s(a.name||a.headerText))])]),a.error?t("div",[t("inline-svg",{staticClass:"icon icon-alert",attrs:{src:x}})],1):e._e()]),t("ul",{staticClass:"sub-defs"},e._l(a.subSteps,(function(i,n){return t("li",{key:n,staticClass:"sub-def",class:{active:e.shouldDisplayActive(a,n)},on:{click:function(t){return e.handleStepClick(a,{stepId:r,subStepIndex:n})}}},[e.shouldDisplayPinIcon(a,n)?t("span",[t("inline-svg",{staticClass:"icon icon-pin",attrs:{src:v}})],1):e._e(),t("span",{staticClass:"sub-def-name"},[e._v(e._s(i.name))])])})),0)])})),0)}),[],!1,null,"15d2610e").exports},experimentIds:C,definitionIds:_,data:()=>({activeDefinitionKey:localStorage.getItem("devPanel:modals:activeDefinitionKey")||"all",activeExperimentKey:localStorage.getItem("devPanel:modals:activeExperimentKey")||"all"}),computed:{filteredDefinitions(){return this.filterDefs(I.definitions,_,this.activeDefinitionKey)},filteredExperiments(){return this.filterDefs(I.experimentMap,C,this.activeExperimentKey)}},watch:{activeDefinitionKey(e){localStorage.setItem("devPanel:modals:activeDefinitionKey",e)},activeExperimentKey(e){localStorage.setItem("devPanel:modals:activeExperimentKey",e)}},methods:{filterDefs(e,t,a){if("all"===a)return e;{let r={};return Object.keys(e).forEach((i=>{t[a].indexOf(i)>=0&&(r[i]=e[i])})),r}},async resetOnboardingProgress(){const e=k();e.loaded||await e.refresh(),Object.values(e.items).forEach((t=>{"legacy"===t.status?s.patch("onboarding/"+t.id,{deleted:!0}):e.deleteStepProgress(t.id)})),indexedDB.deleteDatabase("syncedDb:onboardingSteps:local")},closePopup(){m.trigger("modal:close")}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-dev"},[t("div",{staticClass:"all-defs"},[t("div",{staticClass:"definitions-wrapper"},[t("div",{staticClass:"row"},[t("div",{staticClass:"type-wrapper"},[t("h4",[e._v("Standard Steps")]),t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.activeDefinitionKey,expression:"activeDefinitionKey"}],staticClass:"types",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.activeDefinitionKey=t.target.multiple?a:a[0]}}},e._l(Object.keys(e.$options.definitionIds),(function(a){return t("option",{key:a,domProps:{value:a}},[e._v(e._s(a))])})),0)])])]),t("definition-list",{attrs:{definitions:e.filteredDefinitions}})],1),Object.keys(e.filteredExperiments).length?t("div",{staticClass:"experiments-wrapper"},[t("div",{staticClass:"row"},[t("div",{staticClass:"type-wrapper"},[t("h4",[e._v("Experiments")]),t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.activeExperimentKey,expression:"activeExperimentKey"}],staticClass:"types",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.activeExperimentKey=t.target.multiple?a:a[0]}}},e._l(Object.keys(e.$options.experimentIds),(function(a){return t("option",{key:a,domProps:{value:a}},[e._v(e._s(a))])})),0)])])]),t("ul",{staticClass:"experiments"},e._l(e.filteredExperiments,(function(a,r){return t("li",{key:r,staticClass:"experiment"},[t("strong",{staticClass:"experiment-name"},[e._v(e._s(a.name))]),t("ul",e._l(a.variants,(function(a,i){return t("li",{key:i,staticClass:"variant"},[t("header",[t("div",{staticClass:"variant-id"},[e._v(e._s(i))])]),t("definition-list",{attrs:{definitions:a.steps,"experiment-id":r,"variant-id":i}})],1)})),0)])})),0)]):e._e()]),t("div",{staticClass:"button-row"},[t("button",{staticClass:"button",on:{click:e.resetOnboardingProgress}},[e._v("Reset Progress")]),t("button",{staticClass:"button",on:{click:e.closePopup}},[e._v("Close Modal")])])])}),[],!1,null,"68dd45a4").exports;const Fe=t({name:"DevTools",devTools:[{category:"Triggers",methods:[{value:"logEnvironment",shortcut:"âŒ˜â‡§L"},{value:"triggerNewDay",label:"New Day",shortcut:"âŒƒâ‡§D"},"resetSafariNotification","triggerFlashMessage","triggerFlashError","triggerConfettiMessage"]},{category:"Toggles",methods:[{value:"toggleLoggingMEvents",label:"mï¸ Event Logging",shortcut:"8"},{value:"toggleClockFormat",label:"Clock Format",shortcut:"â‡§Z"},{value:"toggleFeatureDebug",argument:"instrumentation",label:"Instrumentation Event Logging",shortcut:"]"},{value:"toggleLocalSale",label:"Local Test Sale (Refresh)"}]},{category:"Feature test data",methods:[{value:"tabStashSeedOtherBrowserTestData",label:"Tab stash: Create session from other browser"},{value:"focusModeSetCapacityLimitTally",label:"Focus Mode: Set capacity limit tally to 59 minutes"}]}],methods:{callMethod(e){let t;"object"==typeof e&&(t=e.argument||"",e=e.value),m.devTools[e](t)},camelCaseToReadable:e=>m.utils.camelCaseToReadable(e)}},(function(){var e=this,t=e._self._c;return t("section",e._l(e.$options.devTools,(function(a){return t("div",{key:a.category},[t("h4",[e._v(e._s(a.category))]),e._l(a.methods,(function(a,r){return t("div",{key:r,staticClass:"button button-show button-dev-tool",on:{click:function(t){return e.callMethod(a)}}},[t("span",[e._v(" "+e._s("object"==typeof a?a.label?a.label:e.camelCaseToReadable(a.value):e.camelCaseToReadable(a))+" ")]),a.shortcut?t("span",{staticClass:"shortcut"},[e._v(" "+e._s(a.shortcut)+" ")]):e._e()])}))],2)})),0)}),[],!1,null,"c9d959f9").exports;const Ne=t({name:"Background",components:{Slider:M},data:()=>({activeBackground:{id:null,title:null,forDate:null,widgetColor:null,cached:null,isCustom:null,filename:null},adjustments:{brightness:1,contrast:1,saturation:1}}),watch:{adjustments:{handler:function(){let e="background-adjustment",t=document.getElementById(e);t&&t.remove();const a=`.background-item { filter: brightness(${this.adjustments.brightness}) contrast(${this.adjustments.contrast}) saturate(${this.adjustments.saturation}); }`,r=document.createElement("style");r.type="text/css",r.appendChild(document.createTextNode(a)),r.id=e,document.head.appendChild(r)},deep:!0}},created(){m.models.activeBackground.on("background:successfullyLoaded",this.setActiveBackground),this.setActiveBackground()},destroyed(){m.models.activeBackground.off("background:successfullyLoaded",this.setActiveBackground)},methods:{setActiveBackground(){const e=m.models.activeBackground.backgroundItem;e&&(this.activeBackground={id:e.get("_id")||e.get("id"),title:e.get("title"),forDate:e.get("forDate"),widgetColor:e.get("widgetColor"),cached:e.get("cached"),isCustom:!!e.get("isCustom"),filename:e.get("filename")})},capitalizeFirstLetter:m.utils.capitalizeFirstLetter}},(function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"details"},[t("h3",[e._v("Details")]),e.activeBackground.title?t("p",[t("strong",[e._v("Name:")]),e._v(" "+e._s(e.activeBackground.title))]):e._e(),t("p",[t("strong",[e._v("ID:")]),e._v(" "+e._s(e.activeBackground.id))]),t("p",[t("strong",[e._v("For Date:")]),e._v(" "+e._s(e.activeBackground.forDate))]),t("p",[t("strong",[e._v("Cached:")]),e._v(" "+e._s(e.activeBackground.cached))]),t("p",[t("strong",[e._v("Custom:")]),e._v(" "+e._s(e.activeBackground.isCustom))])]),e.activeBackground.widgetColor?t("div",[t("h3",[e._v("Widget Color")]),t("p",[t("strong",[e._v("Apps:")]),e._v(" "+e._s(e.activeBackground.widgetColor.hsla))]),t("p",[t("strong",[e._v("Text:")]),e._v(" "+e._s(e.activeBackground.widgetColor.bodyTextColor))])]):e._e(),t("a",{attrs:{href:e.activeBackground.filename}},[t("div",[e._v(" Photo Link ")])]),t("div",[t("h3",[e._v("Adjustment")]),e._l(e.adjustments,(function(a,r){return t("div",{key:r,staticClass:"slider"},[t("span",[e._v(e._s(e.capitalizeFirstLetter(r))+": "+e._s(a))]),t("slider",{attrs:{id:r,min:0,max:2,interval:.01},model:{value:e.adjustments[r],callback:function(t){e.$set(e.adjustments,r,t)},expression:"adjustments[name]"}})],1)}))],2)])}),[],!1,null,"98283a38").exports,Ve=o.extend({name:"ViewData",unreactive:()=>({$_handlerKeyCodes:{keyup:{onEnter:13,onEsc:27}},collection:null,views:null}),data:()=>({activeViewId:"",activeItem:null,adding:!1,confirmationOverlayProps:null,forcedAppBodyHeight:null,$_activeBodyComponentInstance:null}),computed:{activeItemId(){return this.activeItem&&this.activeItem.id||""},activeView(){return this.views[this.activeViewId]},editProps(){return this.activeItem&&this.activeItem.editProps},confirmationOverlayActive(){return!!this.confirmationOverlayProps},loaded(){return!this.collection||this.collection.data.loaded}},watch:{loaded:{handler:"$_fallbackToDefaultView",immediate:!0}},created(){this.$on("container:created",this.$_fallbackToDefaultView)},methods:{async showView(e,{doNotBlock:t,afterLeave:a}={}){var r,i,n,s;"default"===e?e=this.$_getViewByProperty("defaultView"):"add"===e&&(this.createItem(),e=this.$_getViewByProperty("addView"));const o=this.activeViewId;o&&(t?(null==(i=null==(r=null==this?void 0:this.$_activeBodyComponentInstance)?void 0:r.beforeLeave)||i.call(r,!0),null==(s=null==(n=this.views[o])?void 0:n.beforeLeave)||s.call(n,!0)):(await this.awaitCloseConfirmationIfNeeded(),this.$_removeGlobalEventListeners(o),this.setActiveBodyComponentInstance(null))),this.$emit("viewClosing:"+this.activeViewId),this.$_addGlobalEventListeners(e),this.activeViewId=e,o&&a&&this.$once("resolveShowView:"+o,a)},closeApp(){this.awaitCloseConfirmationIfNeeded().then((()=>this.$emit("close")))},resetView(){this.activeViewId="",this.clearConfirmationOverlay(),this.clearItem(),this.forcedAppBodyHeight={},this.$_activeBodyComponentInstance=null},setItem(e){if("string"==typeof e)this.activeItem=this.collection.data.items[e];else{if("object"!=typeof e)throw"setItem must be called with an item model or item id";this.activeItem=e}},createItem(){this.activeItem=new this.collection.Model,this.activeItem.copyProperties(),this.adding=!0},clearItem(){this.activeItem&&this.activeItem.revertChanges(),this.adding=!1,this.activeItem=null},showDeleteConf(){this.$emit("showDeleteConf")},showConfirmationOverlay(e){this.confirmationOverlayProps=e},clearConfirmationOverlay(){this.confirmationOverlayProps=null},setForcedAppBodyHeight(e){this.forcedAppBodyHeight=e},resetForcedAppBodyHeight(){this.forcedAppBodyHeight=null},awaitCloseConfirmationIfNeeded(){var e,t,a;return this.activeViewId?Promise.all([null==(e=null==this?void 0:this.$_activeBodyComponentInstance)?void 0:e.beforeLeave(),null==(a=null==(t=this.views[this.activeViewId])?void 0:t.beforeLeave)?void 0:a.call(t)]).then((e=>{if(e.some((e=>!1===e)))return new Promise((function(){}))})):Promise.resolve()},setActiveBodyComponentInstance(e){this.$_activeBodyComponentInstance=e},$_getViewByProperty(e){const t=Object.keys(this.views).find((t=>this.views[t][e]));if(t)return t;throw`No view with property: "${e}" was found. Please define a "${e}" property if you wish to access a view this way`},$_addGlobalEventListeners(e){const t=this.views[e];Object.entries(this.$_handlerKeyCodes).forEach((([a,r])=>{Object.entries(r).forEach((([r,i])=>{const n=t[r];n&&P.registerEventListener(`${e}:${r}`,a,i,(()=>{"string"==typeof n?this.showView(n):"function"==typeof n&&n()}))}))}))},$_removeGlobalEventListeners(e){const t=this.views[e];Object.entries(this.$_handlerKeyCodes).forEach((([a,r])=>{Object.entries(r).forEach((([r,i])=>{t[r]&&P.removeEventListener(`${e}:${r}`,a,i)}))}))},$_fallbackToDefaultView(){this.loaded&&!this.activeViewId&&this.showView("default")}}});const qe=t({name:"ItemsEmpty",props:{viewManager:{type:Object,required:!0},emptyMessage:{type:String,default:""},addLabel:{type:String,default:""}},computed:{addMessage(){const e=this.viewManager.collection.nameLCS;return`Add ${e&&m.utils.isVowel(e[0])?"an":"a"} ${e} to get started`}},methods:{onAdd(){this.viewManager.showView("add")}}},(function(){var e=this,t=e._self._c;return t("section",{staticClass:"empty"},[e._m(0),t("div",{staticClass:"content"},[t("div",{staticClass:"title"},[e._v(e._s(e.emptyMessage))]),t("div",{staticClass:"description"},[e._v(e._s(e.addMessage))]),t("button",{staticClass:"button",attrs:{"data-test":"add-button"},on:{click:e.onAdd}},[e._v(e._s(e.addLabel))])])])}),[function(){var e=this._self._c;return e("ul",{staticClass:"list"},[e("li",{staticClass:"list-row"}),e("li",{staticClass:"list-row"}),e("li",{staticClass:"list-row"})])}],!1,null,"ff6e10f3").exports,Re={props:{viewManager:{type:Object,required:!0}},created(){var e,t,a;this.viewManager.setActiveBodyComponentInstance(this),this._viewId=this.viewManager.activeViewId,this.viewManager.$on(`viewOpened:${this._viewId}`,this._afterEnterWrapper),this.viewManager.$on(`viewClosed:${this._viewId}`,this._afterLeaveWrapper),null==(a=null==(t=null==(e=this.viewManager)?void 0:e.views[this._viewId])?void 0:t.beforeEnter)||a.call(t),this.beforeEnter()},destroyed(){this.viewManager.$emit("resolveShowView:"+this._viewId)},methods:{beforeEnter(){},afterEnter(){},beforeLeave(){},afterLeave(){},_afterLeaveWrapper(){var e,t;null==(t=null==(e=this.viewManager.views[this._viewId])?void 0:e.afterLeave)||t.call(e),this.afterLeave(),this._removeListeners()},_afterEnterWrapper(){var e,t;null==(t=null==(e=this.viewManager.views[this._viewId])?void 0:e.afterEnter)||t.call(e),this.afterEnter()},_removeListeners(){this.viewManager.$off(`viewClosed:${this._viewId}`,this._afterLeaveWrapper),this.viewManager.$off(`viewOpened:${this._viewId}`,this._afterEnterWrapper)}}};const Ge=t({name:"ItemList",components:{ItemsEmpty:qe},store:["teamInfo"],mixins:[Re],props:{addLabelOverride:{type:String,default:""},hasCategories:{type:Boolean,default:!1},addButtonText:{type:String,default:"Add"},itemComponent:{type:[Object,Function],default:null},allowReorder:{type:Boolean,default:!1},separatePinned:{type:Boolean,default:!1},filter:{type:Object,default:null}},data:()=>({defaultError:"",dragging:!1,dragstartIndex:null,dragstartKey:null,dragstartModel:null,reorderableItems:[]}),computed:{collection(){return this.viewManager.collection},sort(){return this.collection.sort||((e,t)=>e.order-t.order)},fields(){return this.collection.fields},addLabel(){return this.addLabelOverride||`+ ${this.addButtonText} ${this.collection.nameCS}`},allItems:function(){return this.collection.data.items},filteredItems(){let e=Object.values(this.allItems);return this.filter&&(e=e.filter(this.filter.func)),e.sort(this.sort),e},loaded(){return this.collection.data.loaded},separatorIndices(){let e={};return this.separatePinned&&Object.keys(this.reorderableItems).forEach((t=>{e[t]=this.reorderableItems[t].findIndex((e=>e.separator))})),e},pinning(){return this.dragging&&!this.dragstartModel.pinned&&this.dragstartIndex<this.separatorIndices[this.dragstartKey]},unpinning(){return this.dragging&&this.dragstartModel.pinned&&this.dragstartIndex>this.separatorIndices[this.dragstartKey]}},methods:{copyFilterItems(){this.reorderableItems=[...this.filteredItems]},dragstart(e,t,a,r){this.copyFilterItems(),e.dataTransfer.setData("text/html",e.target.outerHTML),this.dragging=!0,this.dragstartIndex=t,this.dragstartKey=r,this.dragstartModel=a,this.dragTimeout=setTimeout((()=>this.$set(a,"dragging",!0)),100)},dragenter(e,t,a){t!==this.dragstartIndex&&(this.reorderableItems[a].splice(t,0,this.reorderableItems[a].splice(this.dragstartIndex,1)[0]),this.dragstartIndex=t)},drop(e,t){Object.prototype.hasOwnProperty.call(this.collection,"reorder")||console.log('Error: the prop collection does not have the "reorder" method to commit this drop operation.');const a=this.dragstartModel;this.$set(a,"dragging",!1);let r,i,n=!1,s=null;0===e?(r=this.reorderableItems[t][1],n=!0):this.reorderableItems[t][e-1].separator?(r=this.reorderableItems[t][e+1],n=!0):(r=this.reorderableItems[t][e-1],i=this.reorderableItems[t][e+1]),this.separatePinned&&(e<this.separatorIndices[t]&&!a.pinned?s=!0:e>this.separatorIndices[t]&&a.pinned&&(s=!1),null!==s&&this.$set(a,"pinned",s)),this.collection.reorder(this.dragstartModel,r,n,i,s)},dragend(e){clearTimeout(this.dragTimeout),this.$set(e,"dragging",!1),this.dragging=!1,this.dragstartIndex=null,this.dragstartKey=null,this.dragstartModel=null,this.reorderableItems={}}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"box-wrapper",attrs:{slot:"content"},slot:"content"},[t("transition",{attrs:{name:"fade"}},[e.pinning||e.unpinning?t("div",{staticClass:"pin-message"},[e._v(e._s(e.pinning?"Pin":"Unpin"))]):e._e()]),t("div",{staticClass:"items-filter",class:{draggable:e.allowReorder,dragging:e.dragging,pinning:e.pinning,unpinning:e.unpinning}},[e.filteredItems.length?t("ul",{staticClass:"list",attrs:{"data-test":"list"}},e._l(e.dragging?e.reorderableItems[e.key]:e.filteredItems,(function(a,r){return t(e.itemComponent,{key:a.id,tag:"component",attrs:{item:a,"view-manager":e.viewManager},nativeOn:{dragstart:function(t){return e.dragstart(t,r,a,e.key)},dragenter:function(t){return t.preventDefault(),e.dragenter(t,r,e.key)},dragover:function(e){e.preventDefault()},drop:function(t){return e.drop(r,e.key)},dragend:function(t){return e.dragend(a)}}})})),1):t("items-empty",{attrs:{"empty-message":e.filter&&e.filter.emptyMessage||e.collection.emptyMessage,"add-label":e.addLabel,"view-manager":e.viewManager,"data-test":"empty"}})],1)],1)}),[],!1,null,"bd1f55f4").exports;var We="https://api.momentumdash.com/",ze="2.23.4";const He={mixins:[{methods:{_mergeQueryParams(...e){return Object.assign.apply(null,[{},this.queryParams.all||{}].concat(e))},_buildQueryString(...e){const t=new URLSearchParams(this._mergeQueryParams.apply(null,e)).toString();return t?"?"+t:""}}}],unreactive:()=>({type:"",path:"",mode:"sync",pathOverrides:{},queryParams:{get:{},update:{}}}),created(){this.type||console.error("dataSyncServiceMixin Error: You must declare a type in unreactive")},methods:{get({path:e=this.pathOverrides.get||this.path||this.type,success:t,failure:a,queryParams:r,mode:i=this.mode,retry:n,notifyUserOnFailure:s}={}){e+=this._buildQueryString(this.queryParams.get,r);const o=[this.type,{path:e,env:this._getEnv(),mode:i,retry:n,notifyUserOnFailure:s}],d=this.type+":refreshed";i===l.Server?c.sendMessage({handler:"get",args:o}).then(t).catch(a):c.sendRecurringCrossTabMessage({msgId:d,handler:"get",args:o,success:t,failure:a})},refresh({queryParams:e,retry:t,notifyUserOnFailure:a}={}){return new Promise(((r,i)=>{this.get({queryParams:e,retry:t,mode:l.Server,success:r,failure:i,notifyUserOnFailure:a})}))},add(e,t,{path:a=this.pathOverrides.add||this.path||this.type,mode:r=this.mode}={}){const i=[this.type,e,t,{path:a,mode:r,env:this._getEnv()}];return c.sendMessage({handler:"create",args:i})},update(e,t,{path:a=this.pathOverrides.update||this.path||this.type,mode:r=this.mode,queryParams:i}={}){const n=this._buildQueryString(this.queryParams.update,i),s=[this.type,e,t];return s.push({path:a,mode:r,env:this._getEnv(),queryString:n}),c.sendMessage({handler:"update",args:s})},delete(e,{path:t=this.pathOverrides.delete||this.path||this.type,mode:a=this.mode}={}){const r=[this.type,e,{path:t,mode:a,env:this._getEnv()}];return c.sendMessage({handler:"delete",args:r})},_getEnv:()=>({token:localStorage.getItem("token"),clientUuid:localStorage.getItem("client_uuid"),apiUrl:We,version:ze,tabId:d})}},Ue=new(o.extend({unreactive:()=>({type:"accounts",mode:l.Cache}),mixins:[He]})),Ke=o.extend({mixins:[S],data:()=>({id:"",name:"",email:"",token:"",type:"",api:"",props:["name","email","token","type","api"]})});var Ye="production";const Xe=t({name:"AccountProperties",props:{viewManager:{type:Object,required:!0}},computed:{editProps(){return this.viewManager.editProps},typeClass(){return"free"===this.editProps.type?"":"badge-"+this.editProps.type}},created(){this.viewManager.adding&&(this.editProps.email=localStorage.getItem("email"),this.editProps.token=localStorage.getItem("token"),this.editProps.api=Ye),this.editProps.type=this.getAccountType()},methods:{getAccountType:()=>m.conditionalFeatures.featureEnabled("team")?"team":m.conditionalFeatures.featureEnabled("plus")?"plus":"free"}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"properties"},[t("div",{staticClass:"property email",attrs:{title:e.editProps.email}},[t("label",[e._v("Email")]),t("div",[e._v(e._s(e.editProps.email))])]),t("div",{staticClass:"property type"},[t("label",[e._v("Type")]),t("div",{staticClass:"badge",class:e.typeClass},[e._v(e._s(e.editProps.type))])]),t("div",{staticClass:"property api"},[t("label",[e._v("API")]),t("div",[e._v(e._s(e.editProps.api))])])])}),[],!1,null,"d2361e16").exports,Qe=new(o.extend({mixins:[A],unreactive:()=>({Model:Ke,dataService:Ue,type:"accounts",fields:[{label:"Name",property:"name",type:"input"},{type:Xe}]})})),Ze={maxLength({value:e,arg:t}){if(e.length>t)throw u.MAX_INPUT_LENGTH_EXCEEDED},validUrl({value:e}){if(!m.utils.isValidUrl(m.utils.ensureUrlScheme(e)))throw u.INVALID_URL}};const Je=t({name:"EditForm",components:{EditField:t({name:"EditField",directives:{SoftFocus:E},components:{FormSelectIcon:O,FormToggle:j,Tooltip:t({name:"Tooltip",unreactive:()=>({hoverDurationToActivate:200,defaultMaxWidth:300,minWidth:150}),props:{besideFormLabel:{type:Boolean,default:!1},position:{type:String,default:p.BOTTOM},noMarginBottom:{type:Boolean,default:!1},alignAtBaseline:{type:Boolean,default:!1}},data(){return{open:!1,tooltipWidth:this.defaultMaxWidth,positionOverride:null,openToLeft:!1}},computed:{computedPosition(){return this.positionOverride||this.position}},methods:{mouseEnter(){this.hoverTimeout=setTimeout((()=>{const e=this.$refs["tooltip-wrapper"],t=e.closest(".tooltip-container");if(t){const a=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=a.left-r.left,n=r.right-a.right,s=this.position===p.LEFT?i:n,o=this.position===p.LEFT?n:i,l=this.defaultMaxWidth>s,c=this.minWidth>s&&o>s;l&&!c?this.tooltipWidth=s:c&&(this.tooltipWidth=Math.min(o,this.defaultMaxWidth),this.position===p.RIGHT?this.positionOverride=p.LEFT:this.openToLeft=!0)}this.open=!0}),this.hoverDurationToActivate)},mouseLeave(){this.hoverTimeout&&clearTimeout(this.hoverTimeout),this.open=!1,this.positionOverride=null,this.openToLeft=!1,this.tooltipWidth=this.defaultMaxWidth}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex-wrapper",class:{"beside-form-label":e.besideFormLabel,"u--no-margin-bottom":e.noMarginBottom,"align-baseline":e.alignAtBaseline}},[e._t("input"),e.$slots["tip-text"]?t("div",{ref:"tooltip-wrapper",staticClass:"tooltip-wrapper"},[t("inline-svg",{staticClass:"tooltip-icon",attrs:{src:T},on:{mouseenter:e.mouseEnter,mouseleave:e.mouseLeave}}),t("transition",{attrs:{name:"fade",duration:"75"}},[e.open?t("div",{staticClass:"tooltip",class:[e.computedPosition,{"open-to-left":e.openToLeft}],style:{"max-width":e.tooltipWidth+"px"}},[e._t("tip-text"),t("div",{staticClass:"notch"})],2):e._e()])],1):e._e()],2)}),[],!1,null,"cbab72f3").exports},props:{autoFocus:{type:Boolean,default:!1},viewManager:{type:Object,required:!0},field:{type:Object,required:!0},fieldWarnings:{type:Array,default:()=>[]},componentFieldWarnings:{type:Array,default:()=>[]}},computed:{warning(){return this.fieldWarnings.includes(this.field.property)},editProps(){return this.viewManager.editProps},activeItem(){return this.viewManager.activeItem},computedSelectOptions(){return this.access(this.field.options)},remainingCharacters(){if(this.field.validate&&this.field.validate.maxLength&&"string"==typeof this.editProps[this.field.property])return this.field.validate.maxLength-this.editProps[this.field.property].length},inputWrapperClass(){if(this.field.validate&&this.field.validate.maxLength)return this.remainingCharacters<0?"show-count over-limit":this.remainingCharacters<.6*this.field.validate.maxLength?"show-count close-to-limit":this.remainingCharacters>.8*this.field.validate.maxLength?"hide-count":"show-count"}},watch:{warning(e){if(e){let e=document.activeElement;if(e.classList&&e.classList.contains("error"))return;this.focus()}}},methods:{focus(){this.$refs.element&&this.$refs.element.focus&&this.$refs.element.focus()},blur(){this.$refs.element&&this.$refs.element.blur&&this.$refs.element.blur()},clearWarnings(){this.$emit("clear-warnings")},access:m.utils.access}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-row",class:[e.access(e.field.class,e.activeItem),e.warning?"warning":""]},[("input"===e.field.type||"select"===e.field.type)&&e.field.label&&e.access(e.field.tooltip,e.activeItem)?t("tooltip",{attrs:{"beside-form-label":!0}},[t("label",{attrs:{slot:"input",for:e.field.property},slot:"input"},[e._v(e._s(e.field.label))]),t("span",{attrs:{slot:"tip-text"},slot:"tip-text"},[e._v(e._s(e.access(e.field.tooltip,e.activeItem)))])]):"input"!==e.field.type&&"select"!==e.field.type||!e.field.label?e._e():t("label",{attrs:{for:e.field.property}},[e._v(e._s(e.field.label)),e.access(e.field.optionalLabel,e.activeItem)?t("span",{staticClass:"optional"},[e._v("Optional")]):e._e()]),"input"===e.field.type?t("div",{staticClass:"input-wrapper",class:[e.inputWrapperClass,e.field.wrapperClass],attrs:{"data-test":e.field.dataTest+"-input-wrapper"}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.editProps[e.field.property],expression:"editProps[field.property]",modifiers:{trim:!0}},{name:"soft-focus",rawName:"v-soft-focus",value:e.autoFocus,expression:"autoFocus"}],ref:"element",attrs:{placeholder:e.field.placeholder,name:e.field.property,disabled:e.activeItem.disableEdit||e.access(e.field.disabled,e.activeItem),"data-test":e.field.dataTest+"-input",type:"text",autocapitalize:e.field.autoCapitalize?"on":"off",autocorrect:!1===e.field.autoCorrect?"off":"on",autocomplete:"off"},domProps:{value:e.editProps[e.field.property]},on:{keyup:e.clearWarnings,input:function(t){t.target.composing||e.$set(e.editProps,e.field.property,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.field.validate&&e.field.validate.maxLength?t("div",{staticClass:"remaining-characters",attrs:{"data-test":e.field.dataTest+"-remaining-characters"}},[e._v(e._s(e.remainingCharacters))]):e._e()]):"toggle"===e.field.type?t("form-toggle",{ref:"element",staticClass:"in-form",attrs:{name:e.field.property,label:e.field.label,tip:e.field.tip,"data-test":e.field.dataTest+"-input"},model:{value:e.editProps[e.field.property],callback:function(t){e.$set(e.editProps,e.field.property,t)},expression:"editProps[field.property]"}}):"select"===e.field.type?t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.editProps[e.field.property],expression:"editProps[field.property]"}],ref:"element",attrs:{name:e.field.property,disabled:e.activeItem.disableEdit||e.access(e.field.disabled,e.activeItem),"data-test":e.field.dataTest+"-input"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.editProps,e.field.property,t.target.multiple?a:a[0])}}},e._l(e.computedSelectOptions,(function(a,r){return t("option",{key:r,attrs:{disabled:a.disabled},domProps:{value:a.value,selected:a.selected}},[e._v(" "+e._s(a.label)+" ")])})),0)]):"icon"===e.field.type?t("form-select-icon",{ref:"element",attrs:{name:e.field.property,label:e.field.label,"data-test":e.field.dataTest+"-input"},model:{value:e.editProps[e.field.property],callback:function(t){e.$set(e.editProps,e.field.property,t)},expression:"editProps[field.property]"}}):t(e.field.type,{ref:"element",tag:"component",attrs:{field:e.field,"field-warnings":e.fieldWarnings,"view-manager":e.viewManager,"component-field-warnings":e.componentFieldWarnings,"disable-input":e.activeItem.disableEdit},on:{input:e.clearWarnings},model:{value:e.editProps[e.field.property],callback:function(t){e.$set(e.editProps,e.field.property,t)},expression:"editProps[field.property]"}}),e.field.subText?t("div",{staticClass:"input-description",domProps:{innerHTML:e._s(e.field.subText)}}):e._e()],1)}),[],!1,null,"f50cedef").exports,FormMessage:$},mixins:[Re],props:{addButtonText:{type:String,default:"Add"},addButtonLoadingText:{type:String,default:"Addingâ€¦"},saveButtonText:{type:String,default:"Save"},saveButtonLoadingText:{type:String,default:"Savingâ€¦"},suppressFlashMessages:{type:Boolean,default:!1}},data:()=>({error:"",saving:!1,fieldWarnings:[],componentFieldWarnings:[]}),computed:{collection(){return this.viewManager.collection},adding(){return this.viewManager.adding},fields(){return this.collection.fields},fieldsToRender(){return this.fields.filter((e=>this.shouldRenderField(e,this.editProps)))},buttonText(){return this.saving?this.adding?this.addButtonLoadingText:this.saveButtonLoadingText:this.adding?this.addButtonText:this.saveButtonText},activeItem(){return this.viewManager.activeItem},editProps(){return this.activeItem.editProps}},created(){Object.keys(this.viewManager.editProps).length||this.viewManager.activeItem.copyProperties(),this.clearWarnings(),this.viewManager.$on("showDeleteConf",this.showDeleteConf),P.registerEventListener("editFormEnter","keyup",13,this.saveItem)},destroyed(){P.removeEventListener("editFormEnter","keyup",13),this.viewManager.$off("showDeleteConf",this.showDeleteConf),this.clearWarnings()},methods:{deleteItem(){return this.collection.delete(this.viewManager.activeItem).then((()=>{this.suppressFlashMessages||f.$emit("flashMessage",{message:this.collection.nameCS+" deleted.",icon:this.collection.icon})})).catch((e=>{this.error=this.handleError(e)}))},shouldValidateField(e,t){return e.validate&&!(this.adding?e.editingOnly:e.addingOnly)&&!this.isHiddenInForm(e,t)},shouldRequireField(e,t){return e.required&&!(this.adding?e.editingOnly:e.addingOnly)&&!this.isHiddenInForm(e,t)},emptyCheck(){this.componentFieldWarnings=[];let e=!1;for(let t of this.fields)if(this.shouldRequireField(t,this.editProps)&&m.utils.access(t.required,this.editProps,this.activeItem)){const a=m.utils.access(t.requiredComponentFields,this.editProps);a?a.forEach((a=>{(!this.editProps[t.property][a]||"string"==typeof this.editProps[t.property][a]&&this.editProps[t.property][a].trim().length<=0)&&(e=!0,this.fieldWarnings.push(t.property),this.componentFieldWarnings.push(a))})):(null==this.editProps[t.property]||"string"==typeof this.editProps[t.property]&&this.editProps[t.property].trim().length<=0)&&(e=!0,this.fieldWarnings.push(t.property))}return e},validate(){this.componentFieldWarnings=[];for(let t of this.fields){if(!this.shouldValidateField(t,this.editProps))continue;const a=(e,t,a)=>Ze[e]({value:t,arg:a}),r=this.editProps[t.property];try{"string"==typeof t.validate?a(t.validate,r):"object"==typeof t.validate&&Object.entries(t.validate).forEach((([e,t])=>a(e,r,t)))}catch(e){return this.error=this.handleError(e),this.fieldWarnings.push(t.property),!1}}return!0},clearWarnings(){this.error="",this.fieldWarnings=[],this.componentFieldWarnings=[]},revertChanges(){var e,t;null==(t=null==(e=this.activeItem)?void 0:e.revertChanges)||t.call(e),this.viewManager.clearItem()},commitChanges(){var e,t;null==(t=null==(e=this.activeItem)?void 0:e.commitChanges)||t.call(e),this.viewManager.clearItem(),this.saving=!1},activeItemHasChanges(){return this.activeItem.getChanges&&0!==this.activeItem.getChanges().length||this.activeItem.getSublinkChanges&&0!==this.viewManager.activeItem.getSublinkChanges().length},autoCapitalizeFields(){this.fields.forEach((e=>{const t=this.editProps[e.property];e.autoCapitalize&&t&&(this.editProps[e.property]=m.utils.capitalizeFirstLetter(t))}))},saveItem(e,t){if(this.clearWarnings(),this.saving||this.emptyCheck()||!this.validate())return;let a=!e&&this.getSaveConfInfo();if(a)return void this.showSaveConf(a);this.activeItem.canSaveAsDraft&&"boolean"==typeof t&&(this.activeItem.editProps.draft=t);let r=this.adding?"add":"update";"update"!==r||this.activeItemHasChanges()?(this.saving=!0,this.collection[r](this.viewManager.activeItem).then((()=>{this.activeItem.refreshAfterSave&&this.collection.refresh(),this.viewManager.showView("default",{doNotBlock:!0,afterLeave:()=>{this.autoCapitalizeFields(),this.commitChanges(),this.clearWarnings(),this.saving=!1}}),this.suppressFlashMessages||f.$emit("flashMessage",{message:this.collection.nameCS+("add"===r?" added.":" saved."),icon:this.collection.icon})})).catch((e=>{this.saving=!1,this.error=this.handleError(e)}))):this.viewManager.showView("default",{doNotBlock:!0,afterLeave:()=>{this.revertChanges(),this.clearWarnings(),this.saving=!1}})},handleError:e=>"string"==typeof e?e:"Network Error"===e.message?u.SERVER_ERROR_NETWORK:e.response&&500===e.response.status?u.SERVER_ERROR_GENERAL:e.message,isHiddenInForm:(e,t)=>m.utils.access(e.hiddenInForm,t),shouldRenderField(e,t){return"hidden"!==e.type&&(!this.isHiddenInForm(e,t)&&(this.adding?!e.editingOnly:!e.addingOnly))},showSaveConf(e){e.onProceed=()=>this.saveItem(!0),e.class=("string"==typeof e.class?e.class+" ":"")+"save-conf",this.viewManager.showConfirmationOverlay(e)},showDeleteConf(){this.viewManager.showConfirmationOverlay({heading:this.activeItem.name?`Delete "${this.activeItem.name}"?`:"Delete?",subheading:"This can't be undone",class:"delete-conf",onProceed:()=>this.deleteItem().then((()=>this.viewManager.showView("default",{doNotBlock:!0})))})},getSaveConfInfo(){let e,t;return this.activeItem.getChanges().forEach((a=>{t=this.fields.find((e=>e.name===a)),t&&t.confirmChange&&(e=t.confirmChange(this.viewManager.activeItem))})),e},showCancelConf(e){this.viewManager.showConfirmationOverlay({heading:"Are you sure you want to cancel?",subheading:"Any changes will be lost.",class:"cancel-conf",onProceed:e,dashboardOverlay:!0})},beforeLeave(e){if(!e)return!this.viewManager.confirmationOverlayActive&&(this.activeItemHasChanges()?new Promise(this.showCancelConf):void 0)}}},(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"edit-form",on:{submit:function(e){e.preventDefault()}}},[e._l(e.fieldsToRender,(function(a,r){return t("edit-field",{key:r,ref:"newProps",refInFor:!0,attrs:{"auto-focus":!r,field:a,"view-manager":e.viewManager,"field-warnings":e.fieldWarnings,"component-field-warnings":e.componentFieldWarnings},on:{"clear-warnings":e.clearWarnings}})})),t("transition",{attrs:{name:"fade",mode:"out-in"}},[e.error?t("form-message",{attrs:{message:e.error,error:!!e.error}}):e._e()],1),t("div",{staticClass:"save-button-container"},[t("button",{staticClass:"button button-primary button-save",attrs:{disabled:e.saving||e.activeItem.disableSave,type:"button","data-test":"submit-button"},on:{click:function(t){return e.saveItem(null,!e.viewManager.activeItem.canSaveAsDraft&&null)}}},[e._v(e._s(e.buttonText))]),e.viewManager.activeItem.canSaveAsDraft?t("button",{staticClass:"button button-save-secondary",attrs:{disabled:e.saving,type:"button","data-test":"submit-button"},on:{click:function(t){return e.saveItem(null,!0)}}},[e._v("Save as draft")]):e._e()])],2)])}),[],!1,null,"4c93fa6c").exports;const et=t({name:"AccountListItem",props:{item:{type:Object,required:!0},viewManager:{type:Object,required:!0}},computed:{typeClass(){return"free"===this.item.type?"":"badge-"+this.item.type}},methods:{edit(){this.viewManager.setItem(this.item),this.viewManager.showView("edit")},logIn(){let{token:e,email:t}=this.item;m.utils.clearStorage().finally((()=>{localStorage.setItem("token",e),localStorage.setItem("email",t),f.sendCrossTabMessage("reload"),location.reload()}))}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"account"},[t("div",{staticClass:"left"},[t("div",{staticClass:"name",attrs:{title:e.item.email}},[e._v(e._s(e.item.name||e.item.email))]),t("div",{staticClass:"properties"},[t("div",{staticClass:"badge",class:e.typeClass},[e._v(e._s(e.item.type))]),t("div",{staticClass:"badge"},[e._v(e._s(e.item.api))])])]),t("div",{staticClass:"right"},[t("div",{staticClass:"icon-wrapper",on:{click:e.edit}},[t("inline-svg",{staticClass:"icon icon-cog",attrs:{src:D}})],1),t("div",{staticClass:"icon-wrapper",on:{click:e.logIn}},[t("inline-svg",{staticClass:"icon icon-log-in",attrs:{src:L}})],1)])])}),[],!1,null,"6f256dab").exports;const tt=t({name:"ConfirmationOverlay",props:{viewManager:{type:Object,required:!0},heading:{type:String,default:""},subheading:{type:String,default:""},confClass:{type:String,default:""},onProceed:{type:Function,required:!0},onDismiss:{type:Function,default:()=>({})}},created(){this.viewId=this.viewManager.activeViewId,P.registerEventListener(`${this.viewId}:confProceed`,"keyup",13,this.proceed),P.registerEventListener(`${this.viewId}:confDismiss`,"keyup",27,this.dismiss)},destroyed(){P.removeEventListener(`${this.viewId}:confProceed`,"keyup",13),P.removeEventListener(`${this.viewId}:confDismiss`,"keyup",27)},methods:{proceed(){this.onProceed(),this.dismiss()},dismiss(){this.onDismiss(),this.viewManager.clearConfirmationOverlay()}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"confirmation",class:e.confClass,attrs:{"data-test":"conf"}},[t("div",{staticClass:"messages"},[t("h3",[e._v(e._s(e.heading))]),t("div",{staticClass:"subheading"},[e._v(e._s(e.subheading))])]),t("div",{staticClass:"button-row"},[t("button",{staticClass:"button button-confirm",attrs:{"data-test":"conf-yes"},on:{click:e.proceed}},[e._v("Yes")]),t("button",{staticClass:"button button-neutral",attrs:{"data-test":"conf-no"},on:{click:e.dismiss}},[e._v("No")])]),t("div",{staticClass:"overlay"})])}),[],!1,null,"99c0f4b7").exports;const at=t({name:"DefaultHeader",components:{HeaderButtons:t({name:"HeaderButtons",components:{InAppDropdown:t({name:"InAppDropdown",components:{ToggleSwitch:F},props:{options:{type:[Array,Function],required:!0},viewManager:{type:Object,required:!0}},data:()=>({active:!1}),watch:{active(e){e?h((()=>{const e=this.$refs.dropdown,t=e.closest(".app-overflow"),a=function e(t,a,r=0){return t===a?r:e(t.offsetParent,a,r+t.offsetTop)}(e,e.closest(".app-overflow"))+e.clientHeight+21,r=t.clientHeight-a;r<0&&this.viewManager.setForcedAppBodyHeight(t.querySelector(".app-body").clientHeight-r)})):this.viewManager.resetForcedAppBodyHeight()}},destroyed(){this.viewManager.resetForcedAppBodyHeight()},methods:{onOptionClick(e){var t;this.active=!1,e.action(),null==(t=e.capture)||t.call(e)},onToggleInput(e,t){var a;e.object[e.property]=t,null==(a=e.capture)||a.call(e,t)},access:m.utils.access}},(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:()=>e.active=!1,expression:"() => active = false"}],staticClass:"dropdown-wrapper"},[t("div",{staticClass:"icon-wrapper more-toggle",attrs:{"data-test":"more-toggle"},on:{click:function(t){e.active=!e.active}}},[t("inline-svg",{staticClass:"icon icon-ellipsis more-icon",attrs:{src:N}})],1),e.active?t("ul",{ref:"dropdown",staticClass:"dropdown dropdown-list"},e._l(e.access(e.options),(function(a,r){return t("li",{key:r},[a.toggle?t("div",{staticClass:"dropdown-list-item has-toggle",attrs:{"data-test":e.access(a.dataTest)},on:{click:function(t){return e.onToggleInput(a,!a.object[a.property])}}},[t("span",[e._v(e._s(e.access(a.label)))]),t("toggle-switch",{attrs:{value:a.object[a.property]}})],1):t("div",{staticClass:"dropdown-list-item",attrs:{"data-test":e.access(a.dataTest)},on:{click:function(t){return e.onOptionClick(a,t)}}},[e.access(a.icon)?t("inline-svg",{staticClass:"icon dropdown-list-icon",class:e.access(a.iconClass),attrs:{src:e.access(a.icon)}}):e._e(),t("span",[e._v(e._s(e.access(a.label)))])],1)])})),0):e._e()])}),[],!1,null,"f320398d").exports},props:{buttons:{type:Object,required:!0},viewManager:{type:Object,required:!0}},methods:{showViewOrRunCallback(e){"string"==typeof e?this.viewManager.showView(e):"function"==typeof e&&e()}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"buttons"},e._l(e.buttons,(function(a,r){return t("div",{key:r},["back"===r&&["string","function"].includes(typeof a)?t("div",{staticClass:"icon-wrapper go-back",attrs:{"data-test":"back"},on:{click:function(t){return e.showViewOrRunCallback(a)}}},[t("inline-svg",{staticClass:"icon icon-back",attrs:{src:V}})],1):"more"!==r||"function"!=typeof a&&!Array.isArray(a)?t("div",{staticClass:"icon-wrapper",class:a.class,attrs:{"data-test":a.dataTest},on:{click:function(t){return e.showViewOrRunCallback(a.action)}}},[t("inline-svg",{staticClass:"icon",class:a.iconClass,attrs:{src:a.icon}})],1):t("in-app-dropdown",{attrs:{"data-test":a.dataTest,options:a,"view-manager":e.viewManager}})],1)})),0)}),[],!1,null,"385c324e").exports},props:{title:{type:[String,Function],default:""},centerTitle:{type:Boolean,default:!1},icon:{type:[String,Function],default:""},iconClass:{type:[String,Function],default:""},viewManager:{type:Object,required:!0},buttonsRight:{type:[Object,Function],default:null},buttonsLeft:{type:[Object,Function],default:null}},computed:{iconIsSvg(){return this.access(this.icon).includes("data:image/svg+xml")},computedButtonsLeft(){return this.access(this.buttonsLeft)},computedButtonsRight(){return this.access(this.buttonsRight)},computedTitle(){return this.access(this.title)}},methods:{access:m.utils.access}},(function(){var e=this,t=e._self._c;return t("header",{staticClass:"header",class:{"center-title":e.centerTitle}},[e.computedButtonsLeft?t("header-buttons",{staticClass:"header-left",attrs:{buttons:e.computedButtonsLeft,"view-manager":e.viewManager}}):e.centerTitle?t("div",{staticClass:"centering-placeholder"}):e._e(),t("div",{staticClass:"header-center"},[t("transition",{attrs:{name:"fade",duration:"100",mode:"out-in"}},[t("div",{key:e.computedTitle+e.icon,staticClass:"title-wrapper"},[e.access(e.icon)&&e.iconIsSvg?t("inline-svg",{staticClass:"icon app-icon",class:e.access(e.iconClass),attrs:{src:e.access(e.icon)}}):e.access(e.icon)?t("img",{staticClass:"icon app-icon",class:e.iconClass,attrs:{src:e.access(e.icon)}}):e._e(),e.computedTitle?t("div",{staticClass:"title"},[e._v(e._s(e.computedTitle))]):e._e()],1)])],1),e.computedButtonsRight||e.$touch?t("div",{staticClass:"header-right"},[e.computedButtonsRight?t("header-buttons",{attrs:{buttons:e.computedButtonsRight,"view-manager":e.viewManager}}):e._e(),e.$touch?t("span",{staticClass:"mobile-close",on:{click:e.viewManager.closeApp}},[t("span",{staticClass:"icon-wrapper u--mobile-show-bg hide"},[t("inline-svg",{staticClass:"icon icon-hide",attrs:{src:q}})],1)]):e._e()],1):e.centerTitle?t("div",{staticClass:"centering-placeholder"}):e._e()],1)}),[],!1,null,"1164d061").exports;const rt=t({name:"DevPanel",tabs:[{name:"Tools",component:Fe},{name:"Apps",component:z},{name:"Modals",component:Be},{name:"Account Switch",component:t({name:"AccountSwitch",components:{ViewContainer:t({name:"ViewContainer",components:{ConfirmationOverlay:tt,SmoothReflow:B,DefaultHeader:at},props:{viewManager:{type:Object,required:!0},loaded:{type:Boolean,default:!0},transition:{type:[String,Array],default:()=>["smooth-height-slide-left","smooth-height-slide-right"]},smoothReflow:{type:Boolean,default:!0}},data:()=>({lastActiveViewId:"",reverseTransition:!1,disableSmoothReflow:!0,fadeTransition:!0}),computed:{activeViewId(){return this.viewManager.activeViewId},activeView(){return this.viewManager.activeView},transitionType(){let e,t;return Array.isArray(this.transition)?[e,t]=this.transition:"string"==typeof this.transition&&(e=t=this.transition),this.fadeTransition?"smooth-height-fade":this.reverseTransition?t:e},appBodyHeight(){const e=this.viewManager.forcedAppBodyHeight;return e||0===e?e+"px":"auto"}},watch:{loaded:{handler(e){e&&h((()=>this.fadeTransition=!1))},immediate:!0},activeViewId(e,t){if(!t)return;this.lastActiveViewId=t;const a=this.viewManager.views[this.lastActiveViewId],r=this.viewManager.activeView;Object.prototype.hasOwnProperty.call(a,"order")&&Object.prototype.hasOwnProperty.call(r,"order")&&(this.reverseTransition=a.order>r.order),this.viewManager.$emit("viewClosing:"+this.lastActiveViewId)}},created(){this.viewManager&&this.viewManager.$emit("container:created"),B&&setTimeout((()=>this.disableSmoothReflow=!1),200)},destroyed(){this.afterViewLeave(),this.viewManager.resetView()},methods:{afterViewLeave(){this.viewManager&&(this.viewManager.$emit("resolveShowView:"+this.lastActiveViewId),h().then((()=>{this.viewManager.$emit("viewClosed:"+this.lastActiveViewId)})))},beforeViewEnter(){this.viewManager&&this.viewManager.$emit("viewOpening:"+this.activeViewId)},afterViewEnter(){this.viewManager&&this.viewManager.$emit("viewOpened:"+this.activeViewId)}}},(function(){var e=this,t=e._self._c;return t("smooth-reflow",{staticClass:"view-container",attrs:{transition:e.transitionType,disabled:e.disableSmoothReflow,duration:300},on:{beforeEnter:e.beforeViewEnter,afterEnter:e.afterViewEnter,afterLeave:e.afterViewLeave}},[e.loaded?t("div",{key:e.activeViewId,ref:"view",staticClass:"app-overflow",attrs:{"data-test":"view","data-test-view-id":e.activeViewId}},[e._t("header",(function(){return[e.activeView&&e.activeView.header?t(e.activeView.header.component||"DefaultHeader",e._b({tag:"component",staticClass:"app-header",attrs:{"view-manager":e.viewManager,"data-test":"header"}},"component",e.activeView.header,!1)):e._e()]})),t("div",{staticClass:"app-body",style:{height:e.appBodyHeight}},[e._t("body",(function(){return[e.activeView&&e.activeView.header?t(e.activeView.body.component,e._b({tag:"component",staticClass:"view",attrs:{"view-manager":e.viewManager}},"component",e.activeView.body,!1)):e._e()]}))],2),t("transition",{attrs:{duration:200,name:"fade"}},[e.viewManager.confirmationOverlayActive?t("confirmation-overlay",e._b({attrs:{"view-manager":e.viewManager}},"confirmation-overlay",e.viewManager.confirmationOverlayProps,!1)):e._e()],1)],2):t("div",{key:"1",ref:"loading",staticClass:"loading-wrapper"},[t("i",{staticClass:"loading-icon"})])])}),[],!1,null,"f089b76c").exports,EditForm:Je,ItemList:Ge},unreactive:()=>({itemComponent:et,viewManager:new Ve({unreactive(){return{collection:Qe,views:{list:{defaultView:!0},edit:{addView:!0,afterLeave:this.clearItem}}}}})}),computed:{activeViewComponent(){return"list"===this.activeViewId?"item-list":"edit"===this.activeViewId?"edit-form":void 0},isEmpty:()=>!Object.keys(Qe.data.items).length,activeViewId(){return this.viewManager.activeViewId}},methods:{async createLegacyUnregisteredUser(){await m.utils.clearStorage(),localStorage.setObject("momentum-customization-1",{id:1,displayname:"legacy"}),window.location.reload()},download(){const e=JSON.stringify(Object.values(Qe.data.items).map((e=>{const{name:t,type:a,email:r,token:i,api:n,props:s}=e;return{name:t,type:a,email:r,token:i,api:n,props:s}}))),t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","account_switcher_export.ase_json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},restore(e){const t=e.target.files;if(!t[0])return;let a=new FileReader;a.onload=e=>{const t=e.target.result;if(t){JSON.parse(t).forEach((e=>{Qe.add({name:"",type:"",email:"",token:"",api:"",id:"",props:e.props,editProps:e})}))}location.reload()},a.readAsText(t[0])}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"account-switch"},[t("view-container",{attrs:{"view-manager":e.viewManager,"smooth-reflow":!1,transition:"smooth-height-fade"},scopedSlots:e._u([{key:"header",fn:function(){return["list"!==e.activeViewId||e.isEmpty?"edit"===e.activeViewId?t("header",{key:"2",staticClass:"account-header"},[t("div",[e._v(e._s(e.viewManager.adding?"Add":"Edit")+" Account")]),t("div",[e.viewManager.adding?e._e():t("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.viewManager.showDeleteConf()}}},[t("inline-svg",{staticClass:"icon icon-trash",attrs:{src:G}})],1),t("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.viewManager.showView("default")}}},[t("inline-svg",{staticClass:"icon icon-close",attrs:{src:q}})],1)])]):e._e():t("header",{key:"1",staticClass:"account-header"},[t("div",[e._v("Saved Accounts")]),t("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.viewManager.showView("add")}}},[t("inline-svg",{staticClass:"icon icon-add",attrs:{src:R}})],1)])]},proxy:!0},{key:"body",fn:function(){return[t(e.activeViewComponent,{key:e.activeViewId,tag:"component",attrs:{"view-manager":e.viewManager,"item-component":e.itemComponent}})]},proxy:!0}])}),t("div",{staticClass:"button",on:{click:e.createLegacyUnregisteredUser}},[e._v("Legacy Unregistered User")]),t("div",{staticClass:"button",on:{click:e.download}},[e._v("Download")]),e._v(" Restore: "),t("input",{staticClass:"button",attrs:{type:"file",accept:".ase_json"},on:{change:e.restore}})],1)}),[],!1,null,"12a1b45b").exports},{name:"Gradient",component:Le},{name:"Notification",component:Z},{name:"Background",component:Ne}],components:{DevInfo:Q,DevNav:W},data:()=>({show:!0,showDropdown:!1,activeTabId:"Tools"}),computed:{activeTabComponent(){const e=this.$options.tabs.find((e=>this.activeTabId===e.name));return e&&e.component}},watch:{show:{handler(e){e?(document.body.classList.add("showing-dev-panel"),localStorage.setItem("dev-panel:open",!0)):(document.body.classList.remove("showing-dev-panel"),localStorage.removeItem("dev-panel:open")),f.$emit("devPanelToggled",!0),m.devPanelActive=e},immediate:!0}},created(){m.on("globalEvent:ctrlShiftBacktick",this.toggleDevPanel),this.activeTabId=localStorage.getItem("dev-panel:active-tab")||this.activeTabId},destroyed(){m.off("globalEvent:ctrlShiftBacktick",this.toggleDevPanel)},methods:{toggleDevPanel(){this.show=!this.show},goToTab(e){localStorage.setItem("dev-panel:active-tab",e),this.activeTabId=e}}},(function(){var e=this,t=e._self._c;return e.show?t("div",{staticClass:"dev-panel app",on:{mousedown:function(e){e.stopPropagation()},mouseup:function(e){e.stopPropagation()},click:function(e){e.stopPropagation()}}},[t("dev-nav",{attrs:{"active-tab-id":e.activeTabId,tabs:e.$options.tabs,"dropdown-active":e.showDropdown},on:{"update:dropdownActive":function(t){e.showDropdown=t},"update:dropdown-active":function(t){e.showDropdown=t},goToTab:e.goToTab}}),t(e.activeTabComponent,{tag:"component",staticClass:"dev-panel-component",class:{"showing-nav":e.showDropdown},attrs:{"selected-item":e.activeTabId}}),t("dev-info")],1):e._e()}),[],!1,null,"9f8d523b").exports;export{rt as default};
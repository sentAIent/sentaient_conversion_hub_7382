const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/LocationTypeahead-CdpQXTDo.js","assets/js/SoftFocus-BUhesXB-.js","assets/js/SmoothReflow-QsxkeVSi.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/js/useAllComponentsMounted-VdWDSwjD.js","assets/js/dynamic-import-helper-CTnsj-vI.js","assets/js/array-YYQw31d9.js","assets/js/style-D-IRYiWS.js","assets/css/style-6nm_MYpP.css","assets/js/Logger-cMW5At62.js","assets/js/string-BBKP9xfj.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/css/SmoothReflow-DzJ-QC-5.css","assets/css/LocationTypeahead-DXTz2-um.css","assets/js/DetailedInfo-Dj3W2hEw.js","assets/js/BaseIcon-BW2ar6VN.js","assets/css/BaseIcon-CPmL0n7V.css","assets/css/DetailedInfo-BTeRfbeX.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./style-D-IRYiWS.js";import e from"./BaseIcon-BW2ar6VN.js";import{n as o}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{S as s}from"./SmoothReflow-QsxkeVSi.js";import{persistent as a}from"./reactiveCustomization-CEUTOUc3.js";import{w as i}from"./main-CCjoySs_.js";import n from"./AppPopup-D21ZzXTp.js";import{g as r}from"./globalKeyEventManager-C6pBx38h.js";import c from"./AppHeader-A32plZRR.js";import{B as p}from"./BaseDropdown-CB3yfeIu.js";import{B as l}from"./BaseDropdownOption-tB3ldrjh.js";import{T as d}from"./ToggleSwitch-BMo4SbmD.js";import{c as u}from"./dynamic-import-helper-CTnsj-vI.js";import{A as h}from"./AppViewSwitchDynamic-ChSgUDaf.js";import m from"./AppView-BMGOOodE.js";import{A as w}from"./AppActionBanner-79jeS4M3.js";import{b as g}from"./constants-CALDQiUE.js";import{B as y}from"./BaseDropdownDivider-Bay0Demn.js";import{A as f}from"./AppHeaderControl-kJjUFX4q.js";import{a as v}from"./modal-qMFaWR5h.js";import{U as _}from"./enums-1c3kgXdw.js";import"./array-YYQw31d9.js";import"./Logger-cMW5At62.js";import"./string-BBKP9xfj.js";import"./ResizeSensor-ZXOsDHeC.js";import"./useAllComponentsMounted-VdWDSwjD.js";import"./VueBase-C55TLWt3.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./pinia-B4IAWUO-.js";import"./portal-vue.esm-DdddSpdW.js";import"./AppContainer-BFIQ2qhm.js";import"./showAnyway-8ON2gVJd.js";import"./AppDash-Ic_PCFf2.js";import"./constants-BfBD_H-d.js";import"./hideEventsMixin-C3v17jdv.js";import"./useAppToggle-eFKNFaJS.js";import"./ViewState-DH0LvQYq.js";import"./appZStack-Zxx-wHpo.js";import"./icon-close-DRlspKs3.js";import"./BaseDropdownContent-C68ik0op.js";import"./index-998LMmMn.js";import"./icon-ellipsis-D7nTOXaQ.js";import"./appViewSwitchMixin-BsLJ76Hr.js";const C=o({name:"BasicInfo",components:{BaseIcon:e},props:{hourlyForecastShowing:{type:Boolean,required:!0},detailedInfoShowing:{type:Boolean,required:!0},conditions:{type:Object,required:!0},forecastDay:{type:Boolean,required:!0}},computed:{temperature(){return void 0===this.conditions.temperature?this.conditions.high:this.conditions.temperature},apparentTemperature(){return void 0===this.conditions.apparentTemperature?this.conditions.apparentHigh:this.conditions.apparentTemperature}},methods:{toggleOption(t){this.forecastDay||this.$emit(t)}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"basic-info"},[e("div",{staticClass:"current-icon-temp column",class:{active:t.hourlyForecastShowing,"toggle-cursor":!t.forecastDay},attrs:{"data-test":"toggle-hourly-div"},on:{click:function(e){return t.toggleOption("toggle-hourly-forecast")}}},[e("base-icon",{staticClass:"current-icon",attrs:{src:t.conditions.icon,size:"58px"}}),e("div",{staticClass:"current-temp",attrs:{"data-test":"high-temp"}},[t._v(" "+t._s(t.temperature+"°")+" ")]),t.forecastDay&&t.$plus?e("div",{staticClass:"current-temp low"},[t._v(t._s(t.conditions.low+"°"))]):t._e(),t.forecastDay?t._e():e("base-icon",{staticClass:"icon-down",attrs:{src:"icon/down",size:"20px"}})],1),e("div",{staticClass:"current-summary column",class:{active:t.detailedInfoShowing,"toggle-cursor":!t.forecastDay},attrs:{"data-test":"toggle-details-div"},on:{click:function(e){return t.toggleOption("toggle-detailed-info")}}},[e("div",{staticClass:"summary-item"},[e("span",{staticClass:"title"},[t._v("Feels like")]),t._v(" "+t._s(t.apparentTemperature+"°")+" "),t.forecastDay&&t.$plus?e("span",{staticClass:"low"},[t._v(t._s(t.conditions.apparentLow+"°"))]):t._e()]),t.$plus?e("div",{staticClass:"summary-item"},[e("span",{staticClass:"title"},[e("span",{staticClass:"u--mobile-hide"},[t._v("Chance of "+t._s(t.conditions.precipitationChance.type.toLowerCase())+" ")]),e("span",{staticClass:"u--mobile-only-inline"},[t._v(t._s(t.conditions.precipitationChance.type)+" ")])]),t._v(" "+t._s(t.conditions.precipitationChance.chance)+"% ")]):e("div",{staticClass:"summary-item",attrs:{title:"Last 6 Hours"}},[e("span",{staticClass:"title u--mobile-hide"},[t._v("Recent "+t._s(t.conditions.precipitationType.toLowerCase()))]),e("span",{staticClass:"title u--mobile-only-inline"},[t._v(t._s(t.conditions.precipitationType)+" ")]),e("span",[t._v(t._s(t.conditions.precipAmount6Hours))])]),e("div",{staticClass:"summary-item"},[e("span",{staticClass:"title"},[t._v("Wind")]),e("base-icon",{staticClass:"icon-arrow",style:`transform: rotate(${t.conditions.windDirection}deg)`,attrs:{src:"icon-arrow"}}),t._v(" "+t._s(t.conditions.windSpeed)+" ")],1),t.forecastDay?t._e():e("base-icon",{staticClass:"icon-down",attrs:{src:"icon/down",size:"20px"}})],1)])}),[],!1,null,"5b27ecd4").exports;const S=o({name:"ForecastItem",components:{BaseIcon:e},props:{icon:{type:String,required:!0},time:{type:String,required:!0},temperature:{type:Number,required:!0},temperatureSecondary:{type:Number,default:null}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"forecast-item"},[e("div",{staticClass:"forecast-label",attrs:{"data-test":"forecast-label"}},[t._v(t._s(t.time))]),e("base-icon",{staticClass:"forecast-icon",attrs:{src:t.icon,size:"20px"}}),e("div",{staticClass:"forecast-temp"},[e("span",{staticClass:"forecast-temp-high",attrs:{"data-test":"forecast-high"}},[t._v(t._s(t.temperature)+"°")]),t.temperatureSecondary?e("span",{staticClass:"forecast-temp-low"},[t._v(t._s(t.temperatureSecondary)+"°")]):t._e()])],1)}),[],!1,null,"726cfcaf").exports;const D=o({name:"WeatherApp",components:{AppHeaderControl:f,BaseDropdownDivider:y,AppActionBanner:w,AppView:m,ToggleSwitch:d,BaseDropdownOption:l,BaseDropdown:p,BaseIcon:e,AppHeader:c,AppPopup:n,SmoothReflow:s,LocationTypeahead:()=>t((()=>import("./LocationTypeahead-CdpQXTDo.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])),BasicInfo:C,DetailedInfo:()=>t((()=>import("./DetailedInfo-Dj3W2hEw.js")),__vite__mapDeps([14,5,6,7,8,9,10,15,11,16,17])),ForecastItem:S,AppViewSwitchDynamic:h},inject:["viewStateStore","capture"],setup:()=>({settingsDropdown:u(),DropdownOptionSpacing:g}),data:()=>({typeaheadShowing:!1,alertShowing:!1,selectedDay:0}),computed:{loading:()=>i.loading,detailedDay(){return 0===this.selectedDay},conditions:()=>i.conditions,location:()=>i.locationName,noConnection:()=>i.noConnection,activeForecast(){return this.detailedDay?this.conditions.now:this.conditions.days[this.selectedDay]},temperatureUnit:{get:()=>a.temperatureUnit,set(t){a.temperatureUnit=t,this.capture("metrics unit toggle",{new_value:"c"===t})}},hourlyForecastShowing:{get(){return a.weatherHourly&&this.$plus},set(t){a.weatherHourly=t,this.capture("hourly forecast toggle",{new_value:t})}},detailedInfoShowing:{get(){return a.weatherDetail&&this.$plus},set(t){a.weatherDetail=t,this.capture("detailed weather toggle",{new_value:t})}}},watch:{typeaheadShowing(t){t?r.registerEventListener("closeTypeahead","keyup",27,(()=>{this.typeaheadShowing=!1})):r.removeEventListener("closeTypeahead","keyup",27)}},created(){r.registerEventListener("closeApp","keyup",27,this.closeApp)},destroyed(){r.removeEventListener("closeApp","keyup",27)},methods:{refresh(){i.refreshFromServer()},setLocation(t=null){this.typeaheadShowing=!1,this.capture("location change",{automatic:!t}),i.setLocation(t)},selectForecastDay(t){this.selectedDay=t,this.capture("day select")},closeApp(){this.$emit("close")},closeTypeahead(){this.typeaheadShowing=!1},providerClick(){this.capture("provider click",{provider:"Accuweather"})},onHourlyDropdownClick(){this.$plus?this.hourlyForecastShowing=!this.hourlyForecastShowing:v(_.WEATHER,"dash")},onDetailedDropdownClick(){this.$plus?this.detailedInfoShowing=!this.detailedInfoShowing:v(_.WEATHER,"dash")},onUnitsDropdownClick(){this.temperatureUnit="f"!==this.temperatureUnit?"f":"c"},onEditLocationClick(){var t;null==(t=this.settingsDropdown)||t.closeDropdown(),this.typeaheadShowing=!0}}},(function(){var t=this,e=t._self._c;return e("app-popup",{attrs:{position:"bottom-left",width:460,region:"top-right",focused:t.viewStateStore.focused},nativeOn:{click:function(e){return t.viewStateStore.focus()}}},[e("app-view-switch-dynamic",[e("app-view",{staticClass:"weather",class:{"show-alert":t.alertShowing,"show-typeahead":t.typeaheadShowing},scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{on:{close:function(e){return t.closeApp()}},scopedSlots:t._u([{key:"left",fn:function(){var o;return[t.activeForecast?e("base-icon",{staticClass:"app-header-icon",attrs:{src:(null==(o=t.activeForecast)?void 0:o.icon)??"icon/weather/cloud-sun"}}):t._e(),e("span",{staticClass:"app-header-name",attrs:{"data-test":"location-name-day"}},[t._v(t._s(t.location)+" "),e("span",{attrs:{"data-test":"location-day"}},[t._v(t._s(t.activeForecast.day))]),t._v(" Weather")]),t.loading?e("i",{staticClass:"loading-icon"}):t._e()]},proxy:!0},{key:"right",fn:function(){return[e("app-header-control",{attrs:{"data-test":"edit-icon"},on:{click:t.onEditLocationClick}},[e("base-icon",{attrs:{src:"icon/location/map-pin"}})],1),e("base-dropdown",{ref:"settingsDropdown",attrs:{"min-width":"200px","data-test":"more"}},[e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between,"data-test":"toggle-hourly"},on:{click:t.onHourlyDropdownClick}},[e("span",[t._v("Hourly Forecast "),t.$plus?t._e():e("span",{staticClass:"badge badge-plus"},[t._v("PLUS")])]),e("span",{staticClass:"toggle-right"},[e("toggle-switch",{attrs:{value:t.hourlyForecastShowing}})],1)]),e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between,"data-test":"toggle-details"},on:{click:t.onDetailedDropdownClick}},[e("span",[t._v("Detailed Info "),t.$plus?t._e():e("span",{staticClass:"badge badge-plus"},[t._v("PLUS")])]),e("span",{staticClass:"toggle-right"},[e("toggle-switch",{attrs:{value:t.detailedInfoShowing}})],1)]),e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between,"data-test":"toggle-metrics"},on:{click:t.onUnitsDropdownClick}},[e("span",[t._v("Metric Units")]),e("span",{staticClass:"toggle-right"},[e("toggle-switch",{attrs:{value:"f"!==t.temperatureUnit}})],1)]),e("base-dropdown-divider"),e("base-dropdown-option",{attrs:{"data-test":"edit-dropdown"},on:{click:t.onEditLocationClick}},[e("base-icon",{attrs:{src:"icon/location/map-pin"}}),e("span",[t._v("Change Location")])],1)],1)]},proxy:!0}])}),t.conditions?t._e():e("app-action-banner",{attrs:{"action-text":"Retry",text:"Looks like you're offline. Weather info will resume when you're reconnected."},on:{action:t.refresh}}),t.noConnection?e("app-action-banner",{attrs:{"action-text":"Retry",text:"Weather info will update when you reconnect."},on:{action:t.refresh}}):t._e()]},proxy:!0},{key:"body",fn:function(){return[t.activeForecast?e("div",{staticClass:"conditions"},[t._v(t._s(t.activeForecast.condition))]):t._e(),e("div",{staticClass:"basic-weather section"},[t.activeForecast?e("basic-info",{attrs:{conditions:t.activeForecast,"forecast-day":!t.detailedDay||!t.$plus,"hourly-forecast-showing":t.hourlyForecastShowing,"detailed-info-showing":t.detailedInfoShowing},on:{"toggle-hourly-forecast":function(e){t.hourlyForecastShowing=!t.hourlyForecastShowing},"toggle-detailed-info":function(e){t.detailedInfoShowing=!t.detailedInfoShowing}}}):t._e()],1),e("smooth-reflow",{attrs:{nested:!0,duration:350,"hide-overflow":!0}},[t.hourlyForecastShowing&&t.conditions&&t.detailedDay?e("div",{staticClass:"hourly-forecast section",attrs:{"data-test":"weather-hourly"}},t._l(t.conditions.hours,(function(t,o){return e("forecast-item",{key:o,attrs:{time:t.hour,icon:t.icon,temperature:t.temperature}})})),1):t._e()]),e("smooth-reflow",{attrs:{nested:!0,duration:350,"hide-overflow":!0}},[t.detailedInfoShowing&&t.activeForecast&&t.detailedDay?e("div",{staticClass:"detailed-weather section",attrs:{"data-test":"weather-details"}},[e("detailed-info",{attrs:{forecast:t.activeForecast}})],1):t._e()]),t.conditions&&t.$plus?e("div",{staticClass:"daily-forecast section"},t._l(t.conditions.days,(function(o,s){return e("forecast-item",{key:s,staticClass:"has-action",class:{selected:s===t.selectedDay},attrs:{time:o.day.slice(0,3),icon:o.icon,temperature:o.high,"temperature-secondary":o.low,"data-test":"forecast-day"},nativeOn:{click:function(e){return t.selectForecastDay(s)}}})})),1):t._e(),e("div",{staticClass:"source section"},[t.activeForecast.link?e("a",{staticClass:"source-link has-action",attrs:{href:t.activeForecast.link,target:"_blank"},on:{click:t.providerClick}},[t._v(" "+t._s(t.$plus?"More weather info →":"Current conditions and 7-day forecast →")+" "),e("base-icon",{staticClass:"icon-external",attrs:{src:"square-arrow-out-up-right",size:"10px"}})],1):t._e(),e("img",{staticClass:"source-logo",attrs:{src:"/assets/png/logo-accuweather-BrOG6cnu.png"}})])]},proxy:!0},{key:"confirm",fn:function(){return[t.typeaheadShowing?e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeTypeahead,expression:"closeTypeahead"}],staticClass:"weather-typeahead",attrs:{"data-test":"typeahead"}},[e("location-typeahead",{attrs:{type:"location"},on:{input:t.setLocation}},[e("div",{staticClass:"input-icons"},[e("div",{staticClass:"icon-wrapper",on:{click:function(e){return t.setLocation(null,!1)}}},[e("base-icon",{attrs:{src:"icon-weather-reset",size:"14px"}})],1),e("div",{staticClass:"icon-wrapper",attrs:{"data-test":"clear-icon"},on:{click:t.closeTypeahead}},[e("base-icon",{attrs:{src:"icon-close",size:"12px"}})],1)])])],1):t._e()]},proxy:!0}])})],1)],1)}),[],!1,null,"63966118").exports;export{D as default};